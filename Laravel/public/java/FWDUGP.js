if(function(t){var a=function(){};a.dumy=document.createElement("div"),a.trim=function(t){return t.replace(/\s/gi,"")},a.splitAndTrim=function(t,e){for(var i=t.split(","),s=i.length,o=0;o<s;o++)e&&(i[o]=a.trim(i[o]));return i},a.indexOfArray=function(t,e){for(var i=t.length,s=0;s<i;s++)if(t[s]===e)return s;return-1},a.randomizeArray=function(t){for(var e=[],i=t.concat(),s=i.length,o=0;o<s;o++){var a=Math.floor(Math.random()*i.length);e.push(i[a]),i.splice(a,1)}return e},a.removeArrayDuplicates=function(t,e){var i,s,o,a=[],n=t.length;for(s=0;s<n;s++){for(i=void 0,o=0;o<a.length;o++)if(t[s][e]===a[o][e]){i=!0;break}i||a.push(t[s])}return a},a.parent=function(t,e){for(void 0===e&&(e=1);e--&&t;)t=t.parentNode;return t&&1===t.nodeType?t:null},a.sibling=function(t,e){for(;t&&0!==e;)if(0<e){if(t.nextElementSibling)t=t.nextElementSibling;else for(t=t.nextSibling;t&&1!==t.nodeType;t=t.nextSibling);e--}else{if(t.previousElementSibling)t=t.previousElementSibling;else for(t=t.previousSibling;t&&1!==t.nodeType;t=t.previousSibling);e++}return t},a.getChildAt=function(t,e){var i=a.getChildren(t);return e<0&&(e+=i.length),e<0?null:i[e]},a.getChildById=function(t){return document.getElementById(t)||void 0},a.getChildren=function(t,e){for(var i=[],s=t.firstChild;null!=s;s=s.nextSibling)e?i.push(s):1===s.nodeType&&i.push(s);return i},a.getChildrenFromAttribute=function(t,e,i){for(var s=[],o=t.firstChild;null!=o;o=o.nextSibling)i&&a.hasAttribute(o,e)?s.push(o):1===o.nodeType&&a.hasAttribute(o,e)&&s.push(o);return 0==s.length?void 0:s},a.getChildFromNodeListFromAttribute=function(t,e,i){for(var s=t.firstChild;null!=s;s=s.nextSibling){if(i&&a.hasAttribute(s,e))return s;if(1===s.nodeType&&a.hasAttribute(s,e))return s}},a.getAttributeValue=function(t,e){if(a.hasAttribute(t,e))return t.getAttribute(e)},a.hasAttribute=function(t,e){return t.hasAttribute?t.hasAttribute(e):!!t.getAttribute(e)},a.insertNodeAt=function(t,e,i){var s=a.children(t);if(i<0||i>s.length)throw new Error("invalid index!");t.insertBefore(e,s[i])},a.hasCanvas=function(){return Boolean(document.createElement("canvas"))},a.hitTest=function(t,e,i){if(!t)throw Error("Hit test target is null!");var s=t.getBoundingClientRect();return e>=s.left&&e<=s.left+(s.right-s.left)&&i>=s.top&&i<=s.top+(s.bottom-s.top)},a.getScrollOffsets=function(){return null!=t.pageXOffset?{x:t.pageXOffset,y:t.pageYOffset}:"CSS1Compat"==document.compatMode?{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}:void 0},a.getViewportSize=function(){return a.hasPointerEvent&&1<navigator.msMaxTouchPoints?{w:document.documentElement.clientWidth||t.innerWidth,h:document.documentElement.clientHeight||t.innerHeight}:a.isMobile?{w:t.innerWidth,h:t.innerHeight}:{w:document.documentElement.clientWidth||t.innerWidth,h:document.documentElement.clientHeight||t.innerHeight}},a.getViewportMouseCoordinates=function(t){var e=a.getScrollOffsets();return t.touches?{screenX:null==t.touches[0]?t.touches.pageX-e.x:t.touches[0].pageX-e.x,screenY:null==t.touches[0]?t.touches.pageY-e.y:t.touches[0].pageY-e.y}:{screenX:null==t.clientX?t.pageX-e.x:t.clientX,screenY:null==t.clientY?t.pageY-e.y:t.clientY}},a.hasPointerEvent=Boolean(t.navigator.msPointerEnabled)||Boolean(t.navigator.pointerEnabled),a.isMobile=function(){if(a.hasPointerEvent&&1<navigator.msMaxTouchPoints||a.hasPointerEvent&&1<navigator.maxTouchPoints)return!0;var t=["android","webos","iphone","ipad","blackberry","kfsowi"];for(i in t)if(-1!=String(navigator.userAgent).toLowerCase().indexOf(String(t[i]).toLowerCase()))return!0;return!1}(),a.isAndroid=-1!=navigator.userAgent.toLowerCase().indexOf("android".toLowerCase()),a.isChrome=-1!=navigator.userAgent.toLowerCase().indexOf("chrome"),a.isSafari=-1!=navigator.userAgent.toLowerCase().indexOf("safari")&&-1==navigator.userAgent.toLowerCase().indexOf("chrome"),a.isOpera=-1!=navigator.userAgent.toLowerCase().indexOf("opera")&&-1==navigator.userAgent.toLowerCase().indexOf("chrome"),a.isFirefox=-1!=navigator.userAgent.toLowerCase().indexOf("firefox"),a.isIE=Boolean(-1!=navigator.userAgent.toLowerCase().indexOf("msie"))||Boolean(-1!=navigator.userAgent.toLowerCase().indexOf("edge"))||Boolean(document.documentElement.msRequestFullscreen),a.isIE11=Boolean(!a.isIE&&document.documentElement.msRequestFullscreen),a.isIEAndLessThen9=-1!=navigator.userAgent.toLowerCase().indexOf("msie 7")||-1!=navigator.userAgent.toLowerCase().indexOf("msie 8"),a.isIEAndLessThen10=-1!=navigator.userAgent.toLowerCase().indexOf("msie 7")||-1!=navigator.userAgent.toLowerCase().indexOf("msie 8")||-1!=navigator.userAgent.toLowerCase().indexOf("msie 9"),a.isIE7=-1!=navigator.userAgent.toLowerCase().indexOf("msie 7"),a.isIOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g),a.isIphone=navigator.userAgent.match(/(iPhone|iPod)/g),a.isApple=-1!=navigator.appVersion.toLowerCase().indexOf("mac"),a.isLocal=-1!=location.href.indexOf("file:"),a.hasFullScreen=a.dumy.requestFullScreen||a.dumy.mozRequestFullScreen||a.dumy.webkitRequestFullScreen||a.dumy.msieRequestFullScreen,a.onReady=function(t){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){a.checkIfHasTransofrms(),t()}):document.onreadystatechange=function(){a.checkIfHasTransofrms(),"complete"==document.readyState&&t()}},a.checkIfHasTransofrms=function(){document.documentElement.appendChild(a.dumy),a.hasTransform3d=function(){for(var t,e,i=["transform","msTransform","WebkitTransform","MozTransform","OTransform","KhtmlTransform"];t=i.shift();)if(void 0!==a.dumy.style[t]&&(a.dumy.style.position="absolute",e=a.dumy.getBoundingClientRect().left,a.dumy.style[t]="translate3d(500px, 0px, 0px)",100<(e=Math.abs(a.dumy.getBoundingClientRect().left-e))&&e<900)){try{document.documentElement.removeChild(a.dumy)}catch(t){}return!0}try{document.documentElement.removeChild(a.dumy)}catch(t){}return!1}(),a.hasTransform2d=function(){for(var t,e=["transform","msTransform","WebkitTransform","MozTransform","OTransform","KhtmlTransform"];t=e.shift();)if(void 0!==a.dumy.style[t])return!0;try{document.documentElement.removeChild(a.dumy)}catch(t){}return!1}(),a.isReadyMethodCalled_bl=!0},a.disableElementSelection=function(t){try{t.style.userSelect="none"}catch(t){}try{t.style.MozUserSelect="none"}catch(t){}try{t.style.webkitUserSelect="none"}catch(t){}try{t.style.khtmlUserSelect="none"}catch(t){}try{t.style.oUserSelect="none"}catch(t){}try{t.style.msUserSelect="none"}catch(t){}try{t.msUserSelect="none"}catch(t){}t.onselectstart=function(){return!1}},a.getSearchArgs=function(t){for(var e={},i=(t.substr(t.indexOf("?")+1)||location.search.substring(1)).split("&"),s=0;s<i.length;s++){var o=i[s].indexOf("="),a=i[s].substring(0,o),n=i[s].substring(o+1);n=decodeURIComponent(n),e[a]=n}return e},a.getHashArgs=function(t){for(var e={},i=(t.substr(t.indexOf("#")+1)||location.hash.substring(1)).split("&"),s=0;s<i.length;s++){var o=i[s].indexOf("="),a=i[s].substring(0,o),n=i[s].substring(o+1);n=decodeURIComponent(n),e[a]=n}return e},a.isReadyMethodCalled_bl=!1,t.FWDRLUtils=a}(window),!window.FWDAnimation){var _fwd_gsScope="undefined"!=typeof fwd_module&&fwd_module.exports&&"undefined"!=typeof fwd_global?fwd_global:this||window;(_fwd_gsScope._fwd_gsQueue||(_fwd_gsScope._fwd_gsQueue=[])).push(function(){"use strict";var w,y,T,D,p,i,g,B,S,v,_,m,f,t,e,l,s;_fwd_gsScope.FWDFWD_gsDefine("FWDAnimation",["core.FWDAnim","core.FWDSimpleTimeline","FWDTweenLite"],function(s,h,f){var p=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},g=function(t,e,i){var s,o,a=t.cycle;for(s in a)o=a[s],t[s]="function"==typeof o?o(i,e[i]):o[i%o.length];delete t.cycle},S=function(t,e,i){f.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=S.prototype.render},v=1e-10,y=f._internals,T=y.isSelector,w=y.isArray,t=S.prototype=f.to({},.1,{}),D=[];S.version="1.19.0",t.constructor=S,t.kill()._gc=!1,S.killTweensOf=S.killDelayedCallsTo=f.killTweensOf,S.getTweensOf=f.getTweensOf,S.lagSmoothing=f.lagSmoothing,S.ticker=f.ticker,S.render=f.render,t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),f.prototype.invalidate.call(this)},t.updateTo=function(t,e){var i,s=this.ratio,o=this.vars.immediateRender||t.immediateRender;for(i in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&f._onPluginEvent("_onDisable",this),.998<this._time/this._duration){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),0<this._time||o)for(var n,r=1/(1-s),l=this._firstPT;l;)n=l.s+l.c,l.c*=r,l.s=n-l.c,l=l._next;return this},t.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var s,o,a,n,r,l,d,h,u=this._dirty?this.totalDuration():this._totalDuration,c=this._time,_=this._totalTime,m=this._cycle,b=this._duration,f=this._rawPrevTime;if(u-1e-7<=t?(this._totalTime=u,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=b,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(s=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===b&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(f<0||t<=0&&-1e-7<=t||f===v&&"isPause"!==this.data)&&f!==t&&(i=!0,v<f&&(o="onReverseComplete")),this._rawPrevTime=h=!e||t||f===t?t:v)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==_||0===b&&0<f)&&(o="onReverseComplete",s=this._reversed),t<0&&(this._active=!1,0===b&&(this._initted||!this.vars.lazy||i)&&(0<=f&&(i=!0),this._rawPrevTime=h=!e||t||f===t?t:v)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(n=b+this._repeatDelay,this._cycle=this._totalTime/n>>0,0!==this._cycle&&this._cycle===this._totalTime/n&&_<=t&&this._cycle--,this._time=this._totalTime-this._cycle*n,this._yoyo&&0!=(1&this._cycle)&&(this._time=b-this._time),this._time>b?this._time=b:this._time<0&&(this._time=0)),this._easeType?(r=this._time/b,(1===(l=this._easeType)||3===l&&.5<=r)&&(r=1-r),3===l&&(r*=2),1===(d=this._easePower)?r*=r:2===d?r*=r*r:3===d?r*=r*r*r:4===d&&(r*=r*r*r*r),1===l?this.ratio=1-r:2===l?this.ratio=r:this._time/b<.5?this.ratio=r/2:this.ratio=1-r/2):this.ratio=this._ease.getRatio(this._time/b)),c!==this._time||i||m!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=c,this._totalTime=_,this._rawPrevTime=f,this._cycle=m,y.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/b):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==c&&0<=t&&(this._active=!0),0===_&&(2===this._initted&&0<t&&this._init(),this._startAt&&(0<=t?this._startAt.render(t,e,i):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==b||e||this._callback("onStart"))),a=this._firstPT;a;){if(a.f)a.t[a.p](a.c*this.ratio+a.s);else{var p=a.c*this.ratio+a.s;"x"==a.p?a.t.setX(p):"y"==a.p?a.t.setY(p):"z"==a.p?a.t.setZ(p):"angleX"==a.p?a.t.setAngleX(p):"angleY"==a.p?a.t.setAngleY(p):"angleZ"==a.p?a.t.setAngleZ(p):"w"==a.p?a.t.setWidth(p):"h"==a.p?a.t.setHeight(p):"alpha"==a.p?a.t.setAlpha(p):"scale"==a.p?a.t.setScale2(p):a.t[a.p]=p}a=a._next}this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==_||o)&&this._callback("onUpdate")),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===b&&this._rawPrevTime===v&&h!==v&&(this._rawPrevTime=0)))}else _!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},S.to=function(t,e,i){return new S(t,e,i)},S.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new S(t,e,i)},S.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new S(t,e,s)},S.staggerTo=S.allTo=function(t,e,i,s,o,a,n){s=s||0;var r,l,d,h,u=0,c=[],_=function(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),o.apply(n||i.callbackScope||this,a||D)},m=i.cycle,b=i.startAt&&i.startAt.cycle;for(w(t)||("string"==typeof t&&(t=f.selector(t)||t),T(t)&&(t=p(t))),t=t||[],s<0&&((t=p(t)).reverse(),s*=-1),r=t.length-1,d=0;d<=r;d++){for(h in l={},i)l[h]=i[h];if(m&&(g(l,t,d),null!=l.duration&&(e=l.duration,delete l.duration)),b){for(h in b=l.startAt={},i.startAt)b[h]=i.startAt[h];g(l.startAt,t,d)}l.delay=u+(l.delay||0),d===r&&o&&(l.onComplete=_),c[d]=new S(t[d],e,l),u+=s}return c},S.staggerFrom=S.allFrom=function(t,e,i,s,o,a,n){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,S.staggerTo(t,e,i,s,o,a,n)},S.staggerFromTo=S.allFromTo=function(t,e,i,s,o,a,n,r){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,S.staggerTo(t,e,s,o,a,n,r)},S.delayedCall=function(t,e,i,s,o){return new S(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:o,overwrite:0})},S.set=function(t,e){return new S(t,0,e)},S.isTweening=function(t){return 0<f.getTweensOf(t,!0).length};var a=function(t,e){for(var i=[],s=0,o=t._first;o;)o instanceof f?i[s++]=o:(e&&(i[s++]=o),s=(i=i.concat(a(o,e))).length),o=o._next;return i},u=S.getAllTweens=function(t){return a(s._rootTimeline,t).concat(a(s._rootFramesTimeline,t))};S.killAll=function(t,e,i,s){null==e&&(e=!0),null==i&&(i=!0);var o,a,n,r=u(0!=s),l=r.length,d=e&&i&&s;for(n=0;n<l;n++)a=r[n],(d||a instanceof h||(o=a.target===a.vars.onComplete)&&i||e&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},S.killChildTweensOf=function(t,e){if(null!=t){var i,s,o,a,n,r=y.tweenLookup;if("string"==typeof t&&(t=f.selector(t)||t),T(t)&&(t=p(t)),w(t))for(a=t.length;-1<--a;)S.killChildTweensOf(t[a],e);else{for(o in i=[],r)for(s=r[o].target.parentNode;s;)s===t&&(i=i.concat(r[o].tweens)),s=s.parentNode;for(n=i.length,a=0;a<n;a++)e&&i[a].totalTime(i[a].totalDuration()),i[a]._enabled(!1,!1)}}};var o=function(t,e,i,s){e=!1!==e,i=!1!==i;for(var o,a,n=u(s=!1!==s),r=e&&i&&s,l=n.length;-1<--l;)a=n[l],(r||a instanceof h||(o=a.target===a.vars.onComplete)&&i||e&&!o)&&a.paused(t)};return S.pauseAll=function(t,e,i){o(!0,t,e,i)},S.resumeAll=function(t,e,i){o(!1,t,e,i)},S.globalTimeScale=function(t){var e=s._rootTimeline,i=f.ticker.time;return arguments.length?(t=t||v,e._startTime=i-(i-e._startTime)*e._timeScale/t,e=s._rootFramesTimeline,i=f.ticker.frame,e._startTime=i-(i-e._startTime)*e._timeScale/t,e._timeScale=s._rootTimeline._timeScale=t,t):e._timeScale},t.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.duration=function(t){return arguments.length?s.prototype.duration.call(this,t):this._duration},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},S},!0),_fwd_gsScope.FWDFWD_gsDefine("FWDTimelineLite",["core.FWDAnim","core.FWDSimpleTimeline","FWDTweenLite"],function(h,u,c){var _=function(t){u.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,i,s=this.vars;for(i in s)e=s[i],f(e)&&-1!==e.join("").indexOf("{self}")&&(s[i]=this._swapSelfInParams(e));f(s.tweens)&&this.add(s.tweens,0,s.align,s.stagger)},b=1e-10,t=c._internals,e=_._internals={},m=t.isSelector,f=t.isArray,p=t.lazyTweens,g=t.lazyRender,n=_fwd_gsScope.FWDFWD_gsDefine.globals,S=function(t){var e,i={};for(e in t)i[e]=t[e];return i},v=function(t,e,i){var s,o,a=t.cycle;for(s in a)o=a[s],t[s]="function"==typeof o?o.call(e[i],i):o[i%o.length];delete t.cycle},a=e.pauseCallback=function(){},y=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},i=_.prototype=new u;return _.version="1.19.0",i.constructor=_,i.kill()._gc=i._forcingPlayhead=i._hasPause=!1,i.to=function(t,e,i,s){var o=i.repeat&&n.FWDAnimation||c;return e?this.add(new o(t,e,i),s):this.set(t,i,s)},i.from=function(t,e,i,s){return this.add((i.repeat&&n.FWDAnimation||c).from(t,e,i),s)},i.fromTo=function(t,e,i,s,o){var a=s.repeat&&n.FWDAnimation||c;return e?this.add(a.fromTo(t,e,i,s),o):this.set(t,s,o)},i.staggerTo=function(t,e,i,s,o,a,n,r){var l,d,h=new _({onComplete:a,onCompleteParams:n,callbackScope:r,smoothChildTiming:this.smoothChildTiming}),u=i.cycle;for("string"==typeof t&&(t=c.selector(t)||t),m(t=t||[])&&(t=y(t)),(s=s||0)<0&&((t=y(t)).reverse(),s*=-1),d=0;d<t.length;d++)(l=S(i)).startAt&&(l.startAt=S(l.startAt),l.startAt.cycle&&v(l.startAt,t,d)),u&&(v(l,t,d),null!=l.duration&&(e=l.duration,delete l.duration)),h.to(t[d],e,l,d*s);return this.add(h,o)},i.staggerFrom=function(t,e,i,s,o,a,n,r){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,o,a,n,r)},i.staggerFromTo=function(t,e,i,s,o,a,n,r,l){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,o,a,n,r,l)},i.call=function(t,e,i,s){return this.add(c.delayedCall(0,t,e,i),s)},i.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new c(t,0,e),i)},_.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,s,o=new _(t),a=o._timeline;for(null==e&&(e=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,i=a._first;i;)s=i._next,e&&i instanceof c&&i.target===i.vars.onComplete||o.add(i,i._startTime-i._delay),i=s;return a.add(o,0),o},i.add=function(t,e,i,s){var o,a,n,r,l,d;if("number"!=typeof e&&(e=this._parseTimeOrLabel(e,0,!0,t)),!(t instanceof h)){if(t instanceof Array||t&&t.push&&f(t)){for(i=i||"normal",s=s||0,o=e,a=t.length,n=0;n<a;n++)f(r=t[n])&&(r=new _({tweens:r})),this.add(r,o),"string"!=typeof r&&"function"!=typeof r&&("sequence"===i?o=r._startTime+r.totalDuration()/r._timeScale:"start"===i&&(r._startTime-=r.delay())),o+=s;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=c.delayedCall(0,t)}if(u.prototype.add.call(this,t,e),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=(l=this).rawTime()>t._startTime;l._timeline;)d&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return this},i.remove=function(t){if(t instanceof h){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?h._rootFramesTimeline:h._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&f(t)){for(var i=t.length;-1<--i;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},i._remove=function(t,e){u.prototype._remove.call(this,t,e);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},i.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},i.insert=i.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},i.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},i.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},i.addPause=function(t,e,i,s){var o=c.delayedCall(0,a,i,s||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},i.removeLabel=function(t){return delete this._labels[t],this},i.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},i._parseTimeOrLabel=function(t,e,i,s){var o;if(s instanceof h&&s.timeline===this)this.remove(s);else if(s&&(s instanceof Array||s.push&&f(s)))for(o=s.length;-1<--o;)s[o]instanceof h&&s[o].timeline===this&&this.remove(s[o]);if("string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-this.duration():0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(o=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=this.duration()+e:e:this._labels[t]+e;e=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=1<o?this._parseTimeOrLabel(t.substr(0,o-1),0,i):this.duration()}return Number(t)+e},i.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(t,e){return this.play(t,e)},i.gotoAndStop=function(t,e){return this.pause(t,e)},i.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,o,a,n,r,l,d,h=this._dirty?this.totalDuration():this._totalDuration,u=this._time,c=this._startTime,_=this._timeScale,m=this._paused;if(h-1e-7<=t)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(o=!0,n="onComplete",r=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||this._rawPrevTime<0||this._rawPrevTime===b)&&this._rawPrevTime!==t&&this._first&&(r=!0,this._rawPrevTime>b&&(n="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:b,t=h+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==u||0===this._duration&&this._rawPrevTime!==b&&(0<this._rawPrevTime||t<0&&0<=this._rawPrevTime))&&(n="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(r=o=!0,n="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(r=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:b,0===t&&o)for(s=this._first;s&&0===s._startTime;)s._duration||(o=!1),s=s._next;t=0,this._initted||(r=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(u<=t)for(s=this._first;s&&s._startTime<=t&&!l;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(l=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!l;)s._duration||"isPause"===s.data&&0<s._rawPrevTime&&(l=s),s=s._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==u&&this._first||i||r||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==u&&0<t&&(this._active=!0),0===u&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),u<=(d=this._time))for(s=this._first;s&&(a=s._next,d===this._time&&(!this._paused||m));)(s._active||s._startTime<=d&&!s._paused&&!s._gc)&&(l===s&&this.pause(),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,d===this._time&&(!this._paused||m));){if(s._active||s._startTime<=u&&!s._paused&&!s._gc){if(l===s){for(l=s._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)}s=a}this._onUpdate&&(e||(p.length&&g(),this._callback("onUpdate"))),n&&(this._gc||c!==this._startTime&&_===this._timeScale||(0===this._time||h>=this.totalDuration())&&(o&&(p.length&&g(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n)))}},i._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof _&&t._hasPausedChild())return!0;t=t._next}return!1},i.getChildren=function(t,e,i,s){s=s||-9999999999;for(var o=[],a=this._first,n=0;a;)a._startTime<s||(a instanceof c?!1!==e&&(o[n++]=a):(!1!==i&&(o[n++]=a),!1!==t&&(n=(o=o.concat(a.getChildren(!0,e,i))).length))),a=a._next;return o},i.getTweensOf=function(t,e){var i,s,o=this._gc,a=[],n=0;for(o&&this._enabled(!0,!0),s=(i=c.getTweensOf(t)).length;-1<--s;)(i[s].timeline===this||e&&this._contains(i[s]))&&(a[n++]=i[s]);return o&&this._enabled(!1,!0),a},i.recent=function(){return this._recent},i._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},i.shiftChildren=function(t,e,i){i=i||0;for(var s,o=this._first,a=this._labels;o;)o._startTime>=i&&(o._startTime+=t),o=o._next;if(e)for(s in a)a[s]>=i&&(a[s]+=t);return this._uncache(!0)},i._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,o=!1;-1<--s;)i[s]._kill(t,e)&&(o=!0);return o},i.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return h.prototype.invalidate.call(this)},i._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return u.prototype._enabled.call(this,t,e)},i.totalTime=function(t,e,i){this._forcingPlayhead=!0;var s=h.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,s},i.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,o=this._last,a=999999999999;o;)e=o._prev,o._dirty&&o.totalDuration(),o._startTime>a&&this._sortChildren&&!o._paused?this.add(o,o._startTime-o._delay):a=o._startTime,o._startTime<0&&!o._paused&&(s-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale),this.shiftChildren(-o._startTime,!1,-9999999999),a=0),s<(i=o._startTime+o._totalDuration/o._timeScale)&&(s=i),o=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},i.paused=function(t){if(!t)for(var e=this._first,i=this._time;e;)e._startTime===i&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return h.prototype.paused.apply(this,arguments)},i.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===h._rootFramesTimeline},i.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},_},!0),_fwd_gsScope.FWDFWD_gsDefine("TimelineMax",["FWDTimelineLite","FWDTweenLite","easing.Ease"],function(e,r,t){var i=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},L=1e-10,s=r._internals,M=s.lazyTweens,P=s.lazyRender,l=_fwd_gsScope.FWDFWD_gsDefine.globals,d=new t(null,null,1,0),o=i.prototype=new e;return o.constructor=i,o.kill()._gc=!1,i.version="1.19.0",o.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},o.addCallback=function(t,e,i,s){return this.add(r.delayedCall(0,t,i,s),e)},o.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),s=i.length,o=this._parseTimeOrLabel(e);-1<--s;)i[s]._startTime===o&&i[s]._enabled(!1,!1);return this},o.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},o.tweenTo=function(t,e){e=e||{};var i,s,o,a={ease:d,useFrames:this.usesFrames(),immediateRender:!1},n=e.repeat&&l.FWDAnimation||r;for(s in e)a[s]=e[s];return a.time=this._parseTimeOrLabel(t),i=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new n(this,i,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&i===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),e.onStart&&o._callback("onStart")},o},o.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var s=this.tweenTo(e,i);return s.duration(Math.abs(s.vars.time-t)/this._timeScale||.001)},o.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,o,a,n,r,l,d,h,u=this._dirty?this.totalDuration():this._totalDuration,c=this._duration,_=this._time,m=this._totalTime,b=this._startTime,f=this._timeScale,p=this._rawPrevTime,g=this._paused,S=this._cycle;if(u-1e-7<=t)this._locked||(this._totalTime=u,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,n="onComplete",r=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||p<0||p===L)&&p!==t&&this._first&&(r=!0,L<p&&(n="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:L,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:t=(this._time=c)+1e-4;else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),((this._time=0)!==_||0===c&&p!==L&&(0<p||t<0&&0<=p)&&!this._locked)&&(n="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(r=o=!0,n="onReverseComplete"):0<=p&&this._first&&(r=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=c||!e||t||this._rawPrevTime===t?t:L,0===t&&o)for(s=this._first;s&&0===s._startTime;)s._duration||(o=!1),s=s._next;t=0,this._initted||(r=!0)}else if(0===c&&p<0&&(r=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(l=c+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=c-this._time),this._time>c?t=(this._time=c)+1e-4:this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(_<=(t=this._time))for(s=this._first;s&&s._startTime<=t&&!d;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(d=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!d;)s._duration||"isPause"===s.data&&0<s._rawPrevTime&&(d=s),s=s._prev;d&&(this._time=t=d._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==S&&!this._locked){var v=this._yoyo&&0!=(1&S),y=v===(this._yoyo&&0!=(1&this._cycle)),T=this._totalTime,w=this._cycle,D=this._rawPrevTime,B=this._time;if(this._totalTime=S*c,this._cycle<S?v=!v:this._totalTime+=c,this._time=_,this._rawPrevTime=0===c?p-1e-4:p,this._cycle=S,this._locked=!0,_=v?0:c,this.render(_,e,0===c),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),_!==this._time)return;if(y&&(_=v?c+1e-4:-1e-4,this.render(_,!0,!1)),this._locked=!1,this._paused&&!g)return;this._time=B,this._totalTime=T,this._cycle=w,this._rawPrevTime=D}if(this._time!==_&&this._first||i||r||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&0<t&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),_<=(h=this._time))for(s=this._first;s&&(a=s._next,h===this._time&&(!this._paused||g));)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(d===s&&this.pause(),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,h===this._time&&(!this._paused||g));){if(s._active||s._startTime<=_&&!s._paused&&!s._gc){if(d===s){for(d=s._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(t-d._startTime)*d._timeScale:(t-d._startTime)*d._timeScale,e,i),d=d._prev;d=null,this.pause()}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)}s=a}this._onUpdate&&(e||(M.length&&P(),this._callback("onUpdate"))),n&&(this._locked||this._gc||b!==this._startTime&&f===this._timeScale||(0===this._time||u>=this.totalDuration())&&(o&&(M.length&&P(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n)))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},o.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var s,o,a=[],n=this.getChildren(t,e,i),r=0,l=n.length;for(s=0;s<l;s++)(o=n[s]).isActive()&&(a[r++]=o);return a},o.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),s=i.length;for(e=0;e<s;e++)if(i[e].time>t)return i[e].name;return null},o.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;-1<--i;)if(e[i].time<t)return e[i].name;return null},o.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},o.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},o.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},o.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},o.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},o.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},o.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),w=180/Math.PI,y=[],T=[],D=[],p={},i=_fwd_gsScope.FWDFWD_gsDefine.globals,g=function(t,e,i,s){i===s&&(i=s-(s-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=s,this.da=s-t,this.ca=i-t,this.ba=e-t},B=function(t,e,i,s){var o={a:t},a={},n={},r={c:s},l=(t+e)/2,d=(e+i)/2,h=(i+s)/2,u=(l+d)/2,c=(d+h)/2,_=(c-u)/8;return o.b=l+(t-l)/4,a.b=u+_,o.c=a.a=(o.b+a.b)/2,a.c=n.a=(u+c)/2,n.b=c-_,r.b=h+(s-h)/4,n.c=r.a=(n.b+r.b)/2,[o,a,n,r]},S=function(t,e,i,s,o){var a,n,r,l,d,h,u,c,_,m,b,f,p,g=t.length-1,S=0,v=t[0].a;for(a=0;a<g;a++)n=(d=t[S]).a,r=d.d,l=t[S+1].d,o?(b=y[a],p=((f=T[a])+b)*e*.25/(s?.5:D[a]||.5),c=r-((h=r-(r-n)*(s?.5*e:0!==b?p/b:0))+(((u=r+(l-r)*(s?.5*e:0!==f?p/f:0))-h)*(3*b/(b+f)+.5)/4||0))):c=r-((h=r-(r-n)*e*.5)+(u=r+(l-r)*e*.5))/2,h+=c,u+=c,d.c=_=h,d.b=0!==a?v:v=d.a+.6*(d.c-d.a),d.da=r-n,d.ca=_-n,d.ba=v-n,i?(m=B(n,v,_,r),t.splice(S,1,m[0],m[1],m[2],m[3]),S+=4):S++,v=u;(d=t[S]).b=v,d.c=v+.4*(d.d-v),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=v-d.a,i&&(m=B(d.a,v,d.c,d.d),t.splice(S,1,m[0],m[1],m[2],m[3]))},v=function(t,e,i,s){var o,a,n,r,l,d,h=[];if(s)for(a=(t=[s].concat(t)).length;-1<--a;)"string"==typeof(d=t[a][e])&&"="===d.charAt(1)&&(t[a][e]=s[e]+Number(d.charAt(0)+d.substr(2)));if((o=t.length-2)<0)return h[0]=new g(t[0][e],0,0,t[o<-1?0:1][e]),h;for(a=0;a<o;a++)n=t[a][e],r=t[a+1][e],h[a]=new g(n,0,0,r),i&&(l=t[a+2][e],y[a]=(y[a]||0)+(r-n)*(r-n),T[a]=(T[a]||0)+(l-r)*(l-r));return h[a]=new g(t[a][e],0,0,t[a+1][e]),h},_=function(t,e,i,s,o,a){var n,r,l,d,h,u,c,_,m={},b=[],f=a||t[0];for(r in o="string"==typeof o?","+o+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])b.push(r);if(1<t.length){for(_=t[t.length-1],c=!0,n=b.length;-1<--n;)if(r=b[n],.05<Math.abs(f[r]-_[r])){c=!1;break}c&&(t=t.concat(),a&&t.unshift(a),t.push(t[1]),a=t[t.length-3])}for(y.length=T.length=D.length=0,n=b.length;-1<--n;)r=b[n],p[r]=-1!==o.indexOf(","+r+","),m[r]=v(t,r,p[r],a);for(n=y.length;-1<--n;)y[n]=Math.sqrt(y[n]),T[n]=Math.sqrt(T[n]);if(!s){for(n=b.length;-1<--n;)if(p[r])for(u=(l=m[b[n]]).length-1,d=0;d<u;d++)h=l[d+1].da/T[d]+l[d].da/y[d]||0,D[d]=(D[d]||0)+h*h;for(n=D.length;-1<--n;)D[n]=Math.sqrt(D[n])}for(n=b.length,d=i?4:1;-1<--n;)l=m[r=b[n]],S(l,e,i,s,p[r]),c&&(l.splice(0,d),l.splice(l.length-d,d));return m},m=function(t,e,i){for(var s,o,a,n,r,l,d,h,u,c,_,m=1/i,b=t.length;-1<--b;)for(a=(c=t[b]).a,n=c.d-a,r=c.c-a,l=c.b-a,s=o=0,h=1;h<=i;h++)s=o-(o=((d=m*h)*d*n+3*(u=1-d)*(d*r+u*l))*d),e[_=b*i+h-1]=(e[_]||0)+s*s},f=_fwd_gsScope.FWDFWD_gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,fwd_global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var s,o,a,n,r,l=e.values||[],d={},h=l[0],u=e.autoRotate||i.vars.orientToBezier;for(s in this._autoRotate=u?u instanceof Array?u:[["x","y","rotation",!0===u?0:Number(u)||0]]:null,h)this._props.push(s);for(a=this._props.length;-1<--a;)s=this._props[a],this._overwriteProps.push(s),o=this._func[s]="function"==typeof t[s],d[s]=o?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),r||d[s]!==l[0][s]&&(r=d);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?_(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,r):function(t,e,i){var s,o,a,n,r,l,d,h,u,c,_,m={},b="cubic"===(e=e||"soft")?3:2,f="soft"===e,p=[];if(f&&i&&(t=[i].concat(t)),null==t||t.length<b+1)throw"invalid Bezier data";for(u in t[0])p.push(u);for(l=p.length;-1<--l;){for(m[u=p[l]]=r=[],c=0,h=t.length,d=0;d<h;d++)s=null==i?t[d][u]:"string"==typeof(_=t[d][u])&&"="===_.charAt(1)?i[u]+Number(_.charAt(0)+_.substr(2)):Number(_),f&&1<d&&d<h-1&&(r[c++]=(s+r[c-2])/2),r[c++]=s;for(h=c-b+1,d=c=0;d<h;d+=b)s=r[d],o=r[d+1],a=r[d+2],n=2===b?0:r[d+3],r[c++]=_=3===b?new g(s,o,a,n):new g(s,(2*o+s)/3,(2*o+a)/3,a);r.length=c}return m}(l,e.type,d),this._segCount=this._beziers[s].length,this._timeRes){var c=function(t,e){var i,s,o,a,n=[],r=[],l=0,d=0,h=(e=e>>0||6)-1,u=[],c=[];for(i in t)m(t[i],n,e);for(o=n.length,s=0;s<o;s++)l+=Math.sqrt(n[s]),c[a=s%e]=l,a===h&&(d+=l,u[a=s/e>>0]=c,r[a]=d,l=0,c=[]);return{length:d,lengths:r,segments:u}}(this._beziers,this._timeRes);this._length=c.length,this._lengths=c.lengths,this._segments=c.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(u=this._autoRotate)for(this._initialRotations=[],u[0]instanceof Array||(this._autoRotate=u=[u]),a=u.length;-1<--a;){for(n=0;n<3;n++)s=u[a][n],this._func[s]="function"==typeof t[s]&&t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)];s=u[a][2],this._initialRotations[a]=(this._func[s]?this._func[s].call(this._target):this._target[s])||0,this._overwriteProps.push(s)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var e,i,s,o,a,n,r,l,d,h,u=this._segCount,c=this._func,_=this._target,m=t!==this._startRatio;if(this._timeRes){if(d=this._lengths,h=this._curSeg,t*=this._length,s=this._li,t>this._l2&&s<u-1){for(l=u-1;s<l&&(this._l2=d[++s])<=t;);this._l1=d[s-1],this._li=s,this._curSeg=h=this._segments[s],this._s2=h[this._s1=this._si=0]}else if(t<this._l1&&0<s){for(;0<s&&(this._l1=d[--s])>=t;);0===s&&t<this._l1?this._l1=0:s++,this._l2=d[s],this._li=s,this._curSeg=h=this._segments[s],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(e=s,t-=this._l1,s=this._si,t>this._s2&&s<h.length-1){for(l=h.length-1;s<l&&(this._s2=h[++s])<=t;);this._s1=h[s-1],this._si=s}else if(t<this._s1&&0<s){for(;0<s&&(this._s1=h[--s])>=t;);0===s&&t<this._s1?this._s1=0:s++,this._s2=h[s],this._si=s}n=(s+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else n=(t-(e=t<0?0:1<=t?u-1:u*t>>0)*(1/u))*u;for(i=1-n,s=this._props.length;-1<--s;)o=this._props[s],r=(n*n*(a=this._beziers[o][e]).da+3*i*(n*a.ca+i*a.ba))*n+a.a,this._mod[o]&&(r=this._mod[o](r,_)),c[o]?_[o](r):"x"==o?_.setX(r):"y"==o?_.setY(r):"z"==o?_.setZ(r):"angleX"==o?_.setAngleX(r):"angleY"==o?_.setAngleY(r):"angleZ"==o?_.setAngleZ(r):"w"==o?_.setWidth(r):"h"==o?_.setHeight(r):"alpha"==o?_.setAlpha(r):"scale"==o?_.setScale2(r):_[o]=r;if(this._autoRotate){var b,f,p,g,S,v,y,T=this._autoRotate;for(s=T.length;-1<--s;)o=T[s][2],v=T[s][3]||0,y=!0===T[s][4]?1:w,a=this._beziers[T[s][0]],b=this._beziers[T[s][1]],a&&b&&(a=a[e],b=b[e],f=a.a+(a.b-a.a)*n,f+=((g=a.b+(a.c-a.b)*n)-f)*n,g+=(a.c+(a.d-a.c)*n-g)*n,p=b.a+(b.b-b.a)*n,p+=((S=b.b+(b.c-b.b)*n)-p)*n,S+=(b.c+(b.d-b.c)*n-S)*n,r=m?Math.atan2(S-p,g-f)*y+v:this._initialRotations[s],this._mod[o]&&(r=this._mod[o](r,_)),c[o]?_[o](r):_[o]=r)}}}),t=f.prototype,f.bezierThrough=_,f.cubicToQuadratic=B,f._autoCSS=!0,f.quadraticToCubic=function(t,e,i){return new g(t,(2*e+t)/3,(2*e+i)/3,i)},f._cssRegister=function(){var t=i.CSSPlugin;if(t){var e=t._internals,_=e._parseToProxy,m=e._setPluginRatio,b=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,i,s,o,a){e instanceof Array&&(e={values:e}),a=new f;var n,r,l,d=e.values,h=d.length-1,u=[],c={};if(h<0)return o;for(n=0;n<=h;n++)l=_(t,d[n],s,o,a,h!==n),u[n]=l.end;for(r in e)c[r]=e[r];return c.values=u,(o=new b(t,"bezier",0,0,l.pt,2)).data=l,o.plugin=a,o.setRatio=m,0===c.autoRotate&&(c.autoRotate=!0),!c.autoRotate||c.autoRotate instanceof Array||(n=!0===c.autoRotate?0:Number(c.autoRotate),c.autoRotate=null!=l.end.left?[["left","top","rotation",n,!1]]:null!=l.end.x&&[["x","y","rotation",n,!1]]),c.autoRotate&&(s._transform||s._enableTransforms(!1),l.autoRotate=s._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,s._overwriteProps.push("rotation")),a._onInitTween(l.proxy,c,s._tween),o}})}},t._mod=function(t){for(var e,i=this._overwriteProps,s=i.length;-1<--s;)(e=t[i[s]])&&"function"==typeof e&&(this._mod[i[s]]=e)},t._kill=function(t){var e,i,s=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=s.length;-1<--i;)s[i]===e&&s.splice(i,1);if(s=this._autoRotate)for(i=s.length;-1<--i;)t[s[i][2]]&&s.splice(i,1);return this._super._kill.call(this,t)},_fwd_gsScope.FWDFWD_gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","FWDTweenLite"],function(a,U){var m,D,B,b,N=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=N.prototype.setRatio},d=_fwd_gsScope.FWDFWD_gsDefine.globals,f={},t=N.prototype=new a("css");(t.constructor=N).version="1.19.0",N.API=2,N.defaultTransformPerspective=0,N.defaultSkewType="compensated",N.defaultSmoothOrigin=!0,t="px",N.suffixMap={top:t,right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};var M,p,g,k,S,L,P,W,e,i,C=/(?:\-|\.|\b)(\d|\.|e\-)+/g,O=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,h=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,F=/(?:\d|\-|\+|=|#|\.)*/g,H=/opacity *= *([^)]*)/i,y=/opacity:([^;]*)/i,n=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,r=/([A-Z])/g,l=/-([a-z])/gi,w=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,u=function(t,e){return e.toUpperCase()},_=/(?:Left|Right|Width)/i,c=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,x=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,E=/,(?=[^\)]*(?:\(|$))/gi,I=/[\s,\(]/i,R=Math.PI/180,z=180/Math.PI,A={},V=document,s=function(t){return V.createElementNS?V.createElementNS("http://www.w3.org/1999/xhtml",t):V.createElement(t)},X=s("div"),Y=s("img"),o=N._internals={_specialProps:f},j=navigator.userAgent,G=(e=j.indexOf("Android"),i=s("a"),g=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===e||3<Number(j.substr(e+8,1))),S=g&&Number(j.substr(j.indexOf("Version/")+8,1))<6,k=-1!==j.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(j))&&(L=parseFloat(RegExp.$1)),!!i&&(i.style.cssText="top:1px;opacity:.55;",/^0.55/.test(i.style.opacity))),K=function(t){return H.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(t){window.console&&console.log(t)},Q="",Z="",$=function(t,e){var i,s,o=(e=e||X).style;if(void 0!==o[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],s=5;-1<--s&&void 0===o[i[s]+t];);return 0<=s?(Q="-"+(Z=3===s?"ms":i[s]).toLowerCase()+"-",Z+t):null},J=V.defaultView?V.defaultView.getComputedStyle:function(){},tt=N.getStyle=function(t,e,i,s,o){var a;return G||"opacity"!==e?(!s&&t.style[e]?a=t.style[e]:(i=i||J(t))?a=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(r,"-$1").toLowerCase()):t.currentStyle&&(a=t.currentStyle[e]),null==o||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:o):K(t)},et=o.convertToPixels=function(t,e,i,s,o){if("px"===s||!s)return i;if("auto"===s||!i)return 0;var a,n,r,l=_.test(e),d=t,h=X.style,u=i<0,c=1===i;if(u&&(i=-i),c&&(i*=100),"%"===s&&-1!==e.indexOf("border"))a=i/100*(l?t.clientWidth:t.clientHeight);else{if(h.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==s&&d.appendChild&&"v"!==s.charAt(0)&&"rem"!==s)h[l?"borderLeftWidth":"borderTopWidth"]=i+s;else{if(n=(d=t.parentNode||V.body)._gsCache,r=U.ticker.frame,n&&l&&n.time===r)return n.width*i/100;h[l?"width":"height"]=i+s}d.appendChild(X),a=parseFloat(X[l?"offsetWidth":"offsetHeight"]),d.removeChild(X),l&&"%"===s&&!1!==N.cacheWidths&&((n=d._gsCache=d._gsCache||{}).time=r,n.width=a/i*100),0!==a||o||(a=et(t,e,i,s,!0))}return c&&(a/=100),u?-a:a},it=o.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var s="left"===e?"Left":"Top",o=tt(t,"margin"+s,i);return t["offset"+s]-(et(t,e,parseFloat(o),o.replace(F,""))||0)},st=function(t,e){var i,s,o,a={};if(e=e||J(t,null))if(i=e.length)for(;-1<--i;)-1!==(o=e[i]).indexOf("-transform")&&xt!==o||(a[o.replace(l,u)]=e.getPropertyValue(o));else for(i in e)-1!==i.indexOf("Transform")&&Ht!==i||(a[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===a[i]&&(a[i.replace(l,u)]=e[i]);return G||(a.opacity=K(t)),s=jt(t,e,!1),a.rotation=s.rotation,a.skewX=s.skewX,a.scaleX=s.scaleX,a.scaleY=s.scaleY,a.x=s.x,a.y=s.y,It&&(a.z=s.z,a.rotationX=s.rotationX,a.rotationY=s.rotationY,a.scaleZ=s.scaleZ),a.filters&&delete a.filters,a},ot=function(t,e,i,s,o){var a,n,r,l={},d=t.style;for(n in i)"cssText"!==n&&"length"!==n&&isNaN(n)&&(e[n]!==(a=i[n])||o&&o[n])&&-1===n.indexOf("Origin")&&("number"!=typeof a&&"string"!=typeof a||(l[n]="auto"!==a||"left"!==n&&"top"!==n?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof e[n]||""===e[n].replace(h,"")?a:0:it(t,n),void 0!==d[n]&&(r=new St(d,n,d[n],r))));if(s)for(n in s)"className"!==n&&(l[n]=s[n]);return{difs:l,firstMPT:r}},at={width:["Left","Right"],height:["Top","Bottom"]},nt=["marginLeft","marginRight","marginTop","marginBottom"],rt=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||J(t))[e]||0;if(t.getBBox&&Vt(t))return t.getBBox()[e]||0;var s=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),o=at[e],a=o.length;for(i=i||J(t,null);-1<--a;)s-=parseFloat(tt(t,"padding"+o[a],i,!0))||0,s-=parseFloat(tt(t,"border"+o[a]+"Width",i,!0))||0;return s},lt=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,s=t.split(" "),o=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":s[0],a=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":s[1];if(3<s.length&&!e){for(s=t.split(", ").join(",").split(","),t=[],i=0;i<s.length;i++)t.push(lt(s[i]));return t.join(",")}return null==a?a="center"===o?"50%":"0":"center"===a&&(a="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),t=o+" "+a+(2<s.length?" "+s[2]:""),e&&(e.oxp=-1!==o.indexOf("%"),e.oyp=-1!==a.indexOf("%"),e.oxr="="===o.charAt(1),e.oyr="="===a.charAt(1),e.ox=parseFloat(o.replace(h,"")),e.oy=parseFloat(a.replace(h,"")),e.v=t),e||t},dt=function(t,e){return"function"==typeof t&&(t=t(W,P)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ht=function(t,e){return"function"==typeof t&&(t=t(W,P)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ut=function(t,e,i,s){var o,a,n,r,l;return"function"==typeof t&&(t=t(W,P)),null==t?r=e:"number"==typeof t?r=t:(o=360,a=t.split("_"),n=((l="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(a[0].substr(2)):parseFloat(a[0]))*(-1===t.indexOf("rad")?1:z)-(l?0:e),a.length&&(s&&(s[i]=e+n),-1!==t.indexOf("short")&&(n%=o)!==n%180&&(n=n<0?n+o:n-o),-1!==t.indexOf("_cw")&&n<0?n=(n+3599999999640)%o-(n/o|0)*o:-1!==t.indexOf("ccw")&&0<n&&(n=(n-3599999999640)%o-(n/o|0)*o)),r=e+n),r<1e-6&&-1e-6<r&&(r=0),r},ct={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},_t=function(t,e,i){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},mt=N.parseColor=function(t,e){var i,s,o,a,n,r,l,d,h,u,c;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ct[t])i=ct[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(s=t.charAt(1))+s+(o=t.charAt(2))+o+(a=t.charAt(3))+a),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=c=t.match(C),e){if(-1!==t.indexOf("="))return t.match(O)}else n=Number(i[0])%360/360,r=Number(i[1])/100,s=2*(l=Number(i[2])/100)-(o=l<=.5?l*(r+1):l+r-l*r),3<i.length&&(i[3]=Number(t[3])),i[0]=_t(n+1/3,s,o),i[1]=_t(n,s,o),i[2]=_t(n-1/3,s,o);else i=t.match(C)||ct.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),3<i.length&&(i[3]=Number(i[3]))}else i=ct.black;return e&&!c&&(s=i[0]/255,o=i[1]/255,a=i[2]/255,l=((d=Math.max(s,o,a))+(h=Math.min(s,o,a)))/2,d===h?n=r=0:(u=d-h,r=.5<l?u/(2-d-h):u/(d+h),n=d===s?(o-a)/u+(o<a?6:0):d===o?(a-s)/u+2:(s-o)/u+4,n*=60),i[0]=n+.5|0,i[1]=100*r+.5|0,i[2]=100*l+.5|0),i},bt=function(t,e){var i,s,o,a=t.match(ft)||[],n=0,r=a.length?"":t;for(i=0;i<a.length;i++)s=a[i],n+=(o=t.substr(n,t.indexOf(s,n)-n)).length+s.length,3===(s=mt(s,e)).length&&s.push(1),r+=o+(e?"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+s[3]:"rgba("+s.join(","))+")";return r+t.substr(n)},ft="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in ct)ft+="|"+t+"\\b";ft=new RegExp(ft+")","gi"),N.colorStringFilter=function(t){var e,i=t[0]+t[1];ft.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=bt(t[0],e),t[1]=bt(t[1],e)),ft.lastIndex=0},U.defaultStringFilter||(U.defaultStringFilter=N.colorStringFilter);var pt=function(t,e,a,n){if(null==t)return function(t){return t};var r,l=e?(t.match(ft)||[""])[0]:"",d=t.split(l).join("").match(v)||[],h=t.substr(0,t.indexOf(d[0])),u=")"===t.charAt(t.length-1)?")":"",c=-1!==t.indexOf(" ")?" ":",",_=d.length,m=0<_?d[0].replace(C,""):"";return _?r=e?function(t){var e,i,s,o;if("number"==typeof t)t+=m;else if(n&&E.test(t)){for(o=t.replace(E,"|").split("|"),s=0;s<o.length;s++)o[s]=r(o[s]);return o.join(",")}if(e=(t.match(ft)||[l])[0],s=(i=t.split(e).join("").match(v)||[]).length,_>s--)for(;++s<_;)i[s]=a?i[(s-1)/2|0]:d[s];return h+i.join(c)+c+e+u+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,s;if("number"==typeof t)t+=m;else if(n&&E.test(t)){for(i=t.replace(E,"|").split("|"),s=0;s<i.length;s++)i[s]=r(i[s]);return i.join(",")}if(s=(e=t.match(v)||[]).length,_>s--)for(;++s<_;)e[s]=a?e[(s-1)/2|0]:d[s];return h+e.join(c)+u}:function(t){return t}},gt=function(d){return d=d.split(","),function(t,e,i,s,o,a,n){var r,l=(e+"").split(" ");for(n={},r=0;r<4;r++)n[d[r]]=l[r]=l[r]||l[(r-1)/2>>0];return s.parse(t,n,o,a)}},St=(o._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,s,o,a,n=this.data,r=n.proxy,l=n.firstMPT;l;)e=r[l.v],l.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),l.t[l.p]=e,l=l._next;if(n.autoRotate&&(n.autoRotate.rotation=n.mod?n.mod(r.rotation,this.t):r.rotation),1===t||0===t)for(l=n.firstMPT,a=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(o=i.xs0+i.s+i.xs1,s=1;s<i.l;s++)o+=i["xn"+s]+i["xs"+(s+1)];i[a]=o}}else i[a]=i.s+i.xs0;l=l._next}},function(t,e,i,s,o){this.t=t,this.p=e,this.v=i,this.r=o,s&&((s._prev=this)._next=s)}),vt=(o._parseToProxy=function(t,e,i,s,o,a){var n,r,l,d,h,u=s,c={},_={},m=i._transform,b=A;for(i._transform=null,A=e,s=h=i.parse(t,e,s,o),A=b,a&&(i._transform=m,u&&(u._prev=null,u._prev&&(u._prev._next=null)));s&&s!==u;){if(s.type<=1&&(_[r=s.p]=s.s+s.c,c[r]=s.s,a||(d=new St(s,"s",r,d,s.r),s.c=0),1===s.type))for(n=s.l;0<--n;)l="xn"+n,_[r=s.p+"_"+l]=s.data[l],c[r]=s[l],a||(d=new St(s,l,r,d,s.rxp[l]));s=s._next}return{proxy:c,end:_,firstMPT:d,pt:h}},o.CSSPropTween=function(t,e,i,s,o,a,n,r,l,d,h){this.t=t,this.p=e,this.s=i,this.c=s,this.n=n||e,t instanceof vt||b.push(this.n),this.r=r,this.type=a||0,l&&(this.pr=l,m=!0),this.b=void 0===d?i:d,this.e=void 0===h?i+s:h,o&&((this._next=o)._prev=this)}),yt=function(t,e,i,s,o,a){var n=new vt(t,e,i,s-i,o,-1,a);return n.b=i,n.e=n.xs0=s,n},Tt=N.parseComplex=function(t,e,i,s,o,a,n,r,l,d){i=i||a||"","function"==typeof s&&(s=s(W,P)),n=new vt(t,e,0,0,n,d?2:1,null,!1,r,i,s),s+="",o&&ft.test(s+i)&&(s=[i,s],N.colorStringFilter(s),i=s[0],s=s[1]);var h,u,c,_,m,b,f,p,g,S,v,y,T,w=i.split(", ").join(",").split(" "),D=s.split(", ").join(",").split(" "),B=w.length,L=!1!==M;for(-1===s.indexOf(",")&&-1===i.indexOf(",")||(w=w.join(" ").replace(E,", ").split(" "),D=D.join(" ").replace(E,", ").split(" "),B=w.length),B!==D.length&&(B=(w=(a||"").split(" ")).length),n.plugin=l,n.setRatio=d,h=ft.lastIndex=0;h<B;h++)if(_=w[h],m=D[h],(p=parseFloat(_))||0===p)n.appendXtra("",p,dt(m,p),m.replace(O,""),L&&-1!==m.indexOf("px"),!0);else if(o&&ft.test(_))y=")"+((y=m.indexOf(")")+1)?m.substr(y):""),T=-1!==m.indexOf("hsl")&&G,_=mt(_,T),m=mt(m,T),(g=6<_.length+m.length)&&!G&&0===m[3]?(n["xs"+n.l]+=n.l?" transparent":"transparent",n.e=n.e.split(D[h]).join("transparent")):(G||(g=!1),T?n.appendXtra(g?"hsla(":"hsl(",_[0],dt(m[0],_[0]),",",!1,!0).appendXtra("",_[1],dt(m[1],_[1]),"%,",!1).appendXtra("",_[2],dt(m[2],_[2]),g?"%,":"%"+y,!1):n.appendXtra(g?"rgba(":"rgb(",_[0],m[0]-_[0],",",!0,!0).appendXtra("",_[1],m[1]-_[1],",",!0).appendXtra("",_[2],m[2]-_[2],g?",":y,!0),g&&(_=_.length<4?1:_[3],n.appendXtra("",_,(m.length<4?1:m[3])-_,y,!1))),ft.lastIndex=0;else if(b=_.match(C)){if(!(f=m.match(O))||f.length!==b.length)return n;for(u=c=0;u<b.length;u++)v=b[u],S=_.indexOf(v,c),n.appendXtra(_.substr(c,S-c),Number(v),dt(f[u],v),"",L&&"px"===_.substr(S+v.length,2),0===u),c=S+v.length;n["xs"+n.l]+=_.substr(c)}else n["xs"+n.l]+=n.l||n["xs"+n.l]?" "+m:m;if(-1!==s.indexOf("=")&&n.data){for(y=n.xs0+n.data.s,h=1;h<n.l;h++)y+=n["xs"+h]+n.data["xn"+h];n.e=y+n["xs"+h]}return n.l||(n.type=-1,n.xs0=n.e),n.xfirst||n},wt=9;for((t=vt.prototype).l=t.pr=0;0<--wt;)t["xn"+wt]=0,t["xs"+wt]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,s,o,a){var n=this,r=n.l;return n["xs"+r]+=a&&(r||n["xs"+r])?" "+t:t||"",i||0===r||n.plugin?(n.l++,n.type=n.setRatio?2:1,n["xs"+n.l]=s||"",0<r?(n.data["xn"+r]=e+i,n.rxp["xn"+r]=o,n["xn"+r]=e,n.plugin||(n.xfirst=new vt(n,"xn"+r,e,i,n.xfirst||n,0,n.n,o,n.pr),n.xfirst.xs0=0)):(n.data={s:e+i},n.rxp={},n.s=e,n.c=i,n.r=o),n):(n["xs"+r]+=e+(s||""),n)};var Dt=function(t,e){e=e||{},this.p=e.prefix&&$(t)||t,f[t]=f[this.p]=this,this.format=e.formatter||pt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Bt=o._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var s,o=t.split(","),a=e.defaultValue;for(i=i||[a],s=0;s<o.length;s++)e.prefix=0===s&&e.prefix,e.defaultValue=i[s]||a,new Dt(o[s],e)},Lt=o._registerPluginProp=function(t){if(!f[t]){var l=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Bt(t,{parser:function(t,e,i,s,o,a,n){var r=d.com.greensock.plugins[l];return r?(r._cssRegister(),f[i].parse(t,e,i,s,o,a,n)):(q("Error: "+l+" js file not loaded."),o)}})}};(t=Dt.prototype).parseComplex=function(t,e,i,s,o,a){var n,r,l,d,h,u,c=this.keyword;if(this.multi&&(E.test(i)||E.test(e)?(r=e.replace(E,"|").split("|"),l=i.replace(E,"|").split("|")):c&&(r=[e],l=[i])),l){for(d=l.length>r.length?l.length:r.length,n=0;n<d;n++)e=r[n]=r[n]||this.dflt,i=l[n]=l[n]||this.dflt,c&&(h=e.indexOf(c))!==(u=i.indexOf(c))&&(-1===u?r[n]=r[n].split(c).join(""):-1===h&&(r[n]+=" "+c));e=r.join(", "),i=l.join(", ")}return Tt(t,this.p,e,i,this.clrs,this.dflt,s,this.pr,o,a)},t.parse=function(t,e,i,s,o,a,n){return this.parseComplex(t.style,this.format(tt(t,this.p,B,!1,this.dflt)),this.format(e),o,a)},N.registerSpecialProp=function(t,l,d){Bt(t,{parser:function(t,e,i,s,o,a,n){var r=new vt(t,i,0,0,o,2,i,!1,d);return r.plugin=a,r.setRatio=l(t,e,s._tween,i),r},priority:d})},N.useSVGTransformAttr=g||k;var Mt,Pt,Wt,Ct,Ot,Ft="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ht=$("transform"),xt=Q+"transform",Et=$("transformOrigin"),It=null!==$("perspective"),At=o.Transform=function(){this.perspective=parseFloat(N.defaultTransformPerspective)||0,this.force3D=!(!1===N.defaultForce3D||!It)&&(N.defaultForce3D||"auto")},kt=window.SVGElement,Rt=function(t,e,i){var s,o=V.createElementNS("http://www.w3.org/2000/svg",t),a=/([a-z])([A-Z])/g;for(s in i)o.setAttributeNS(null,s.replace(a,"$1-$2").toLowerCase(),i[s]);return e.appendChild(o),o},Ut=V.documentElement,Nt=(Ot=L||/Android/i.test(j)&&!window.chrome,V.createElementNS&&!Ot&&(Pt=Rt("svg",Ut),Ct=(Wt=Rt("rect",Pt,{width:100,height:50,x:100})).getBoundingClientRect().width,Wt.style[Et]="50% 50%",Wt.style[Ht]="scaleX(0.5)",Ot=Ct===Wt.getBoundingClientRect().width&&!(k&&It),Ut.removeChild(Pt)),Ot),zt=function(t,e,i,s,o,a){var n,r,l,d,h,u,c,_,m,b,f,p,g,S,v=t._gsTransform,y=Yt(t,!0);v&&(g=v.xOrigin,S=v.yOrigin),(!s||(n=s.split(" ")).length<2)&&(c=t.getBBox(),n=[(-1!==(e=lt(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*c.width:parseFloat(e[0]))+c.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*c.height:parseFloat(e[1]))+c.y]),i.xOrigin=d=parseFloat(n[0]),i.yOrigin=h=parseFloat(n[1]),s&&y!==Xt&&(u=y[0],c=y[1],_=y[2],m=y[3],b=y[4],r=d*(m/(p=u*m-c*_))+h*(-_/p)+(_*(f=y[5])-m*b)/p,l=d*(-c/p)+h*(u/p)-(u*f-c*b)/p,d=i.xOrigin=n[0]=r,h=i.yOrigin=n[1]=l),v&&(a&&(i.xOffset=v.xOffset,i.yOffset=v.yOffset,v=i),o||!1!==o&&!1!==N.defaultSmoothOrigin?(r=d-g,l=h-S,v.xOffset+=r*y[0]+l*y[2]-r,v.yOffset+=r*y[1]+l*y[3]-l):v.xOffset=v.yOffset=0),a||t.setAttribute("data-svg-origin",n.join(" "))},Vt=function(t){return!!(kt&&t.getBBox&&t.getCTM&&function(t){try{return t.getBBox()}catch(t){}}(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Xt=[1,0,0,1,0,0],Yt=function(t,e){var i,s,o,a,n,r,l=t._gsTransform||new At,d=t.style;if(Ht?s=tt(t,xt,null,!0):t.currentStyle&&(s=(s=t.currentStyle.filter.match(c))&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),l.x||0,l.y||0].join(","):""),(i=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s)&&Ht&&((r="none"===J(t).display)||!t.parentNode)&&(r&&(a=d.display,d.display="block"),t.parentNode||(n=1,Ut.appendChild(t)),i=!(s=tt(t,xt,null,!0))||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,a?d.display=a:r&&Qt(d,"display"),n&&Ut.removeChild(t)),(l.svg||t.getBBox&&Vt(t))&&(i&&-1!==(d[Ht]+"").indexOf("matrix")&&(s=d[Ht],i=0),o=t.getAttribute("transform"),i&&o&&(-1!==o.indexOf("matrix")?(s=o,i=0):-1!==o.indexOf("translate")&&(s="matrix(1,0,0,1,"+o.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Xt;for(o=(s||"").match(C)||[],wt=o.length;-1<--wt;)a=Number(o[wt]),o[wt]=(n=a-(a|=0))?(1e5*n+(n<0?-.5:.5)|0)/1e5+a:a;return e&&6<o.length?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},jt=o.getTransform=function(t,e,i,s){if(t._gsTransform&&i&&!s)return t._gsTransform;var o,a,n,r,l,d,h=i&&t._gsTransform||new At,u=h.scaleX<0,c=It&&(parseFloat(tt(t,Et,e,!1,"0 0 0").split(" ")[2])||h.zOrigin)||0,_=parseFloat(N.defaultTransformPerspective)||0;if(h.svg=!(!t.getBBox||!Vt(t)),h.svg&&(zt(t,tt(t,Et,e,!1,"50% 50%")+"",h,t.getAttribute("data-svg-origin")),Mt=N.useSVGTransformAttr||Nt),(o=Yt(t))!==Xt){if(16===o.length){var m,b,f,p,g,S=o[0],v=o[1],y=o[2],T=o[3],w=o[4],D=o[5],B=o[6],L=o[7],M=o[8],P=o[9],W=o[10],C=o[12],O=o[13],F=o[14],H=o[11],x=Math.atan2(B,W);h.zOrigin&&(C=M*(F=-h.zOrigin)-o[12],O=P*F-o[13],F=W*F+h.zOrigin-o[14]),h.rotationX=x*z,x&&(m=w*(p=Math.cos(-x))+M*(g=Math.sin(-x)),b=D*p+P*g,f=B*p+W*g,M=w*-g+M*p,P=D*-g+P*p,W=B*-g+W*p,H=L*-g+H*p,w=m,D=b,B=f),x=Math.atan2(-y,W),h.rotationY=x*z,x&&(b=v*(p=Math.cos(-x))-P*(g=Math.sin(-x)),f=y*p-W*g,P=v*g+P*p,W=y*g+W*p,H=T*g+H*p,S=m=S*p-M*g,v=b,y=f),x=Math.atan2(v,S),h.rotation=x*z,x&&(S=S*(p=Math.cos(-x))+w*(g=Math.sin(-x)),b=v*p+D*g,D=v*-g+D*p,B=y*-g+B*p,v=b),h.rotationX&&359.9<Math.abs(h.rotationX)+Math.abs(h.rotation)&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),h.scaleX=(1e5*Math.sqrt(S*S+v*v)+.5|0)/1e5,h.scaleY=(1e5*Math.sqrt(D*D+P*P)+.5|0)/1e5,h.scaleZ=(1e5*Math.sqrt(B*B+W*W)+.5|0)/1e5,h.rotationX||h.rotationY?h.skewX=0:(h.skewX=w||D?Math.atan2(w,D)*z+h.rotation:h.skewX||0,90<Math.abs(h.skewX)&&Math.abs(h.skewX)<270&&(u?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180))),h.perspective=H?1/(H<0?-H:H):0,h.x=C,h.y=O,h.z=F,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*S-h.yOrigin*w),h.y-=h.yOrigin-(h.yOrigin*v-h.xOrigin*D))}else if(!It||s||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var E=6<=o.length,I=E?o[0]:1,A=o[1]||0,k=o[2]||0,R=E?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,n=Math.sqrt(I*I+A*A),r=Math.sqrt(R*R+k*k),l=I||A?Math.atan2(A,I)*z:h.rotation||0,d=k||R?Math.atan2(k,R)*z+l:h.skewX||0,90<Math.abs(d)&&Math.abs(d)<270&&(u?(n*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(r*=-1,d+=d<=0?180:-180)),h.scaleX=n,h.scaleY=r,h.rotation=l,h.skewX=d,It&&(h.rotationX=h.rotationY=h.z=0,h.perspective=_,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*I+h.yOrigin*k),h.y-=h.yOrigin-(h.xOrigin*A+h.yOrigin*R))}for(a in h.zOrigin=c,h)h[a]<2e-5&&-2e-5<h[a]&&(h[a]=0)}return i&&(t._gsTransform=h).svg&&(Mt&&t.style[Ht]?U.delayedCall(.001,function(){Qt(t.style,Ht)}):!Mt&&t.getAttribute("transform")&&U.delayedCall(.001,function(){t.removeAttribute("transform")})),h},Gt=function(t){var e,i,s=this.data,o=-s.rotation*R,a=o+s.skewX*R,n=1e5,r=(Math.cos(o)*s.scaleX*n|0)/n,l=(Math.sin(o)*s.scaleX*n|0)/n,d=(Math.sin(a)*-s.scaleY*n|0)/n,h=(Math.cos(a)*s.scaleY*n|0)/n,u=this.t.style,c=this.t.currentStyle;if(c){i=l,l=-d,d=-i,e=c.filter,u.filter="";var _,m,b=this.t.offsetWidth,f=this.t.offsetHeight,p="absolute"!==c.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+r+", M12="+l+", M21="+d+", M22="+h,S=s.x+b*s.xPercent/100,v=s.y+f*s.yPercent/100;if(null!=s.ox&&(S+=(_=(s.oxp?b*s.ox*.01:s.ox)-b/2)-(_*r+(m=(s.oyp?f*s.oy*.01:s.oy)-f/2)*l),v+=m-(_*d+m*h)),g+=p?", Dx="+((_=b/2)-(_*r+(m=f/2)*l)+S)+", Dy="+(m-(_*d+m*h)+v)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(x,g):u.filter=g+" "+e,0!==t&&1!==t||1===r&&0===l&&0===d&&1===h&&(p&&-1===g.indexOf("Dx=0, Dy=0")||H.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!p){var y,T,w,D=L<8?1:-1;for(_=s.ieOffsetX||0,m=s.ieOffsetY||0,s.ieOffsetX=Math.round((b-((r<0?-r:r)*b+(l<0?-l:l)*f))/2+S),s.ieOffsetY=Math.round((f-((h<0?-h:h)*f+(d<0?-d:d)*b))/2+v),wt=0;wt<4;wt++)w=(i=-1!==(y=c[T=nt[wt]]).indexOf("px")?parseFloat(y):et(this.t,T,parseFloat(y),y.replace(F,""))||0)!==s[T]?wt<2?-s.ieOffsetX:-s.ieOffsetY:wt<2?_-s.ieOffsetX:m-s.ieOffsetY,u[T]=(s[T]=Math.round(i-w*(0===wt||2===wt?1:D)))+"px"}}},Kt=o.set3DTransformRatio=o.setTransformRatio=function(t){var e,i,s,o,a,n,r,l,d,h,u,c,_,m,b,f,p,g,S,v,y,T,w,D=this.data,B=this.t.style,L=D.rotation,M=D.rotationX,P=D.rotationY,W=D.scaleX,C=D.scaleY,O=D.scaleZ,F=D.x,H=D.y,x=D.z,E=D.svg,I=D.perspective,A=D.force3D;if(!((1!==t&&0!==t||"auto"!==A||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&A||x||I||P||M||1!==O)||Mt&&E||!It)L||D.skewX||E?(L*=R,T=D.skewX*R,w=1e5,e=Math.cos(L)*W,o=Math.sin(L)*W,i=Math.sin(L-T)*-C,a=Math.cos(L-T)*C,T&&"simple"===D.skewType&&(p=Math.tan(T-D.skewY*R),i*=p=Math.sqrt(1+p*p),a*=p,D.skewY&&(p=Math.tan(D.skewY*R),e*=p=Math.sqrt(1+p*p),o*=p)),E&&(F+=D.xOrigin-(D.xOrigin*e+D.yOrigin*i)+D.xOffset,H+=D.yOrigin-(D.xOrigin*o+D.yOrigin*a)+D.yOffset,Mt&&(D.xPercent||D.yPercent)&&(m=this.t.getBBox(),F+=.01*D.xPercent*m.width,H+=.01*D.yPercent*m.height),F<(m=1e-6)&&-m<F&&(F=0),H<m&&-m<H&&(H=0)),S=(e*w|0)/w+","+(o*w|0)/w+","+(i*w|0)/w+","+(a*w|0)/w+","+F+","+H+")",E&&Mt?this.t.setAttribute("transform","matrix("+S):B[Ht]=(D.xPercent||D.yPercent?"translate("+D.xPercent+"%,"+D.yPercent+"%) matrix(":"matrix(")+S):B[Ht]=(D.xPercent||D.yPercent?"translate("+D.xPercent+"%,"+D.yPercent+"%) matrix(":"matrix(")+W+",0,0,"+C+","+F+","+H+")";else{if(k&&(W<(m=1e-4)&&-m<W&&(W=O=2e-5),C<m&&-m<C&&(C=O=2e-5),!I||D.z||D.rotationX||D.rotationY||(I=0)),L||D.skewX)L*=R,b=e=Math.cos(L),f=o=Math.sin(L),D.skewX&&(L-=D.skewX*R,b=Math.cos(L),f=Math.sin(L),"simple"===D.skewType&&(p=Math.tan((D.skewX-D.skewY)*R),b*=p=Math.sqrt(1+p*p),f*=p,D.skewY&&(p=Math.tan(D.skewY*R),e*=p=Math.sqrt(1+p*p),o*=p))),i=-f,a=b;else{if(!(P||M||1!==O||I||E))return void(B[Ht]=(D.xPercent||D.yPercent?"translate("+D.xPercent+"%,"+D.yPercent+"%) translate3d(":"translate3d(")+F+"px,"+H+"px,"+x+"px)"+(1!==W||1!==C?" scale("+W+","+C+")":""));e=a=1,i=o=0}d=1,s=n=r=l=h=u=0,c=I?-1/I:0,_=D.zOrigin,m=1e-6,v=",",y="0",(L=P*R)&&(b=Math.cos(L),h=c*(r=-(f=Math.sin(L))),s=e*f,n=o*f,c*=d=b,e*=b,o*=b),(L=M*R)&&(p=i*(b=Math.cos(L))+s*(f=Math.sin(L)),g=a*b+n*f,l=d*f,u=c*f,s=i*-f+s*b,n=a*-f+n*b,d*=b,c*=b,i=p,a=g),1!==O&&(s*=O,n*=O,d*=O,c*=O),1!==C&&(i*=C,a*=C,l*=C,u*=C),1!==W&&(e*=W,o*=W,r*=W,h*=W),(_||E)&&(_&&(F+=s*-_,H+=n*-_,x+=d*-_+_),E&&(F+=D.xOrigin-(D.xOrigin*e+D.yOrigin*i)+D.xOffset,H+=D.yOrigin-(D.xOrigin*o+D.yOrigin*a)+D.yOffset),F<m&&-m<F&&(F=y),H<m&&-m<H&&(H=y),x<m&&-m<x&&(x=0)),S=D.xPercent||D.yPercent?"translate("+D.xPercent+"%,"+D.yPercent+"%) matrix3d(":"matrix3d(",S+=(e<m&&-m<e?y:e)+v+(o<m&&-m<o?y:o)+v+(r<m&&-m<r?y:r),S+=v+(h<m&&-m<h?y:h)+v+(i<m&&-m<i?y:i)+v+(a<m&&-m<a?y:a),M||P||1!==O?(S+=v+(l<m&&-m<l?y:l)+v+(u<m&&-m<u?y:u)+v+(s<m&&-m<s?y:s),S+=v+(n<m&&-m<n?y:n)+v+(d<m&&-m<d?y:d)+v+(c<m&&-m<c?y:c)+v):S+=",0,0,0,0,1,0,",S+=F+v+H+v+x+v+(I?1+-x/I:1)+")",B[Ht]=S}};(t=At.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,Bt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,s,o,a,n){if(s._lastParsedTransform===n)return o;var r;"function"==typeof(s._lastParsedTransform=n)[i]&&(r=n[i],n[i]=e);var l,d,h,u,c,_,m,b,f,p=t._gsTransform,g=t.style,S=Ft.length,v=n,y={},T="transformOrigin",w=jt(t,B,!0,v.parseTransform),D=v.transform&&("function"==typeof v.transform?v.transform(W,P):v.transform);if(s._transform=w,D&&"string"==typeof D&&Ht)(d=X.style)[Ht]=D,d.display="block",d.position="absolute",V.body.appendChild(X),l=jt(X,null,!1),w.svg&&(_=w.xOrigin,m=w.yOrigin,l.x-=w.xOffset,l.y-=w.yOffset,(v.transformOrigin||v.svgOrigin)&&(D={},zt(t,lt(v.transformOrigin),D,v.svgOrigin,v.smoothOrigin,!0),_=D.xOrigin,m=D.yOrigin,l.x-=D.xOffset-w.xOffset,l.y-=D.yOffset-w.yOffset),(_||m)&&(b=Yt(X,!0),l.x-=_-(_*b[0]+m*b[2]),l.y-=m-(_*b[1]+m*b[3]))),V.body.removeChild(X),l.perspective||(l.perspective=w.perspective),null!=v.xPercent&&(l.xPercent=ht(v.xPercent,w.xPercent)),null!=v.yPercent&&(l.yPercent=ht(v.yPercent,w.yPercent));else if("object"==typeof v){if(l={scaleX:ht(null!=v.scaleX?v.scaleX:v.scale,w.scaleX),scaleY:ht(null!=v.scaleY?v.scaleY:v.scale,w.scaleY),scaleZ:ht(v.scaleZ,w.scaleZ),x:ht(v.x,w.x),y:ht(v.y,w.y),z:ht(v.z,w.z),xPercent:ht(v.xPercent,w.xPercent),yPercent:ht(v.yPercent,w.yPercent),perspective:ht(v.transformPerspective,w.perspective)},null!=(c=v.directionalRotation))if("object"==typeof c)for(d in c)v[d]=c[d];else v.rotation=c;"string"==typeof v.x&&-1!==v.x.indexOf("%")&&(l.x=0,l.xPercent=ht(v.x,w.xPercent)),"string"==typeof v.y&&-1!==v.y.indexOf("%")&&(l.y=0,l.yPercent=ht(v.y,w.yPercent)),l.rotation=ut("rotation"in v?v.rotation:"shortRotation"in v?v.shortRotation+"_short":"rotationZ"in v?v.rotationZ:w.rotation-w.skewY,w.rotation-w.skewY,"rotation",y),It&&(l.rotationX=ut("rotationX"in v?v.rotationX:"shortRotationX"in v?v.shortRotationX+"_short":w.rotationX||0,w.rotationX,"rotationX",y),l.rotationY=ut("rotationY"in v?v.rotationY:"shortRotationY"in v?v.shortRotationY+"_short":w.rotationY||0,w.rotationY,"rotationY",y)),l.skewX=ut(v.skewX,w.skewX-w.skewY),(l.skewY=ut(v.skewY,w.skewY))&&(l.skewX+=l.skewY,l.rotation+=l.skewY)}for(It&&null!=v.force3D&&(w.force3D=v.force3D,u=!0),w.skewType=v.skewType||w.skewType||N.defaultSkewType,(h=w.force3D||w.z||w.rotationX||w.rotationY||l.z||l.rotationX||l.rotationY||l.perspective)||null==v.scale||(l.scaleZ=1);-1<--S;)(1e-6<(D=l[f=Ft[S]]-w[f])||D<-1e-6||null!=v[f]||null!=A[f])&&(u=!0,o=new vt(w,f,w[f],D,o),f in y&&(o.e=y[f]),o.xs0=0,o.plugin=a,s._overwriteProps.push(o.n));return D=v.transformOrigin,w.svg&&(D||v.svgOrigin)&&(_=w.xOffset,m=w.yOffset,zt(t,lt(D),l,v.svgOrigin,v.smoothOrigin),o=yt(w,"xOrigin",(p?w:l).xOrigin,l.xOrigin,o,T),o=yt(w,"yOrigin",(p?w:l).yOrigin,l.yOrigin,o,T),_===w.xOffset&&m===w.yOffset||(o=yt(w,"xOffset",p?_:w.xOffset,w.xOffset,o,T),o=yt(w,"yOffset",p?m:w.yOffset,w.yOffset,o,T)),D=Mt?null:"0px 0px"),(D||It&&h&&w.zOrigin)&&(Ht?(u=!0,f=Et,D=(D||tt(t,f,B,!1,"50% 50%"))+"",(o=new vt(g,f,0,0,o,-1,T)).b=g[f],o.plugin=a,It?(d=w.zOrigin,D=D.split(" "),w.zOrigin=(2<D.length&&(0===d||"0px"!==D[2])?parseFloat(D[2]):d)||0,o.xs0=o.e=D[0]+" "+(D[1]||"50%")+" 0px",(o=new vt(w,"zOrigin",0,0,o,-1,o.n)).b=d,o.xs0=o.e=w.zOrigin):o.xs0=o.e=D):lt(D+"",w)),u&&(s._transformType=w.svg&&Mt||!h&&3!==this._transformType?2:3),r&&(n[i]=r),o},prefix:!0}),Bt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Bt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,o,a){e=this.format(e);var n,r,l,d,h,u,c,_,m,b,f,p,g,S,v,y,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],w=t.style;for(m=parseFloat(t.offsetWidth),b=parseFloat(t.offsetHeight),n=e.split(" "),r=0;r<T.length;r++)this.p.indexOf("border")&&(T[r]=$(T[r])),-1!==(h=d=tt(t,T[r],B,!1,"0px")).indexOf(" ")&&(h=(d=h.split(" "))[0],d=d[1]),u=l=n[r],c=parseFloat(h),p=h.substr((c+"").length),(g="="===u.charAt(1))?(_=parseInt(u.charAt(0)+"1",10),u=u.substr(2),_*=parseFloat(u),f=u.substr((_+"").length-(_<0?1:0))||""):(_=parseFloat(u),f=u.substr((_+"").length)),""===f&&(f=D[i]||p),f!==p&&(S=et(t,"borderLeft",c,p),v=et(t,"borderTop",c,p),"%"===f?(h=S/m*100+"%",d=v/b*100+"%"):"em"===f?(h=S/(y=et(t,"borderLeft",1,"em"))+"em",d=v/y+"em"):(h=S+"px",d=v+"px"),g&&(u=parseFloat(h)+_+f,l=parseFloat(d)+_+f)),o=Tt(w,T[r],h+" "+d,u+" "+l,!1,"0px",o);return o},prefix:!0,formatter:pt("0px 0px 0px 0px",!1,!0)}),Bt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,s,o,a){return Tt(t.style,i,this.format(tt(t,i,B,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:pt("0px 0px",!1,!0)}),Bt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,s,o,a){var n,r,l,d,h,u,c="background-position",_=B||J(t,null),m=this.format((_?L?_.getPropertyValue(c+"-x")+" "+_.getPropertyValue(c+"-y"):_.getPropertyValue(c):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),b=this.format(e);if(-1!==m.indexOf("%")!=(-1!==b.indexOf("%"))&&b.split(",").length<2&&(u=tt(t,"backgroundImage").replace(w,""))&&"none"!==u){for(n=m.split(" "),r=b.split(" "),Y.setAttribute("src",u),l=2;-1<--l;)(d=-1!==(m=n[l]).indexOf("%"))!==(-1!==r[l].indexOf("%"))&&(h=0===l?t.offsetWidth-Y.width:t.offsetHeight-Y.height,n[l]=d?parseFloat(m)/100*h+"px":parseFloat(m)/h*100+"%");m=n.join(" ")}return this.parseComplex(t.style,m,b,o,a)},formatter:lt}),Bt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return lt(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),Bt("perspective",{defaultValue:"0px",prefix:!0}),Bt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Bt("transformStyle",{prefix:!0}),Bt("backfaceVisibility",{prefix:!0}),Bt("userSelect",{prefix:!0}),Bt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),Bt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Bt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,s,o,a){var n,r,l;return L<9?(r=t.currentStyle,l=L<8?" ":",",n="rect("+r.clipTop+l+r.clipRight+l+r.clipBottom+l+r.clipLeft+")",e=this.format(e).split(",").join(l)):(n=this.format(tt(t,this.p,B,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,n,e,o,a)}}),Bt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Bt("autoRound,strictUnits",{parser:function(t,e,i,s,o){return o}}),Bt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,s,o,a){var n=tt(t,"borderTopWidth",B,!1,"0px"),r=this.format(e).split(" "),l=r[0].replace(F,"");return"px"!==l&&(n=parseFloat(n)/et(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(n+" "+tt(t,"borderTopStyle",B,!1,"solid")+" "+tt(t,"borderTopColor",B,!1,"#000")),r.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ft)||["#000"])[0]}}),Bt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Bt("float,cssFloat,styleFloat",{parser:function(t,e,i,s,o,a){var n=t.style,r="cssFloat"in n?"cssFloat":"styleFloat";return new vt(n,r,0,0,o,-1,i,!1,0,n[r],e)}});var qt=function(t){var e,i=this.t,s=i.filter||tt(this.data,"filter")||"",o=this.s+this.c*t|0;100===o&&(-1===s.indexOf("atrix(")&&-1===s.indexOf("radient(")&&-1===s.indexOf("oader(")?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=s.replace(n,""),e=!0)),e||(this.xn1&&(i.filter=s=s||"alpha(opacity="+o+")"),-1===s.indexOf("pacity")?0===o&&this.xn1||(i.filter=s+" alpha(opacity="+o+")"):i.filter=s.replace(H,"opacity="+o))};Bt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,s,o,a){var n=parseFloat(tt(t,"opacity",B,!1,"1")),r=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+n),l&&1===n&&"hidden"===tt(t,"visibility",B)&&0!==e&&(n=0),G?o=new vt(r,"opacity",n,e-n,o):((o=new vt(r,"opacity",100*n,100*(e-n),o)).xn1=l?1:0,r.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=qt),l&&((o=new vt(r,"visibility",0,0,o,-1,null,!1,0,0!==n?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",s._overwriteProps.push(o.n),s._overwriteProps.push(i)),o}});var Qt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(r,"-$1").toLowerCase())):t.removeAttribute(e))},Zt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Qt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Bt("className",{parser:function(t,e,i,s,o,a,n){var r,l,d,h,u,c=t.getAttribute("class")||"",_=t.style.cssText;if((o=s._classNamePT=new vt(t,i,0,0,o,2)).setRatio=Zt,o.pr=-11,m=!0,o.b=c,l=st(t,B),d=t._gsClassPT){for(h={},u=d.data;u;)h[u.p]=1,u=u._next;d.setRatio(1)}return(t._gsClassPT=o).e="="!==e.charAt(1)?e:c.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),r=ot(t,l,st(t),n,h),t.setAttribute("class",c),o.data=r.firstMPT,t.style.cssText=_,o=o.xfirst=s.parse(t,r.difs,o,a)}});var $t=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,s,o,a,n=this.t.style,r=f.transform.parse;if("all"===this.e)o=!(n.cssText="");else for(s=(e=this.e.split(" ").join("").split(",")).length;-1<--s;)i=e[s],f[i]&&(f[i].parse===r?o=!0:i="transformOrigin"===i?Et:f[i].p),Qt(n,i);o&&(Qt(n,Ht),(a=this.t._gsTransform)&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Bt("clearProps",{parser:function(t,e,i,s,o){return(o=new vt(t,i,0,0,o,2)).setRatio=$t,o.e=e,o.pr=-10,o.data=s._tween,m=!0,o}}),t="bezier,throwProps,physicsProps,physics2D".split(","),wt=t.length;wt--;)Lt(t[wt]);(t=N.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i,s){if(!t.nodeType)return!1;this._target=P=t,this._tween=i,this._vars=e,W=s,M=e.autoRound,m=!1,D=e.suffixMap||N.suffixMap,B=J(t,""),b=this._overwriteProps;var o,a,n,r,l,d,h,u,c,_=t.style;if(p&&""===_.zIndex&&("auto"!==(o=tt(t,"zIndex",B))&&""!==o||this._addLazySet(_,"zIndex",0)),"string"==typeof e&&(r=_.cssText,o=st(t,B),_.cssText=r+";"+e,o=ot(t,o,st(t)).difs,!G&&y.test(e)&&(o.opacity=parseFloat(RegExp.$1)),e=o,_.cssText=r),e.className?this._firstPT=a=f.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=a=this.parse(t,e,null),this._transformType){for(c=3===this._transformType,Ht?g&&(p=!0,""===_.zIndex&&("auto"!==(h=tt(t,"zIndex",B))&&""!==h||this._addLazySet(_,"zIndex",0)),S&&this._addLazySet(_,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(c?"visible":"hidden"))):_.zoom=1,n=a;n&&n._next;)n=n._next;u=new vt(t,"transform",0,0,null,2),this._linkCSSP(u,null,n),u.setRatio=Ht?Kt:Gt,u.data=this._transform||jt(t,B,!0),u.tween=i,u.pr=-1,b.pop()}if(m){for(;a;){for(d=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:l)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:l=a,a=d}this._firstPT=r}return!0},t.parse=function(t,e,i,s){var o,a,n,r,l,d,h,u,c,_,m=t.style;for(o in e)"function"==typeof(d=e[o])&&(d=d(W,P)),(a=f[o])?i=a.parse(t,d,o,this,i,s,e):(l=tt(t,o,B)+"",c="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||c&&T.test(d)?(c||(d=(3<(d=mt(d)).length?"rgba(":"rgb(")+d.join(",")+")"),i=Tt(m,o,l,d,!0,"transparent",i,0,s)):c&&I.test(d)?i=Tt(m,o,l,d,!0,null,i,0,s):(h=(n=parseFloat(l))||0===n?l.substr((n+"").length):"",""!==l&&"auto"!==l||("width"===o||"height"===o?(n=rt(t,o,B),h="px"):"left"===o||"top"===o?(n=it(t,o,B),h="px"):(n="opacity"!==o?0:1,h="")),(_=c&&"="===d.charAt(1))?(r=parseInt(d.charAt(0)+"1",10),d=d.substr(2),r*=parseFloat(d),u=d.replace(F,"")):(r=parseFloat(d),u=c?d.replace(F,""):""),""===u&&(u=o in D?D[o]:h),d=r||0===r?(_?r+n:r)+u:e[o],h!==u&&""!==u&&(r||0===r)&&n&&(n=et(t,o,n,h),"%"===u?(n/=et(t,o,100,"%")/100,!0!==e.strictUnits&&(l=n+"%")):"em"===u||"rem"===u||"vw"===u||"vh"===u?n/=et(t,o,1,u):"px"!==u&&(r=et(t,o,r,u),u="px"),_&&(r||0===r)&&(d=r+n+u)),_&&(r+=n),!n&&0!==n||!r&&0!==r?void 0!==m[o]&&(d||d+""!="NaN"&&null!=d)?(i=new vt(m,o,r||n||0,0,i,-1,o,!1,0,l,d)).xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:l:q("invalid "+o+" tween value: "+e[o]):(i=new vt(m,o,n,r-n,i,0,o,!1!==M&&("px"===u||"zIndex"===o),0,l,d)).xs0=u)),s&&i&&!i.plugin&&(i.plugin=s);return i},t.setRatio=function(t){var e,i,s,o=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;o;){if(e=o.c*t+o.s,o.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),o.type)if(1===o.type)if(2===(s=o.l))o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2;else if(3===s)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===s)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===s)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(i=o.xs0+e+o.xs1,s=1;s<o.l;s++)i+=o["xn"+s]+o["xs"+(s+1)];o.t[o.p]=i}else-1===o.type?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(t);else o.t[o.p]=e+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(t),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&-1!==o.type)if(e=Math.round(o.s+o.c),o.type){if(1===o.type){for(s=o.l,i=o.xs0+e+o.xs1,s=1;s<o.l;s++)i+=o["xn"+s]+o["xs"+(s+1)];o.t[o.p]=i}}else o.t[o.p]=e+o.xs0;else o.t[o.p]=o.e;else o.setRatio(t);o=o._next}},t._enableTransforms=function(t){this._transform=this._transform||jt(this._target,B,!0),this._transformType=this._transform.svg&&Mt||!t&&3!==this._transformType?2:3};var Jt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};t._addLazySet=function(t,e,i){var s=this._firstPT=new vt(t,e,0,0,this._firstPT,2);s.e=i,s.setRatio=Jt,s.data=this},t._linkCSSP=function(t,e,i,s){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,s=!0),i?i._next=t:s||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},t._kill=function(t){var e,i,s,o=t;if(t.autoAlpha||t.alpha){for(i in o={},t)o[i]=t[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(e=this._classNamePT)&&((s=e.xfirst)&&s._prev?this._linkCSSP(s._prev,e._next,s._prev._prev):s===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,s._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==i&&e.plugin._kill&&(e.plugin._kill(t),i=e.plugin),e=e._next;return a.prototype._kill.call(this,o)};var te=function(t,e,i){var s,o,a,n;if(t.slice)for(o=t.length;-1<--o;)te(t[o],e,i);else for(o=(s=t.childNodes).length;-1<--o;)n=(a=s[o]).type,a.style&&(e.push(st(a)),i&&i.push(a)),1!==n&&9!==n&&11!==n||!a.childNodes.length||te(a,e,i)};return N.cascadeTo=function(t,e,i){var s,o,a,n,r=U.to(t,e,i),l=[r],d=[],h=[],u=[],c=U._internals.reservedProps;for(t=r._targets||r.target,te(t,d,u),r.render(e,!0,!0),te(t,h),r.render(0,!0,!0),r._enabled(!0),s=u.length;-1<--s;)if((o=ot(u[s],d[s],h[s])).firstMPT){for(a in o=o.difs,i)c[a]&&(o[a]=i[a]);for(a in n={},o)n[a]=d[s][a];l.push(U.fromTo(u[s],e,n,o))}return l},a.activate([N]),N},!0),e=_fwd_gsScope.FWDFWD_gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),l=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},(s=e.prototype)._onInitAllProps=function(){for(var t,e,i,s=this._tween,o=s.vars.roundProps.join?s.vars.roundProps:s.vars.roundProps.split(","),a=o.length,n={},r=s._propLookup.roundProps;-1<--a;)n[o[a]]=Math.round;for(a=o.length;-1<--a;)for(t=o[a],e=s._firstPT;e;)i=e._next,e.pg?e.t._mod(n):e.n===t&&(2===e.f&&e.t?l(e.t._firstPT):(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:s._firstPT===e&&(s._firstPT=i),e._next=e._prev=null,s._propLookup[t]=r)),e=i;return!1},s._add=function(t,e,i,s){this._addTween(t,e,i,i+s,e,Math.round),this._overwriteProps.push(e)},_fwd_gsScope.FWDFWD_gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,i,s){var o,a;if("function"!=typeof t.setAttribute)return!1;for(o in e)"function"==typeof(a=e[o])&&(a=a(s,t)),this._addTween(t,"setAttribute",t.getAttribute(o)+"",a+"",o,!1,o),this._overwriteProps.push(o);return!0}}),_fwd_gsScope.FWDFWD_gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,i,s){"object"!=typeof e&&(e={rotation:e}),this.finals={};var o,a,n,r,l,d,h=!0===e.useRadians?2*Math.PI:360;for(o in e)"useRadians"!==o&&("function"==typeof(r=e[o])&&(r=r(s,t)),a=(d=(r+"").split("_"))[0],n=parseFloat("function"!=typeof t[o]?t[o]:t[o.indexOf("set")||"function"!=typeof t["get"+o.substr(3)]?o:"get"+o.substr(3)]()),l=(r=this.finals[o]="string"==typeof a&&"="===a.charAt(1)?n+parseInt(a.charAt(0)+"1",10)*Number(a.substr(2)):Number(a)||0)-n,d.length&&(-1!==(a=d.join("_")).indexOf("short")&&(l%=h)!==l%(h/2)&&(l=l<0?l+h:l-h),-1!==a.indexOf("_cw")&&l<0?l=(l+9999999999*h)%h-(l/h|0)*h:-1!==a.indexOf("ccw")&&0<l&&(l=(l-9999999999*h)%h-(l/h|0)*h)),(1e-6<l||l<-1e-6)&&(this._addTween(t,o,n,n+l,o),this._overwriteProps.push(o)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_fwd_gsScope.FWDFWD_gsDefine("easing.Back",["easing.Ease"],function(f){var e,i,t,s=_fwd_gsScope.FWDGreenSockGlobals||_fwd_gsScope,o=s.com.greensock,a=2*Math.PI,n=Math.PI/2,r=o._class,l=function(t,e){var i=r("easing."+t,function(){},!0),s=i.prototype=new f;return s.constructor=i,s.getRatio=e,i},d=f.register||function(){},h=function(t,e,i,s,o){var a=r("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new s},!0);return d(a,t),a},p=function(t,e,i){this.t=t,this.v=e,i&&(((this.next=i).prev=this).c=i.v-e,this.gap=i.t-t)},u=function(t,e){var i=r("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),s=i.prototype=new f;return s.constructor=i,s.getRatio=e,s.config=function(t){return new i(t)},i},c=h("Back",u("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),u("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),u("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),_=r("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),m=_.prototype=new f;return m.constructor=_,m.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},_.ease=new _(.7,.7),m.config=_.config=function(t,e,i){return new _(t,e,i)},(m=(e=r("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0)).prototype=new f).constructor=e,m.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},(m=(i=r("easing.RoughEase",function(t){for(var e,i,s,o,a,n,r=(t=t||{}).taper||"none",l=[],d=0,h=0|(t.points||20),u=h,c=!1!==t.randomize,_=!0===t.clamp,m=t.template instanceof f?t.template:null,b="number"==typeof t.strength?.4*t.strength:.4;-1<--u;)e=c?Math.random():1/h*u,i=m?m.getRatio(e):e,s="none"===r?b:"out"===r?(o=1-e)*o*b:"in"===r?e*e*b:e<.5?(o=2*e)*o*.5*b:(o=2*(1-e))*o*.5*b,c?i+=Math.random()*s-.5*s:u%2?i+=.5*s:i-=.5*s,_&&(1<i?i=1:i<0&&(i=0)),l[d++]={x:e,y:i};for(l.sort(function(t,e){return t.x-e.x}),n=new p(1,1,null),u=h;-1<--u;)a=l[u],n=new p(a.x,a.y,n);this._prev=new p(0,0,0!==n.t?n:n.next)},!0)).prototype=new f).constructor=i,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},m.config=function(t){return new i(t)},i.ease=new i,h("Bounce",l("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),h("Elastic",(t=function(t,e,i){var s=r("easing."+t,function(t,e){this._p1=1<=t?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=s.prototype=new f;return o.constructor=s,o.getRatio=e,o.config=function(t,e){return new s(t,e)},s})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),t("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),t("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),h("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",l("SineOut",function(t){return Math.sin(t*n)}),l("SineIn",function(t){return 1-Math.cos(t*n)}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),r("easing.EaseLookup",{find:function(t){return f.map[t]}},!0),d(s.SlowMo,"SlowMo","ease,"),d(i,"RoughEase","ease,"),d(e,"SteppedEase","ease,"),c},!0)}),_fwd_gsScope.FWDFWD_gsDefine&&_fwd_gsScope._fwd_gsQueue.pop()(),function(_,m){"use strict";var b={},f=_.FWDGreenSockGlobals=_.FWDGreenSockGlobals||_;if(!f.FWDTweenLite){var t,e,i,p,g,s,o,S=function(t){var e,i=t.split("."),s=f;for(e=0;e<i.length;e++)s[i[e]]=s=s[i[e]]||{};return s},u=S("com.greensock"),v=1e-10,l=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},y=function(){},T=(s=Object.prototype.toString,o=s.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&s.call(t)===o)}),w={},D=function(l,d,h,u){this.sc=w[l]?w[l].sc:[],(w[l]=this).gsClass=null,this.func=h;var c=[];this.check=function(t){for(var e,i,s,o,a,n=d.length,r=n;-1<--n;)(e=w[d[n]]||new D(d[n],[])).gsClass?(c[n]=e.gsClass,r--):t&&e.sc.push(this);if(0===r&&h){if(s=(i=("com.greensock."+l).split(".")).pop(),o=S(i.join("."))[s]=this.gsClass=h.apply(h,c),u)if(f[s]=b[s]=o,!(a="undefined"!=typeof fwd_module&&fwd_module.exports)&&"function"==typeof define&&define.amd)define((_.FWDGreenSockAMDPath?_.FWDGreenSockAMDPath+"/":"")+l.split(".").pop(),[],function(){return o});else if(a)if(l===m)for(n in fwd_module.exports=b[m]=o,b)o[n]=b[n];else b[m]&&(b[m][s]=o);for(n=0;n<this.sc.length;n++)this.sc[n].check()}},this.check(!0)},a=_.FWDFWD_gsDefine=function(t,e,i,s){return new D(t,e,i,s)},c=u._class=function(t,e,i){return e=e||function(){},a(t,[],function(){return e},i),e};a.globals=f;var n=[0,0,1,1],B=c("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?n.concat(e):n},!0),L=B.map={},r=B.register=function(t,e,i,s){for(var o,a,n,r,l=e.split(","),d=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");-1<--d;)for(a=l[d],o=s?c("easing."+a,null,!0):u.easing[a]||{},n=h.length;-1<--n;)r=h[n],L[a+"."+r]=L[r+a]=o[r]=t.getRatio?t:t[r]||new t};for((i=B.prototype)._calcEnd=!1,i.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:t<.5?s/2:1-s/2},e=(t=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--e;)i=t[e]+",Power"+e,r(new B(null,null,1,e),i,"easeOut",!0),r(new B(null,null,2,e),i,"easeIn"+(0===e?",easeNone":"")),r(new B(null,null,3,e),i,"easeInOut");L.linear=u.easing.Linear.easeIn,L.swing=u.easing.Quad.easeInOut;var M=c("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(i=M.prototype).addEventListener=function(t,e,i,s,o){o=o||0;var a,n,r=this._listeners[t],l=0;for(this!==p||g||p.wake(),null==r&&(this._listeners[t]=r=[]),n=r.length;-1<--n;)(a=r[n]).c===e&&a.s===i?r.splice(n,1):0===l&&a.pr<o&&(l=n+1);r.splice(l,0,{c:e,s:i,up:s,pr:o})},i.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;-1<--i;)if(s[i].c===e)return void s.splice(i,1)},i.dispatchEvent=function(t){var e,i,s,o=this._listeners[t];if(o)for(1<(e=o.length)&&(o=o.slice(0)),i=this._eventTarget;-1<--e;)(s=o[e])&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var P=_.requestAnimationFrame,W=_.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},O=C();for(e=(t=["ms","moz","webkit","o"]).length;-1<--e&&!P;)P=_[t[e]+"RequestAnimationFrame"],W=_[t[e]+"CancelAnimationFrame"]||_[t[e]+"CancelRequestAnimationFrame"];c("Ticker",function(t,e){var o,a,n,r,l,d=this,h=C(),i=!(!1===e||!P)&&"auto",u=500,c=33,_=function(t){var e,i,s=C()-O;u<s&&(h+=s-c),O+=s,d.time=(O-h)/1e3,e=d.time-l,(!o||0<e||!0===t)&&(d.frame++,l+=e+(r<=e?.004:r-e),i=!0),!0!==t&&(n=a(_)),i&&d.dispatchEvent("tick")};M.call(d),d.time=d.frame=0,d.tick=function(){_(!0)},d.lagSmoothing=function(t,e){u=t||1e10,c=Math.min(e,u,0)},d.sleep=function(){null!=n&&(i&&W?W(n):clearTimeout(n),a=y,n=null,d===p&&(g=!1))},d.wake=function(t){null!==n?d.sleep():t?h+=-O+(O=C()):10<d.frame&&(O=C()-u+5),a=0===o?y:i&&P?P:function(t){return setTimeout(t,1e3*(l-d.time)+1|0)},d===p&&(g=!0),_(2)},d.fps=function(t){if(!arguments.length)return o;r=1/((o=t)||60),l=this.time+r,d.wake()},d.useRAF=function(t){if(!arguments.length)return i;d.sleep(),i=t,d.fps(o)},d.fps(t),setTimeout(function(){"auto"===i&&d.frame<5&&"hidden"!==document.visibilityState&&d.useRAF(!1)},1500)}),(i=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var d=c("core.FWDAnim",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,K){g||p.wake();var i=this.vars.useFrames?G:K;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});p=d.ticker=new u.Ticker,(i=d.prototype)._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;var h=function(){g&&2e3<C()-O&&p.wake(),setTimeout(h,2e3)};h(),i.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},i.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},i.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},i.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},i.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},i.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},i.render=function(t,e,i){},i.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},i.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},i._enabled=function(t,e){return g||p.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(t,e){return this._enabled(!1,!1)},i.kill=function(t,e){return this._kill(t,e),this},i._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},i._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},i._callback=function(t){var e=this.vars,i=e[t],s=e[t+"Params"],o=e[t+"Scope"]||e.callbackScope||this;switch(s?s.length:0){case 0:i.call(o);break;case 1:i.call(o,s[0]);break;case 2:i.call(o,s[0],s[1]);break;default:i.apply(o,s)}},i.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[t];null==e?delete o[t]:(o[t]=e,o[t+"Params"]=T(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,o[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},i.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},i.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},i.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},i.totalTime=function(t,e,i){if(g||p.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,o=this._timeline;if(s<t&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?s-t:t)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(E.length&&Q(),this.render(t,e,!1),E.length&&Q())}return this},i.progress=i.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},i.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},i.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},i.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||v,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},i.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},i.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(g||t||p.wake(),i=(e=s.rawTime())-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var F=c("core.FWDSimpleTimeline",function(t){d.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(i=F.prototype=new d).constructor=F,i.kill()._gc=!1,i._first=i._last=i._recent=null,i._sortChildren=!1,i.add=i.insert=function(t,e,i,s){var o,a;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),o=this._last,this._sortChildren)for(a=t._startTime;o&&o._startTime>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=o,this._recent=t,this._timeline&&this._uncache(!0),this},i._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},i.render=function(t,e,i){var s,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;o;)s=o._next,(o._active||t>=o._startTime&&!o._paused)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(t-o._startTime)*o._timeScale,e,i):o.render((t-o._startTime)*o._timeScale,e,i)),o=s},i.rawTime=function(){return g||p.wake(),this._totalTime};var H=c("FWDTweenLite",function(t,e,i){if(d.call(this,e,i),this.render=H.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:H.selector(t)||t;var s,o,a,n=t.jquery||t.length&&t!==_&&t[0]&&(t[0]===_||t[0].nodeType&&t[0].style&&!t.nodeType),r=this.vars.overwrite;if(this._overwrite=r=null==r?j[H.defaultOverwrite]:"number"==typeof r?r>>0:j[r],(n||t instanceof Array||t.push&&T(t))&&"number"!=typeof t[0])for(this._targets=a=l(t),this._propLookup=[],this._siblings=[],s=0;s<a.length;s++)(o=a[s])?"string"!=typeof o?o.length&&o!==_&&o[0]&&(o[0]===_||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(s--,1),this._targets=a=a.concat(l(o))):(this._siblings[s]=Z(o,this,!1),1===r&&1<this._siblings[s].length&&J(o,this,null,1,this._siblings[s])):"string"==typeof(o=a[s--]=H.selector(o))&&a.splice(s+1,1):a.splice(s--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===r&&1<this._siblings.length&&J(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-v,this.render(Math.min(0,-this._delay)))},!0),x=function(t){return t&&t.length&&t!==_&&t[0]&&(t[0]===_||t[0].nodeType&&t[0].style&&!t.nodeType)};(i=H.prototype=new d).constructor=H,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=i._lazy=!1,H.version="1.19.0",H.defaultEase=i._ease=new B(null,null,1,1),H.defaultOverwrite="auto",H.ticker=p,H.autoSleep=120,H.lagSmoothing=function(t,e){p.lagSmoothing(t,e)},H.selector=_.$||_.jQuery||function(t){var e=_.$||_.jQuery;return e?(H.selector=e)(t):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var E=[],I={},A=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,k=function(t){for(var e,i=this._firstPT;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&-1e-6<e&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},R=function(t,e,i,s){var o,a,n,r,l,d,h,u=[t,e],c=0,_="",m=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),u.length=0,o=t.match(A)||[],a=e.match(A)||[],s&&(s._next=null,s.blob=1,u._firstPT=u._applyPT=s),l=a.length,r=0;r<l;r++)h=a[r],_+=(d=e.substr(c,e.indexOf(h,c)-c))||!r?d:",",c+=d.length,m?m=(m+1)%5:"rgba("===d.substr(-5)&&(m=1),h===o[r]||o.length<=r?_+=h:(_&&(u.push(_),_=""),n=parseFloat(o[r]),u.push(n),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:n,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-n)||0,f:0,m:m&&m<4?Math.round:0}),c+=h.length;return(_+=e.substr(c))&&u.push(_),u.setRatio=k,u},U=function(t,e,i,s,o,a,n,r,l){"function"==typeof s&&(s=s(l||0,t));var d,h="get"===i?t[e]:i,u=typeof t[e],c="string"==typeof s&&"="===s.charAt(1),_={t:t,p:e,s:h,f:"function"===u,pg:0,n:o||e,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:c?parseInt(s.charAt(0)+"1",10)*parseFloat(s.substr(2)):parseFloat(s)-h||0};if("number"!==u&&("function"===u&&"get"===i&&(d=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),_.s=h=n?t[d](n):t[d]()),"string"==typeof h&&(n||isNaN(h))?(_.fp=n,_={t:R(h,s,r||H.defaultStringFilter,_),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||e,pr:0,m:0}):c||(_.s=parseFloat(h),_.c=parseFloat(s)-_.s||0)),_.c)return(_._next=this._firstPT)&&(_._next._prev=_),this._firstPT=_},N=H._internals={isArray:T,isSelector:x,lazyTweens:E,blobDif:R},z=H._plugins={},V=N.tweenLookup={},X=0,Y=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},G=d._rootFramesTimeline=new F,K=d._rootTimeline=new F,q=30,Q=N.lazyRender=function(){var t,e=E.length;for(I={};-1<--e;)(t=E[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);E.length=0};K._startTime=p.time,G._startTime=p.frame,K._active=G._active=!0,setTimeout(Q,1),d._updateRoot=H.render=function(){var t,e,i;if(E.length&&Q(),K.render((p.time-K._startTime)*K._timeScale,!1,!1),G.render((p.frame-G._startTime)*G._timeScale,!1,!1),E.length&&Q(),p.frame>=q){for(i in q=p.frame+(parseInt(H.autoSleep,10)||120),V){for(t=(e=V[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete V[i]}if((!(i=K._first)||i._paused)&&H.autoSleep&&!G._first&&1===p._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||p.sleep()}}},p.addEventListener("tick",d._updateRoot);var Z=function(t,e,i){var s,o,a=t._gsTweenID;if(V[a||(t._gsTweenID=a="t"+X++)]||(V[a]={target:t,tweens:[]}),e&&((s=V[a].tweens)[o=s.length]=e,i))for(;-1<--o;)s[o]===e&&s.splice(o,1);return V[a].tweens},$=function(t,e,i,s){var o,a,n=t.vars.onOverwrite;return n&&(o=n(t,e,i,s)),(n=H.onOverwrite)&&(a=n(t,e,i,s)),!1!==o&&!1!==a},J=function(t,e,i,s,o){var a,n,r,l;if(1===s||4<=s){for(l=o.length,a=0;a<l;a++)if((r=o[a])!==e)r._gc||r._kill(null,t,e)&&(n=!0);else if(5===s)break;return n}var d,h=e._startTime+v,u=[],c=0,_=0===e._duration;for(a=o.length;-1<--a;)(r=o[a])===e||r._gc||r._paused||(r._timeline!==e._timeline?(d=d||tt(e,0,_),0===tt(r,d,_)&&(u[c++]=r)):r._startTime<=h&&r._startTime+r.totalDuration()/r._timeScale>h&&((_||!r._initted)&&h-r._startTime<=2e-10||(u[c++]=r)));for(a=c;-1<--a;)if(r=u[a],2===s&&r._kill(i,t,e)&&(n=!0),2!==s||!r._firstPT&&r._initted){if(2!==s&&!$(r,e))continue;r._enabled(!1,!1)&&(n=!0)}return n},tt=function(t,e,i){for(var s=t._timeline,o=s._timeScale,a=t._startTime;s._timeline;){if(a+=s._startTime,o*=s._timeScale,s._paused)return-100;s=s._timeline}return e<(a/=o)?a-e:i&&a===e||!t._initted&&a-e<2*v?v:(a+=t.totalDuration()/t._timeScale/o)>e+v?0:a-e-v};i._init=function(){var t,e,i,s,o,a,n=this.vars,r=this._overwrittenProps,l=this._duration,d=!!n.immediateRender,h=n.ease;if(n.startAt){for(s in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={},n.startAt)o[s]=n.startAt[s];if(o.overwrite=!1,o.immediateRender=!0,o.lazy=d&&!1!==n.lazy,o.startAt=o.delay=null,this._startAt=H.to(this.target,0,o),d)if(0<this._time)this._startAt=null;else if(0!==l)return}else if(n.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(s in 0!==this._time&&(d=!1),i={},n)Y[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=d&&!1!==n.lazy,i.immediateRender=d,this._startAt=H.to(this.target,0,i),d){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof B?h:"function"==typeof h?new B(h,n.easeParams):L[h]||H.defaultEase:H.defaultEase,n.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,t=0;t<a;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],r?r[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,r,0);if(e&&H._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},i._initProps=function(t,e,i,s,o){var a,n,r,l,d,h;if(null==t)return!1;for(a in I[t._gsTweenID]&&Q(),this.vars.css||t.style&&t!==_&&t.nodeType&&z.css&&!1!==this.vars.autoCSS&&function(t,e){var i,s={};for(i in t)Y[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!z[i]||z[i]&&z[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s}(this.vars,t),this.vars)if(h=this.vars[a],Y[a])h&&(h instanceof Array||h.push&&T(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(z[a]&&(l=new z[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=d={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},n=l._overwriteProps.length;-1<--n;)e[l._overwriteProps[n]]=this._firstPT;(l._priority||l._onInitAllProps)&&(r=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),d._next&&(d._next._prev=d)}else e[a]=U.call(this,t,a,"get",h,a,0,null,this.vars.stringFilter,o);return s&&this._kill(s,t)?this._initProps(t,e,i,s,o):1<this._overwrite&&this._firstPT&&1<i.length&&J(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,s,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(I[t._gsTweenID]=!0),r)},i.render=function(t,e,i){var s,o,a,n,r=this._time,l=this._duration,d=this._rawPrevTime;if(l-1e-7<=t)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(d<0||t<=0&&-1e-7<=t||d===v&&"isPause"!==this.data)&&d!==t&&(i=!0,v<d&&(o="onReverseComplete")),this._rawPrevTime=n=!e||t||d===t?t:v);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==r||0===l&&0<d)&&(o="onReverseComplete",s=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(0<=d&&(d!==v||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=n=!e||t||d===t?t:v)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,u=this._easeType,c=this._easePower;(1===u||3===u&&.5<=h)&&(h=1-h),3===u&&(h*=2),1===c?h*=h:2===c?h*=h*h:3===c?h*=h*h*h:4===c&&(h*=h*h*h*h),this.ratio=1===u?1-h:2===u?h:t/l<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==r||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=r,this._rawPrevTime=d,E.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/l):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==r&&0<=t&&(this._active=!0),0===r&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||(this._time!==r||s||i)&&this._callback("onUpdate")),o&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===l&&this._rawPrevTime===v&&n!==v&&(this._rawPrevTime=0)))}},i._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:H.selector(e)||e;var s,o,a,n,r,l,d,h,u,c=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((T(e)||x(e))&&"number"!=typeof e[0])for(s=e.length;-1<--s;)this._kill(t,e[s],i)&&(l=!0);else{if(this._targets){for(s=this._targets.length;-1<--s;)if(e===this._targets[s]){r=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;r=this._propLookup,o=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(r){if(d=t||r,h=t!==o&&"all"!==o&&t!==r&&("object"!=typeof t||!t._tempKill),i&&(H.onOverwrite||this.vars.onOverwrite)){for(a in d)r[a]&&(u||(u=[]),u.push(a));if((u||!t)&&!$(this,i,e,u))return!1}for(a in d)(n=r[a])&&(c&&(n.f?n.t[n.p](n.s):n.t[n.p]=n.s,l=!0),n.pg&&n.t._kill(d)&&(l=!0),n.pg&&0!==n.t._overwriteProps.length||(n._prev?n._prev._next=n._next:n===this._firstPT&&(this._firstPT=n._next),n._next&&(n._next._prev=n._prev),n._next=n._prev=null),delete r[a]),h&&(o[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},i.invalidate=function(){return this._notifyPluginsOfEnabled&&H._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],d.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(Math.min(0,-this._delay))),this},i._enabled=function(t,e){if(g||p.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;-1<--i;)this._siblings[i]=Z(s[i],this,!0);else this._siblings=Z(this.target,this,!0)}return d.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&H._onPluginEvent(t?"_onEnable":"_onDisable",this)},H.to=function(t,e,i){return new H(t,e,i)},H.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new H(t,e,i)},H.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new H(t,e,s)},H.delayedCall=function(t,e,i,s,o){return new H(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},H.set=function(t,e){return new H(t,0,e)},H.getTweensOf=function(t,e){if(null==t)return[];var i,s,o,a;if(t="string"!=typeof t?t:H.selector(t)||t,(T(t)||x(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];-1<--i;)s=s.concat(H.getTweensOf(t[i],e));for(i=s.length;-1<--i;)for(a=s[i],o=i;-1<--o;)a===s[o]&&s.splice(i,1)}else for(i=(s=Z(t).concat()).length;-1<--i;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},H.killTweensOf=H.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=H.getTweensOf(t,e),o=s.length;-1<--o;)s[o]._kill(i,t)};var et=c("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=et.prototype},!0);if(i=et.prototype,et.version="1.19.0",et.API=2,i._firstPT=null,i._addTween=U,i.setRatio=k,i._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},i._mod=i._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},H._onPluginEvent=function(t,e){var i,s,o,a,n,r=e._firstPT;if("_onInitAllProps"===t){for(;r;){for(n=r._next,s=o;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:a)?r._prev._next=r:o=r,(r._next=s)?s._prev=r:a=r,r=n}r=e._firstPT=o}for(;r;)r.pg&&"function"==typeof r.t[t]&&r.t[t]()&&(i=!0),r=r._next;return i},et.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===et.API&&(z[(new t[e])._propName]=t[e]);return!0},a.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,o=t.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},n=c("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){et.call(this,i,s),this._overwriteProps=o||[]},!0===t.fwd_global),r=n.prototype=new et(i);for(e in(r.constructor=n).API=t.API,a)"function"==typeof t[e]&&(r[a[e]]=t[e]);return n.version=t.version,et.activate([n]),n},t=_._fwd_gsQueue){for(e=0;e<t.length;e++)t[e]();for(i in w)w[i].func||_.console.log("GSAP encountered missing dependency: "+i)}g=!1}}("undefined"!=typeof fwd_module&&fwd_module.exports&&"undefined"!=typeof fwd_global?fwd_global:this||window,"FWDAnimation")}if(function(t){var e=function(){var o=this;e.prototype;this.main_do=null,this.init=function(){this.setupScreen(),t.onerror=this.showError,this.screen.style.zIndex=10000009,setTimeout(this.addConsoleToDom,100),setInterval(this.position,100)},this.position=function(){var t=FWDRLUtils.getScrollOffsets();o.setX(t.x),o.setY(t.y)},this.addConsoleToDom=function(){-1!=navigator.userAgent.toLowerCase().indexOf("msie 7")?document.getElementsByTagName("body")[0].appendChild(o.screen):document.documentElement.appendChild(o.screen)},this.setupScreen=function(){this.main_do=new FWDRLDisplayObject("div","absolute"),this.main_do.setOverflow("auto"),this.main_do.setWidth(200),this.main_do.setHeight(300),this.setWidth(200),this.setHeight(300),this.main_do.setBkColor("#FFFFFF"),this.addChild(this.main_do)},this.showError=function(t,e,i){var s=o.main_do.getInnerHTML()+"<br>JavaScript error: "+t+" on line "+i+" for "+e;o.main_do.setInnerHTML(s),o.main_do.screen.scrollTop=o.main_do.screen.scrollHeight},this.log=function(t){var e=o.main_do.getInnerHTML()+"<br>"+t;o.main_do.setInnerHTML(e),o.main_do.getScreen().scrollTop=1e4},this.init()};e.setPrototype=function(){e.prototype=new FWDRLDisplayObject("div","absolute")},e.prototype=null,t.FWDConsole=e}(window),function(d){var t=navigator.platform,e=!1;if("iPad"!=t&&"iPhone"!=t||(e=!0),e){var i=!1;if(-1!=navigator.userAgent.indexOf("6")&&(i=!0),i){var s={},o={},a=d.setTimeout,h=d.setInterval,n=d.clearTimeout,r=d.clearInterval;d.setTimeout=function(){return l(a,s,arguments)},d.setInterval=function(){return l(h,o,arguments)},d.clearTimeout=function(t){var e=s[t];e&&(delete s[t],n(e.id))},d.clearInterval=function(t){var e=o[t];e&&(delete o[t],r(e.id))},d.addEventListener("scroll",function(){var t;for(t in s)u(a,n,s,t);for(t in o)u(h,r,o,t)})}}function l(t,e,i){var s,o=i[0],a=t===h;return i[0]=function(){o&&(o.apply(d,arguments),a||(delete e[s],o=null))},s=t.apply(d,i),e[s]={args:i,created:Date.now(),cb:o,id:s},s}function u(t,e,i,s,o){var a=i[s];if(a){var n=t===h;if(e(a.id),!n){var r=a.args[1],l=Date.now()-a.created;l<0&&(l=0),(r-=l)<0&&(r=0),a.args[1]=r}a.args[0]=function(){a.cb&&(a.cb.apply(d,arguments),n||(delete i[s],a.cb=null))},a.created=Date.now(),a.id=t.apply(d,a.args)}}}(window),function(window){var FWDRL=function(props){var self=this;self.init=function(){(self.props_obj=props,self.props_obj)?(this.stageContainer=document.getElementsByTagName("body")[0],this.stageContainer||(this.stageContainer=document.documentElement),this.listeners={events_ar:[]},this.buttons_ar=null,this.buttonsMaxW_ar=null,this.ws=null,this.so=null,this.data=null,this.customContextMenu_do=null,this.thumbnailsManager_do=null,this.info_do=null,this.hider=null,this.main_do=null,this.bk_do=null,this.preloader_do=null,this.playlist_ar=null,this.mainItemHolder_do=null,this.itemBk_do=null,this.itemBorder_do=null,this.itemHolder_do=null,this.curItem_do=null,this.prevItem_do=null,this.image_img=null,this.closeButton_do=null,this.zoomButton_do=null,this.descButton_do=null,this.slideShowButton_do=null,this.nextButton_do=null,this.prevButton_do=null,this.hsThumbanilsButton_do=null,this.video_do=null,this.videoHolder_do=null,this.audioHolder_do=null,this.audio_do=null,this.scClientId_str="0aff03b3b79c2ac02fd2283b300735bd",this.flickrAPIKey_str="8b8bea6be401b521615b9b74c12131f2",this.rightClickContextMenu_str=this.props_obj.rightClickContextMenu||"developer","developer"==this.rightClickContextMenu_str||"disabled"==this.rightClickContextMenu_str||"default"==this.rightClickContextMenu_str||(this.rightClickContextMenu_str="developer"),this.buttonsAlignment_str=this.props_obj.buttonsAlignment||"in","in"==this.buttonsAlignment_str||"out"==this.buttonsAlignment_str||(this.buttonsAlignment_str="in"),this.DFButtonsAlignment_str=this.buttonsAlignment_str,this.descriptionWindowPosition_str=this.props_obj.descriptionWindowPosition||"top","top"==this.descriptionWindowPosition_str||"bottom"==this.descriptionWindowPosition_str||(this.descriptionWindowPosition_str="top"),this.DFDescriptionWindowPosition_str=this.descriptionWindowPosition_str,this.descriptionAnimationType_str=this.props_obj.descriptionWindowAnimationType||"motion","motion"==this.descriptionAnimationType_str||"opacity"==this.descriptionAnimationType_str||(this.descriptionAnimationType_str="motion"),this.DFDescriptionAnimationType_str=this.descriptionAnimationType_str,this.descriptionAnimationType_str=this.props_obj.descriptionWindowAnimationType||"motion","motion"==this.descriptionAnimationType_str||"opacity"==this.descriptionAnimationType_str||(this.descriptionAnimationType_str="motion"),this.DFDescriptionAnimationType_str=this.descriptionAnimationType_str,this.thumbnailsHoverEffect_str=this.props_obj.thumbnailsHoverEffect||"scale","scale"==this.thumbnailsHoverEffect_str||"opacity"==this.thumbnailsHoverEffect_str||(this.thumbnailsHoverEffect_str="opacity"),this.DFThumbnailsHoverEffect_str=this.thumbnailsHoverEffect_str,this.facebookAppId_str=self.props_obj.facebookAppId||void 0,this.googleMapsAPIKey_str="AIzaSyDYlgLIneg_UOd8STBfJEgq2JgmT5nNJKU",this.backgroundColor_str=this.props_obj.backgroundColor||"#000000",this.DFBackgroundColor_str=self.backgroundColor_str,this.playlistDOMOrObject=null,this.type_str,this.itemBorderColor_str=this.props_obj.itemBorderColor||"transparent",this.DFitemBorderColor_str=this.itemBorderColor_str,this.itemBkColor_str=this.props_obj.itemBackgroundColor||"transparent",this.DFItemBkColor_str=this.itemBkColor_str,this.playlistDomOrObj_str=void 0,this.itemBoxShadow_str=this.props_obj.itemBoxShadow||"none",this.DFItemBoxShadow_str=this.itemBoxShadow_str,this.thumbnailsBorderNormalColor_str=this.props_obj.thumbnailsBorderNormalColor||"#FF0000",this.DFThumbnailsBorderNormalColor=this.thumbnailsBorderNormalColor_str,this.thumbnailsBorderSelectedColor_str=this.props_obj.thumbnailsBorderSelectedColor||"#FF0000",this.DFThumbnailsBorderSelectedColor_str=this.thumbnailsBorderSelectedColor_str,this.descriptionWindowBackgroundColor_str=this.props_obj.descriptionWindowBackgroundColor||"#FF0000",this.DFDescriptionWindowBackgroundColor=this.descriptionWindowBackgroundColor_str,this.thumbnailsOverlayColor_str=this.props_obj.thumbnailsOverlayColor||"#FF0000",this.DFThumbnailsOverlayColor_str=this.thumbnailsOverlayColor_str,this.posterPath_str,this.DFVideoControllerBackgroundColor_str,this.DFVideoPosterBackgroundColor_str,this.DFTimeColor_str,this.descriptionWindowBackgroundOpacity=this.props_obj.descriptionWindowBackgroundOpacity||1,this.DFDescriptionWindowBackgroundOpacity=this.descriptionWindowBackgroundOpacity,this.backgroundOpacity=this.props_obj.backgroundOpacity||.8,this.DFBackgroundOpacity=this.backgroundOpacity,self.buttonsAlignment_str==FWDRL.BUTTONS_IN?this.buttonsOffsetIn=this.props_obj.buttonsOffsetIn||0:this.buttonsOffsetIn=this.props_obj.buttonsOffsetOut||0,this.DFButtonsOffsetIn=this.buttonsOffsetIn,self.buttonsAlignment_str==FWDRL.BUTTONS_IN?this.buttonsOffsetOut=this.props_obj.buttonsOffsetOut||0:this.buttonsOffsetOut=this.props_obj.buttonsOffsetIn||0,this.DFButtonsOffsetOut=this.buttonsOffsetOut,this.audioPlayerMarginsOffset=20,this.itemBorderRadius=this.props_obj.itemBorderRadius||0,this.DFItemBorderRadius=this.itemBorderRadius,this.itemBorderSize=this.props_obj.itemBorderSize||0,0==this.itemBorderSize&&(this.itemBorderColor_str="transparent"),this.DFItemBorderSize=this.itemBorderSize,this.spaceBetweenButtons=this.props_obj.spaceBetweenButtons||0,this.DFSpaceBetweenButtons=this.spaceBetweenButtons,this.buttonsHideDelay=this.props_obj.buttonsHideDelay||3,this.buttonsHideDelay*=1e3,this.DFbuttonsHideDelay=this.buttonsHideDelay,this.defaultItemW=this.props_obj.defaultItemWidth||640,this.defaultItemH=this.props_obj.defaultItemHeight||380,this.DFDefaultItemW=this.defaultItemW,this.DFDefaultItemH=this.defaultItemH,this.thumbnailsOffsetBottom=this.props_obj.thumbnailsOffsetBottom||0,this.DFThumbnailsOffsetBottom=this.thumbnailsOffsetBottom,this.thumbnailsBorderSize=this.props_obj.thumbnailsBorderSize||0,this.DFThumbnailsBorderSize=this.thumbnailsBorderSize,this.thumbnailsBorderRadius=this.props_obj.thumbnailsBorderRadius||0,this.DFThumbnailsBorderRadius=this.thumbnailsBorderRadius,this.thumbnailH=this.props_obj.thumbnailsImageHeight||50,this.thumbnailH+=2*this.thumbnailsBorderSize+this.thumbnailsOffsetBottom,this.DFThumbnailH=this.thumbnailH,this.spaceBetweenThumbnailsAndItem=this.props_obj.spaceBetweenThumbnailsAndItem||0,this.spaceBetweenThumbnails=this.props_obj.spaceBetweenThumbnails||0,this.DFSpaceBetweenThumbnails=this.spaceBetweenThumbnails,this.itemOffsetH=this.props_obj.itemOffsetHeight||0,this.DFItemOffsetH=this.itemOffsetH,this.spaceBetweenThumbnailsAndItem=this.props_obj.spaceBetweenThumbnailsAndItem||0,this.DFSpaceBetweenThumbnailsAndItem=this.spaceBetweenThumbnailsAndItem,this.slideShowDelay=1e3*parseInt(this.props_obj.slideShowDelay),this.slideShowDelay<.001&&(this.slideShowDelay=1e3),this.DFSlideShowDelay=this.slideShowDelay,this.thumbnailsOverlayOpacity=this.props_obj.thumbnailsOverlayOpacity||1,this.DFThumbnailsOverlayOpacity=this.thumbnailsOverlayOpacity,this.id=-1,this.prevId=-2,this.stageWidth=0,this.stageHeight=0,this.totalItems=0,this.originalW=0,this.originalH=0,this.maxButtonW=0,this.finalW=0,this.finalH=0,this.prevVideoW=0,this.prevVideoH=0,this.finalX=0,this.finalY=0,this.gmx=0,this.gmy=0,this.lastPresedX=0,this.lastPresedY=0,this.friction=.9,this.vx=0,this.vy=0,this.dif=0,this.mouseX=0,this.mouseY=0,this.resizeHandlerId_to,this.showOrHideCompleteId_to,this.hideCompleteId_to,this.animId_to,this.maximizeCompleteTimeOutId_to,this.minimizeCompleteTimeOutId_to,this.disableClickId_to,this.doNotAllowToHideId_to,this.updateImageWhenMaximized_int,this.isAnimForVideoAndAudioPlayersDone_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.useDeepLinking_bl=this.props_obj.useDeepLinking,this.useDeepLinking_bl="yes"==this.useDeepLinking_bl,FWDRLUtils.isLocal&&(this.useDeepLinking_bl=!1),this.showCloseButton_bl=this.props_obj.showCloseButton,this.showCloseButton_bl="no"!=this.showCloseButton_bl,this.DFShowCloseButton_bl=this.showCloseButton_bl,this.defaultShowZoomButton_bl=this.props_obj.showZoomButton,this.defaultShowZoomButton_bl="no"!=this.defaultShowZoomButton_bl,this.DFShowZoomButton=this.defaultShowZoomButton_bl,this.showZoomButton_bl=!1,this.defaultShowNextAndPrevButtons_bl=this.props_obj.showNextAndPrevButtons,this.defaultShowNextAndPrevButtons_bl="no"!=this.defaultShowNextAndPrevButtons_bl,"no"==this.props_obj.showNextAndPrevButtonsOnMobile&&self.isMobile_bl&&(this.defaultShowNextAndPrevButtons_bl=!1),this.DFSefaultShowNextAndPrevButtons_bl=this.defaultShowNextAndPrevButtons_bl,this.defaultHideDescriptionButtons_bl=this.props_obj.showDescriptionButton,this.defaultHideDescriptionButtons_bl="yes"==this.defaultHideDescriptionButtons_bl,this.DFDefaultHideDescriptionButtons_bl=this.defaultHideDescriptionButtons_bl,this.showDescriptionButton_bl=!1,this.hasItemDescription_bl=!1,this.defaultShowDescriptionByDefault_bl=this.props_obj.showDescriptionByDefault,this.defaultShowDescriptionByDefault_bl="yes"==this.defaultShowDescriptionByDefault_bl,this.DFDefaultShowDescriptionByDefault_bl=this.defaultShowDescriptionByDefault_bl,this.showDescription_bl=this.defaultShowDescriptionByDefault_bl,this.addKeyboardSupport_bl=this.props_obj.addKeyboardSupport,this.addKeyboardSupport_bl="yes"==this.addKeyboardSupport_bl,this.DFSddKeyboardSupport_bl=this.addKeyboardSupport_bl,this.slideShowAutoPlay_bl=this.props_obj.slideShowAutoPlay,this.slideShowAutoPlay_bl="yes"==this.slideShowAutoPlay_bl,this.DFSlideShowAutoPlay_bl=this.slideShowAutoPlay_bl,this.videoAutoPlay_bl=this.props_obj.videoAutoPlay,this.videoAutoPlay_bl="yes"==this.videoAutoPlay_bl,self.isMobile_bl&&(self.videoAutoPlay_bl=!1),this.DFVideoAutoPlay_bl=this.videoAutoPlay_bl,this.audioAutoPlay_bl=this.props_obj.audioAutoPlay,this.audioAutoPlay_bl="yes"==this.audioAutoPlay_bl,self.isMobile_bl&&(self.audioAutoPlay_bl=!1),this.DFAudioAutoPlay_bl=this.audioAutoPlay_bl,this.nextVideoOrAudioAutoPlay_bl=this.props_obj.nextVideoOrAudioAutoPlay,this.nextVideoOrAudioAutoPlay_bl="yes"==this.nextVideoOrAudioAutoPlay_bl,self.isMobile_bl&&(self.nextVideoOrAudioAutoPlay_bl=!1),this.DFNextVideoOrAudioAutoPlay_bl=this.nextVideoOrAudioAutoPlay_bl,this.defaultShowThumbnails_bl=this.props_obj.showThumbnails,this.defaultShowThumbnails_bl="yes"==this.defaultShowThumbnails_bl,this.DFDefaultThumbnails_bl=this.defaultShowThumbnails_bl,this.showThumbnailsByDefault_bl=this.props_obj.showThumbnailsByDefault,this.showThumbnailsByDefault_bl="yes"==this.showThumbnailsByDefault_bl,this.DFShowThumbnailsByDefault_bl=this.showThumbnailsByDefault_bl,this.defaultShowThumbnailsHideOrShowButton_bl=this.props_obj.showThumbnailsHideOrShowButton,this.defaultShowThumbnailsHideOrShowButton_bl="yes"==this.defaultShowThumbnailsHideOrShowButton_bl,this.DFDefaultShowThumbnailsHideOrShowButton_bl=this.defaultShowThumbnailsHideOrShowButton_bl,this.showSlideShowButton_bl=this.props_obj.showSlideShowButton,this.showSlideShowButton_bl="yes"==this.showSlideShowButton_bl,this.DFShowSlideShowButton_bl=this.showSlideShowButton_bl,this.defaultShowSlideShowAnimation_bl=this.props_obj.showSlideShowAnimation,this.defaultShowSlideShowAnimation_bl="yes"==this.defaultShowSlideShowAnimation_bl,this.DFSefaultShowSlideShowAnimation_bl=this.defaultShowSlideShowAnimation_bl,this.showSlideShowAnimation_bl=!1,this.useAsModal_bl=this.props_obj.useAsModal,this.useAsModal_bl="yes"==this.useAsModal_bl,this.DFUseAsModal_bl=this.useAsModal_bl,this.showShareButton_bl=this.props_obj.showShareButton,this.showShareButton_bl="yes"==this.showShareButton_bl,this.DFShowFacebookButton_bl=this.showShareButton_bl,this.showThumbnailsOverlay_bl=this.props_obj.showThumbnailsOverlay,this.showThumbnailsOverlay_bl="yes"==this.showThumbnailsOverlay_bl,this.DFShowThumbnailsOverlay_bl=this.showThumbnailsOverlay_bl,this.showThumbnailsSmallIcon_bl=this.props_obj.showThumbnailsSmallIcon,this.showThumbnailsSmallIcon_bl="yes"==this.showThumbnailsSmallIcon_bl,this.DFShowThumbnailsSmallIcon_bl=this.showThumbnailsSmallIcon_bl,this.areButtonsSharedShowed_bl=!1,this.doNotAllowToHide_bl=!1,this.isVideoFullScreen_bl=!1,this.hasKeyboardSupport_bl=!1,this.isClickedDisabled_bl=!1,this.showThumbnails_bl=!1,this.areThumbnailsShowed_bl=!1,this.showThumbnailsHideOrShowButton_bl=!1,this.isDragging_bl=!1,this.isAnimMaximizeOrMinimize_bl=!1,this.swipeMoved_bl=!1,this.isAPIReady_bl=!1,this.isLoading_bl=!1,this.isShowed_bl=!1,self.isReady_bl=!1,this.isAnim_bl=!1,this.isFirstItemShowed_bl=!1,this.firstVideoOrAudioAdded_bl=!1,this.isMaximized_bl=!1,this.useVideo_bl=!1,this.areButtonsShowed_bl=!0,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.initiallize()):alert("FWDRL constructor properties object is not defined!")},self.initiallize=function(){self.main_do=new FWDRLDisplayObject("div"),self.main_do.screen.setAttribute("id","RL"),self.main_do.getStyle().msTouchAction="none",self.main_do.getStyle().webkitTapHighlightColor="rgba(0, 0, 0, 0)",self.main_do.setBackfaceVisibility(),!self.isMobile_bl&&FWDRLUtils.isChrome&&(self.main_do.hasTransform3d_bl=!1,self.main_do.hasTransform2d_bl=!1),self.main_do.getStyle().width="100%",self.main_do.getStyle().zIndex="100000000000000000",self.bk_do=new FWDRLDisplayObject("div"),self.bk_do.getStyle().width="100%",self.bk_do.getStyle().height="100%",self.bk_do.getStyle().backgroundColor=self.backgroundColor_str,self.bk_do.setAlpha(0),self.mainItemHolder_do=new FWDRLDisplayObject("div"),FWDRLDescriptionWindow.setPrototype(),self.desc_do=new FWDRLDescriptionWindow(self,self.descriptionAnimationType_str,self.descriptionWindowPosition_str,self.itemBorderSize,self.descriptionWindowBackgroundColor_str,self.descriptionWindowBackgroundOpacity),self.itemBorder_do=new FWDRLDisplayObject("div"),self.itemBorder_do.getStyle().backgroundColor=self.itemBorderColor_str,(!self.isMobile_bl&&FWDRLUtils.isChrome||FWDRLUtils.isAndroid)&&(self.itemBorder_do.hasTransform3d_bl=!1,self.itemBorder_do.hasTransform2d_bl=!1,self.itemBorder_do.setBackfaceVisibility()),self.itemBk_do=new FWDRLDisplayObject("div"),self.itemBk_do.getStyle().backgroundColor=self.itemBkColor_str,self.itemHolder_do=new FWDRLDisplayObject("div"),self.itemHolder_do.setOverflow("visible"),self.mainItemHolder_do.addChild(self.itemBorder_do),self.mainItemHolder_do.addChild(self.itemBk_do),self.mainItemHolder_do.addChild(self.itemHolder_do),self.mainItemHolder_do.addChild(self.desc_do),self.main_do.addChild(self.bk_do),self.main_do.addChild(self.mainItemHolder_do),self.stageContainer.appendChild(self.main_do.screen),(!FWDRLUtils.isMobile||FWDRLUtils.isMobile&&FWDRLUtils.hasPointerEvent)&&self.main_do.setSelectable(!1),self.isMobile_bl||self.setupContextMenu(),self.setupHider(),self.setupDisableClick(),self.setupData(),self.setupInfoWindow(),self.useDeepLinking_bl&&(self.setupDL(),setTimeout(function(){var t=FWDAddress.getParameter("rl_playlist"),e=FWDAddress.getParameter("rl_id");-1!=location.href.indexOf("youtube.com")?(t=(t=location.href).match(/https:.*/i)[0]).indexOf("rl_id=")&&(t=t.replace(/&rl_id=.*/,"")):-1!=location.href.indexOf("facebook.com")&&(t=(t=location.href).match(/https:.*/i)[0]).indexOf("rl_id=")&&(t=t.replace(/&rl_id=.*/,"")),self.propsObjVariableName_str=FWDAddress.getParameter("rl_propsobj"),location.href.indexOf("RL?")&&t&&e&&FWDRL.show(t,e,self.propsObjVariableName_str)},100))},self.setupInfoWindow=function(){FWDRLInfo.setPrototype(),self.info_do=new FWDRLInfo(self,self.data.wrningIconPath_str)},self.setupContextMenu=function(){self.customContextMenu_do=new FWDRLContextMenu(self.main_do,self.rightClickContextMenu_str)},this.setupHider=function(){FWDRLHider.setPrototype(),self.hider=new FWDRLHider(self.main_do,self.buttonsHideDelay),self.hider.addListener(FWDRLHider.SHOW,self.hiderShowHandler),self.hider.addListener(FWDRLHider.HIDE,self.hiderHideHandler)},this.hiderShowHandler=function(){self.showButtonsWithFade(!0),self.positionButtons(!0),self.positionShareButtons(!0)},this.hiderHideHandler=function(){if(!self.isMobile_bl){if(self.shareButtonsHolder_do&&FWDRLUtils.hitTest(self.shareButtonsHolder_do.screen,self.hider.globalX,self.hider.globalY))return void self.hider.reset();if(self.showCloseButton_bl&&FWDRLUtils.hitTest(self.closeButton_do.screen,self.hider.globalX,self.hider.globalY))return void self.hider.reset();if(self.showNextAndPrevButtons_bl&&(FWDRLUtils.hitTest(self.nextButton_do.screen,self.hider.globalX,self.hider.globalY)||FWDRLUtils.hitTest(self.prevButton_do.screen,self.hider.globalX,self.hider.globalY)))return void self.hider.reset();if(self.showZoomButton_bl&&FWDRLUtils.hitTest(self.zoomButton_do.screen,self.hider.globalX,self.hider.globalY))return void self.hider.reset();if(self.showDescriptionButton_bl&&FWDRLUtils.hitTest(self.descButton_do.screen,self.hider.globalX,self.hider.globalY))return void self.hider.reset();if(self.showSlideShowButton_bl&&FWDRLUtils.hitTest(self.slideShowButton_do.screen,self.hider.globalX,self.hider.globalY))return void self.hider.reset();if(self.showShareButton_bl&&FWDRLUtils.hitTest(self.shareButton_do.screen,self.hider.globalX,self.hider.globalY))return void self.hider.reset();if(self.showThumbnailsHideOrShowButton_bl&&FWDRLUtils.hitTest(self.hsThumbanilsButton_do.screen,self.hider.globalX,self.hider.globalY))return void self.hider.reset()}self.showSlideShowAnimation_bl&&(self.buttonsAlignment_str==FWDRL.BUTTONS_IN?FWDAnimation.to(self.slp_do,.8,{y:self.finalY,ease:Expo.easeInOut}):FWDAnimation.to(self.slp_do,.8,{y:self.buttonsOffsetIn,ease:Expo.easeInOut})),self.stopToCheckShareButtonsHit(),self.hideButtonsWithFade(!0)},self.setupDisableClick=function(){self.disableClick_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(self.disableClick_do.setBkColor("#FFFFFF"),self.disableClick_do.setAlpha(1e-5))},self.disableClick=function(){self.showDisable(),self.disableClickId_to=setTimeout(function(){self.hideDisable()},100)},self.showDisable=function(){self.isClickedDisabled_bl||(self.isClickedDisabled_bl=!0,self.disableClick_do.setWidth(self.stageWidth),self.disableClick_do.setHeight(self.stageHeight))},self.hideDisable=function(){self.isClickedDisabled_bl&&(self.isClickedDisabled_bl=!1,self.disableClick_do.setWidth(0),self.disableClick_do.setHeight(0))},self.startResizeHandler=function(){window.addEventListener?(window.addEventListener("resize",self.onResizeHandler),window.addEventListener("scroll",self.scrollHandler),window.addEventListener("mousewheel",self.mouseDummyHandler),window.addEventListener("DOMMouseScroll",self.mouseDummyHandler),self.isMobile_bl&&window.addEventListener("touchmove",self.mouseDummyHandler)):window.attachEvent&&(window.attachEvent("onresize",self.onResizeHandler),window.attachEvent("onscroll",self.scrollHandler),document.attachEvent("onmousewheel",self.mouseDummyHandler)),self.onResizeHandler(),setTimeout(self.scrollHandler,200),setTimeout(self.scrollHandler,500)},self.stopResizeHandler=function(){clearTimeout(self.resizeHandlerId_to),window.removeEventListener?(window.removeEventListener("resize",self.onResizeHandler),window.removeEventListener("scroll",self.scrollHandler),self.isMobile_bl&&window.removeEventListener("touchmove",self.mouseDummyHandler)):window.detachEvent&&(window.detachEvent("onresize",self.onResizeHandler),window.detachEvent("onscroll",self.scrollHandler),document.detachEvent("onmousewheel",self.mouseDummyHandler))},self.onResizeHandler=function(t){self.resizeHandler()},self.scrollHandler=function(t){self.so=FWDRLUtils.getScrollOffsets(),self.isShowed_bl&&(self.main_do.setX(self.so.x),self.main_do.setY(self.so.y),t&&t.preventDefault&&t.preventDefault())},self.addPreventMouseWheel=function(){window.addEventListener?(window.addEventListener("mousewheel",self.mouseDummyHandler),window.addEventListener("DOMMouseScroll",self.mouseDummyHandler)):document.attachEvent&&document.attachEvent("onmousewheel",self.mouseDummyHandler)},self.removePreventMouseWheel=function(){window.removeEventListener?(window.removeEventListener("mousewheel",self.mouseDummyHandler),window.removeEventListener("DOMMouseScroll",self.mouseDummyHandler)):document.detachEvent&&document.detachEvent("onmousewheel",self.mouseDummyHandler)},this.mouseDummyHandler=function(t){if(!t.preventDefault)return!1;t.preventDefault()},self.resizeHandler=function(t){self.isShowed_bl&&(self.ws=FWDRLUtils.getViewportSize(),self.stageWidth=self.ws.w,self.stageHeight=self.ws.h,self.isMobile_bl&&(self.main_do.setWidth(self.stageWidth),self.main_do.setHeight(self.stageHeight)),self.preloader_do&&self.positionPreloader(),self.info_do&&self.info_do.isShowed_bl&&self.info_do.positionAndResize(),self.hideShareButtons(!1,!1,!0),self.resizeCurrentItem(),self.positionButtons(),self.positionShareButtons(),self.main_do.setX(self.so.x),self.main_do.setY(self.so.y),self.main_do.setHeight(self.stageHeight),self.thumbnailsManager_do&&self.showThumbnails_bl&&self.thumbnailsManager_do.positionAndResize(),clearTimeout(self.resizeHandlerId_to),self.resizeHandlerId_to=setTimeout(self.checkStageSizeAndResize,50))},self.checkStageSizeAndResize=function(){self.ws=FWDRLUtils.getViewportSize(),self.stageWidth!=self.ws.w&&self.resizeHandler()},self.setupData=function(){FWDRLData.setPrototype(),self.data=new FWDRLData(self.props_obj,self.rootElement_el,self),self.DFVideoControllerBackgroundColor_str=self.data.videoControllerBackgroundColor_str,self.DFVideoPosterBackgroundColor_str=self.data.videoPosterBackgroundColor_str,self.DFAudioControllerBackgroundColor_str=self.data.audioControllerBackgroundColor_str,self.data.addListener(FWDRLData.PRELOADER_LOAD_DONE,self.onPreloaderLoadDone),self.data.addListener(FWDRLData.LOAD_ERROR,self.dataLoadError),self.data.addListener(FWDRLData.SKIN_LOAD_COMPLETE,self.dataSkinLoadComplete)},self.onPreloaderLoadDone=function(){self.setupPreloader(),self.isShowed_bl&&(self.positionPreloader(),self.preloader_do.show(!0),self.resizeHandler())},self.dataLoadError=function(t){self.preloader_do&&self.preloader_do.hide(!1),self.main_do.addChild(self.info_do),self.info_do.showText(t.text),setTimeout(self.resizeHandler,200),FWDRL.dispatchEvent(FWDRL.ERROR,{error:t.text})},self.dataSkinLoadComplete=function(){self.isReady_bl=!0,self.useVideo_bl=self.data.useVideo_bl,self.useAudio_bl=self.data.useAudio_bl,self.setupMainStuff(),clearTimeout(self.showOrHideCompleteId_to),self.showOrHideCompleteId_to=setTimeout(self.showComplete,401),setTimeout(function(){FWDRL.dispatchEvent(FWDRL.READY)},401)},self.setupMainStuff=function(){self.setupButtons(),self.setupTimerManager(),self.data.useVideo_bl&&self.setupVideoPlayer(),self.data.useAudio_bl&&self.setupAudioPlayer(),self.showShareButton_bl&&self.setupShareButtons(),self.hideStuffForGood()},self.setupVideoPlayer=function(){self.videoHolder_do=new FWDRLDisplayObject("div"),self.videoHolder_do.setWidth(500),self.videoHolder_do.setHeight(500),self.mainItemHolder_do.addChildAt(self.videoHolder_do,3),self.video_do=new FWDRLEVPlayer(self.videoHolder_do.screen,self.data),self.video_do.addListener(FWDRLEVPlayer.ERROR,self.videoErrorHandler),self.video_do.addListener(FWDRLEVPlayer.GO_FULLSCREEN,self.videoFullScreenHandler),self.video_do.addListener(FWDRLEVPlayer.GO_NORMALSCREEN,self.videoNormalScreenHandler)},self.videoErrorHandler=function(t){self.main_do.addChild(self.info_do),self.info_do.showText(t.error)},self.videoFullScreenHandler=function(){self.isVideoFullScreen_bl=!0,self.resizeCurrentItem(),self.mainItemHolder_do.getStyle().overflow="visible",self.setButtonsInvisible(),self.addKeyboardSupport_bl&&self.removeKeyboardSupport(),self.isMobile_bl&&self.removeSwipeSupport()},self.videoNormalScreenHandler=function(){self.isVideoFullScreen_bl=!1,self.resizeCurrentItem(),self.mainItemHolder_do.getStyle().overflow="hidden",self.setButtonsVisible(),self.addKeyboardSupport_bl&&self.addKeyboardSupport(),self.isMobile_bl&&self.addSwipeSupport()},self.setupAudioPlayer=function(){self.audioHolder_do=new FWDRLDisplayObject("div"),self.audioHolder_do.hasTransform3d_bl=!1,self.audioHolder_do.hasTransform2d_bl=!1,self.audioHolder_do.setWidth(500),self.audioHolder_do.setHeight(500),self.audioHolder_do.setHeight(self.data.audioControllerHeight),self.mainItemHolder_do.addChildAt(self.audioHolder_do,3),self.mainItemHolder_do.addChildAt(self.audioHolder_do,3),self.audio_do=new FWDRLEAP(self.audioHolder_do.screen,self.data),self.audio_do.addListener(FWDRLEAP.ERROR,self.videoErrorHandler)},self.setupTimerManager=function(){FWDRLTimerManager.setProtptype(),self.tm=new FWDRLTimerManager(self.slideShowDelay),self.tm.addListener(FWDRLTimerManager.STOP,self.tmStopHandler),self.tm.addListener(FWDRLTimerManager.START,self.tmStartHandler),self.tm.addListener(FWDRLTimerManager.PAUSE,self.tmPauseHandler),self.tm.addListener(FWDRLTimerManager.RESUME,self.tmResumeHandler),self.tm.addListener(FWDRLTimerManager.TIME,self.tmTimeHandler)},self.tmStopHandler=function(){self.slideShowButton_do.setButtonState(1),self.showSlideShowAnimation_bl&&(self.hideSlideShowAnimation(),self.positionButtons(!0)),self.showSlideShowAnimation_bl=!1},self.tmStartHandler=function(){self.slideShowButton_do.setButtonState(0),self.showSlideShowAnimation_bl||(self.showSlideShowAnimation(),self.positionButtons(!0),self.slp_do.animShow()),self.showSlideShowAnimation_bl=!0},self.tmPauseHandler=function(){self.showSlideShowAnimation_bl&&self.slp_do.animHide()},self.tmResumeHandler=function(){self.showSlideShowAnimation_bl&&self.slp_do.animShow()},self.tmTimeHandler=function(){self.gotoNextItem(),self.showSlideShowAnimation_bl&&self.slp_do.animHide()},self.setupDL=function(){FWDAddress.onChange=self.dlChangeHandler,self.dlChangeHandler()},self.dlChangeHandler=function(){if(self.isReady_bl&&!self.isAnim_bl&&!self.isAnimMaximizeOrMinimize_bl&&self.useDeepLinking_bl)if(self.isMaximized_bl)self.maximizeOrMinimize();else{var t=FWDAddress.getParameter("rl_playlist"),e=FWDAddress.getParameter("rl_id");if(-1!=location.href.indexOf("youtube.com")?(t=(t=location.href).match(/https:.*/i)[0]).indexOf("rl_id=")&&(t=t.replace(/&rl_id=.*/,"")):-1!=location.href.indexOf("facebook.com")&&(t=(t=location.href).match(/https:.*/i)[0]).indexOf("rl_id=")&&(t=t.replace(/&rl_id=.*/,"")),sObjVariableName_str=FWDAddress.getParameter("rl_propsobj"),self.isShowed_bl)if(-1!=location.href.indexOf("RL?")&&t&&e){if(self.id=parseInt(FWDAddress.getParameter("rl_id")),self.id!=self.prevId){if(self.id<0)return self.id=0,void(self.propsObjVariableName_str?FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id+"&rl_propsobj="+self.propsObjVariableName_str):FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id));if(self.id>self.totalItems-1)return self.id=self.totalItems-1,void(self.propsObjVariableName_str?FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id+"&rl_propsobj="+self.propsObjVariableName_str):FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id));self.createAndShowItem(),self.prevId=self.id}}else self.hide();else-1!=location.href.indexOf("RL?")&&t&&e&&FWDRL.show(t,e,self.propsObjVariableName_str)}},self.setupPreloader=function(){FWDRLPreloader.setPrototype(),self.preloader_do=new FWDRLPreloader(self.data.mainPreloader_img,38,38,30,36,!0),self.main_do.addChild(self.preloader_do)},self.positionPreloader=function(){self.preloader_do.setX(parseInt((self.stageWidth-self.preloader_do.w)/2)),self.thumbnailsManager_do&&self.thumbnailsManager_do.areThumbnailsCreated_bl&&self.areThumbnailsShowed_bl?self.preloader_do.setY(parseInt((self.stageHeight-self.preloader_do.h-self.thumbnailH)/2)):self.preloader_do.setY(parseInt((self.stageHeight-self.preloader_do.h)/2))},self.setupThumbnailManager=function(){self.thumbnailsManager_do||(FWDRLThumbnailsManager.setPrototype(),self.thumbnailsManager_do=new FWDRLThumbnailsManager(self),self.thumbnailsManager_do.addListener(FWDRLThumb.CLICK,self.thumbClickHandler),self.main_do.addChildAt(self.thumbnailsManager_do,1))},self.hideOrShowThumbnails=function(){self.areThumbnailsShowed_bl?(self.hsThumbanilsButton_do.setButtonState(0),self.thumbnailsManager_do.hide(!0),self.areThumbnailsShowed_bl=!1):(self.hsThumbanilsButton_do.setButtonState(1),self.thumbnailsManager_do.show(!0),self.areThumbnailsShowed_bl=!0),self.hideShareButtons(!0),self.resizeCurrentItem(!1,!0),self.positionButtons(!0),self.startAnim(801)},self.thumbClickHandler=function(t){self.gotoToItem(t.id)},self.setupThumbnails=function(t){setTimeout(function(){self.thumbnailsManager_do&&self.showThumbnails_bl&&self.thumbnailsManager_do.setupThumbnails()},t)},self.setupButtons=function(){self.buttons_ar=[],self.buttonsMaxW_ar=[],FWDRLSimpleButton.setPrototype(),self.closeButton_do=new FWDRLSimpleButton(self.data.closeN_img,self.data.closeSPath_str),self.closeButton_do.addListener(FWDRLSimpleButton.MOUSE_UP,self.closeButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.closeButton_do),self.main_do.addChild(self.closeButton_do),FWDRLComplexButton.setPrototype(),self.zoomButton_do=new FWDRLComplexButton(self.data.maximizeN_img,self.data.maximizeSPath_str,self.data.minimizeN_img,self.data.minimizeSPath_str,!0),self.zoomButton_do.addListener(FWDRLComplexButton.MOUSE_UP,self.zoomButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.zoomButton_do),self.main_do.addChild(self.zoomButton_do),FWDRLComplexButton.setPrototype(),self.descButton_do=new FWDRLComplexButton(self.data.infoOpenN_img,self.data.infoOpenS_str,self.data.infoCloseN_img,self.data.infoCloseS_str,!0),self.descButton_do.addListener(FWDRLComplexButton.MOUSE_UP,self.descButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.descButton_do),self.main_do.addChild(self.descButton_do),FWDRLComplexButton.setPrototype(),self.slideShowButton_do=new FWDRLComplexButton(self.data.playN_img,self.data.playS_str,self.data.pauseN_img,self.data.pauseS_str,!0),self.slideShowButton_do.addListener(FWDRLComplexButton.MOUSE_UP,self.slideshowButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.slideShowButton_do),self.main_do.addChild(self.slideShowButton_do),FWDRLSlideShowPreloader.setPrototype(),self.slp_do=new FWDRLSlideShowPreloader(self.data.slideSwowImage_img,30,29,60,self.slideShowDelay),self.buttonsMaxW_ar.push(self.slp_do),self.main_do.addChild(self.slp_do),self.showShareButton_bl&&(FWDRLComplexButton.setPrototype(),self.shareButton_do=new FWDRLComplexButton(self.data.showShareImage_img,self.data.showShareImageSPath_str,self.data.hideShareImage_img,self.data.hideShareImageSPath_str,!0),self.shareButton_do.addListener(FWDRLComplexButton.MOUSE_UP,self.shareButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.shareButton_do),self.main_do.addChild(self.shareButton_do)),FWDRLSimpleButton.setPrototype(),self.nextButton_do=new FWDRLSimpleButton(self.data.nextN_img,self.data.nextSPath_str),self.nextButton_do.addListener(FWDRLSimpleButton.MOUSE_UP,self.nextButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.nextButton_do),self.main_do.addChild(self.nextButton_do),FWDRLSimpleButton.setPrototype(),self.prevButton_do=new FWDRLSimpleButton(self.data.prevN_img,self.data.prevSPath_str),self.prevButton_do.addListener(FWDRLSimpleButton.MOUSE_UP,self.prevButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.prevButton_do),self.main_do.addChild(self.prevButton_do),FWDRLComplexButton.setPrototype(),self.hsThumbanilsButton_do=new FWDRLComplexButton(self.data.hideThumbnailsN_img,self.data.hideThumbnailsSPath_str,self.data.showThumbnailsN_img,self.data.showThumbnailsSPath_str,!0),self.hsThumbanilsButton_do.addListener(FWDRLComplexButton.MOUSE_UP,self.hsButtonOnMouseUpHandler),self.buttonsMaxW_ar.push(self.hsThumbanilsButton_do),self.main_do.addChild(self.hsThumbanilsButton_do);for(var t=0;t<self.buttonsMaxW_ar.length;t++)self.maxButtonW<self.buttonsMaxW_ar[t].h&&(self.maxButtonW=self.buttonsMaxW_ar[t].w)},self.closeButtonOnMouseUpHandler=function(){self.hide()},self.zoomButtonOnMouseUpHandler=function(t){self.maximizeOrMinimize()},self.shareButtonOnMouseUpHandler=function(){1==self.shareButton_do.currentState?self.areButtonsShowed_bl&&self.showShareButtons(!0):self.hideShareButtons(!0)},self.nextButtonOnMouseUpHandler=function(){self.gotoNextItem()},self.prevButtonOnMouseUpHandler=function(){self.gotoPrevItem()},self.descButtonOnMouseUpHandler=function(){self.isAnim_bl||(self.hideShareButtons(!0),self.showDescription_bl?(self.showDescription_bl=!1,self.descButton_do.setButtonState(1),self.desc_do.hide(!0)):(self.showDescription_bl=!0,self.descButton_do.setButtonState(0),self.desc_do.show(!0)))},self.slideshowButtonOnMouseUpHandler=function(){self.tm.isStopped_bl?(self.tm.start(),self.hideShareButtons(!0)):self.tm.stop()},self.hsButtonOnMouseUpHandler=function(){(!self.isMobile_bl&&self.stageWidth<self.thumbnailsManager_do.totalW+2*(self.hsThumbanilsButton_do.w+self.buttonsOffsetIn)||self.buttonsAlignment_str==FWDRL.BUTTONS_IN)&&self.disableClick(),self.hideOrShowThumbnails()},this.setupShareButtons=function(){var t;this.maxShareButtonsW=0,this.shareButtonsHolder_do=new FWDRLDisplayObject("div"),this.shareButtonsHolder_do.setOverflow("visible"),this.shareButtons_ar=[],self.main_do.addChild(self.shareButtonsHolder_do),FWDRLSimpleButton.setPrototype(),self.facebookButtonButton_do=new FWDRLSimpleButton(self.data.facebookN_img,self.data.facebookImageSPath_str),self.facebookButtonButton_do.addListener(FWDRLSimpleButton.MOUSE_UP,self.facebookButtonOnMouseUpHandler),self.shareButtonsHolder_do.addChild(self.facebookButtonButton_do),this.shareButtons_ar.push(self.facebookButtonButton_do),FWDRLSimpleButton.setPrototype(),self.twitterButtonButton_do=new FWDRLSimpleButton(self.data.twitterN_img,self.data.twitterImageSPath_str),self.twitterButtonButton_do.addListener(FWDRLSimpleButton.MOUSE_UP,self.twitterButtonOnMouseUpHandler),self.shareButtonsHolder_do.addChild(self.twitterButtonButton_do),this.shareButtons_ar.push(self.twitterButtonButton_do),FWDRLSimpleButton.setPrototype(),self.googleButtonButton_do=new FWDRLSimpleButton(self.data.googleN_img,self.data.googleImageSPath_str),self.googleButtonButton_do.addListener(FWDRLSimpleButton.MOUSE_UP,self.googleButtonOnMouseUpHandler),self.shareButtonsHolder_do.addChild(self.googleButtonButton_do),this.shareButtons_ar.push(self.googleButtonButton_do);for(var e=0;e<this.shareButtons_ar.length;e++)(t=this.shareButtons_ar[e]).w>this.maxShareButtonsW&&(this.maxShareButtonsW=t.w);for(e=0;e<this.shareButtons_ar.length;e++)(t=this.shareButtons_ar[e]).setX(parseInt((this.maxShareButtonsW-t.w)/2)),0==e?t.setY(self.spaceBetweenButtons):t.setY(this.shareButtons_ar[e-1].y+this.shareButtons_ar[e-1].h+self.spaceBetweenButtons);this.shareButtonsHolder_do.setWidth(this.maxShareButtonsW),this.shareButtonsHolder_do.setHeight(t.y+t.h),this.hideShareButtons(!1)},self.facebookButtonOnMouseUpHandler=function(t){var e="http://www.facebook.com/share.php?u="+encodeURIComponent(location.href);window.open(e,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600")},self.twitterButtonOnMouseUpHandler=function(t){var e="http://twitter.com/home?status="+encodeURIComponent(location.href);window.open(e,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600")},self.googleButtonOnMouseUpHandler=function(t){var e="https://plus.google.com/share?url="+encodeURIComponent(location.href);window.open(e,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600")},this.positionShareButtons=function(t){this.shareButtonsHolder_do&&null!=this.shareButton_do.finalX&&(this.shareButtonsHolder_do.finalX=this.shareButton_do.finalX,this.shareButtonsHolder_do.finalY=this.shareButton_do.finalY+this.shareButton_do.h,FWDAnimation.killTweensOf(self.shareButtonsHolder_do),t?FWDAnimation.to(self.shareButtonsHolder_do,.8,{x:this.shareButtonsHolder_do.finalX,y:this.shareButtonsHolder_do.finalY,ease:Expo.easeInOut}):(this.shareButtonsHolder_do.setX(this.shareButtonsHolder_do.finalX),this.shareButtonsHolder_do.setY(this.shareButtonsHolder_do.finalY)))},this.showShareButtons=function(){var t,e=0;this.areButtonsSharedShowed_bl=!0,self.shareButton_do.setButtonState(0),this.positionShareButtons(!1),this.shareButtonsHolder_do.setVisible(!0),this.nextButton_do&&this.shareButtonsHolder_do.y+this.shareButtonsHolder_do.h+self.spaceBetweenButtons>this.nextButton_do.y&&FWDAnimation.to(self.nextButton_do.buttonsHolder_do,.8,{alpha:0,ease:Expo.easeInOut}),this.hsThumbanilsButton_do&&this.shareButtonsHolder_do.y+this.shareButtonsHolder_do.h+self.spaceBetweenButtons>this.hsThumbanilsButton_do.y&&this.shareButtonsHolder_do.x==this.hsThumbanilsButton_do.x&&FWDAnimation.to(self.hsThumbanilsButton_do.buttonsHolder_do,.8,{alpha:0,ease:Expo.easeInOut});for(var i=0;i<this.shareButtons_ar.length;i++)t=this.shareButtons_ar[i],FWDAnimation.killTweensOf(t),t.setAlpha(0),FWDAnimation.to(t,.8,{alpha:1,delay:e,ease:Expo.easeInOut}),e+=.1;this.startToCheckShareButtonsHit()},this.startToCheckShareButtonsHit=function(){window.addEventListener?window.addEventListener("click",self.checkThumbnailHit):window.attachEvent("onclick",self.checkThumbnailHit)},this.stopToCheckShareButtonsHit=function(){window.removeEventListener?window.removeEventListener("click",self.checkThumbnailHit):window.detachEvent("onclick",self.checkThumbnailHit),this.shareButton_do&&this.shareButton_do.setNormalState(!0),clearTimeout(self.hitThhumbnailId_to),self.hideShareButtons(!0)},this.checkThumbnailHit=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);FWDRLUtils.hitTest(self.shareButtonsHolder_do.screen,e.screenX,e.screenY)||FWDRLUtils.hitTest(self.shareButton_do.screen,e.screenX,e.screenY)||self.stopToCheckShareButtonsHit()},this.hideShareButtons=function(t,e,i){var s;if(this.shareButton_do)if(this.areButtonsSharedShowed_bl=!1,self.shareButton_do.setButtonState(1),t||this.shareButtonsHolder_do.setVisible(!1),e)FWDAnimation.to(self.shareButtonsHolder_do,.8,{x:self.stageWidth,ease:Expo.easeInOut});else{for(var o=0;o<this.shareButtons_ar.length;o++)s=this.shareButtons_ar[o],FWDAnimation.killTweensOf(s),FWDAnimation.to(s,.8,{alpha:0,ease:Expo.easeOut,onComplete:function(){self.shareButtonsHolder_do.setVisible(!1)}});this.nextButton_do&&this.shareButtonsHolder_do.y+this.shareButtonsHolder_do.h+self.spaceBetweenButtons>this.nextButton_do.y&&1==this.shareButton_do.buttonsHolder_do.alpha&&FWDAnimation.to(self.nextButton_do.buttonsHolder_do,.8,{alpha:1,ease:Expo.easeOut}),this.hsThumbanilsButton_do&&this.shareButtonsHolder_do.y+this.shareButtonsHolder_do.h+self.spaceBetweenButtons>this.hsThumbanilsButton_do.y&&1==this.shareButton_do.buttonsHolder_do.alpha&&FWDAnimation.to(self.hsThumbanilsButton_do.buttonsHolder_do,.8,{alpha:1,ease:Expo.easeOut})}},self.showCloseButton=function(){self.showCloseButton_bl&&-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)&&self.buttons_ar.splice(0,0,self.closeButton_do)},self.hideCloseButton=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)&&(FWDAnimation.killTweensOf(self.zoomButton_do),self.closeButton_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do),1))},self.hideZoomButton=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)&&(FWDAnimation.killTweensOf(self.zoomButton_do),self.zoomButton_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do),1))},self.showZoomButton=function(){self.defaultShowZoomButton_bl&&-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)&&(FWDAnimation.killTweensOf(self.zoomButton_do),-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)?(self.zoomButton_do.setX(self.closeButton_do.x),self.zoomButton_do.setY(self.closeButton_do.y+self.closeButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)+1,0,self.zoomButton_do)):(self.isFirstItemShowed_bl&&(self.zoomButton_do.setX(self.mainItemHolder_do.x+self.mainItemHolder_do.w+self.buttonsOffsetIn),self.zoomButton_do.setY(self.mainItemHolder_do.y)),self.buttons_ar.splice(0,0,self.zoomButton_do)))},self.showDescriptionButton=function(){self.defaultHideDescriptionButtons_bl&&(self.showDescriptionButton_bl=!0,-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)&&(FWDAnimation.killTweensOf(self.descButton_do),-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)?(self.descButton_do.setX(self.zoomButton_do.x),self.descButton_do.setY(self.zoomButton_do.y+self.zoomButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)+1,0,self.descButton_do)):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)?(self.descButton_do.setX(self.closeButton_do.x),self.descButton_do.setY(self.closeButton_do.y+self.closeButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)+1,0,self.descButton_do)):(self.isFirstItemShowed_bl&&(self.descButton_do.setX(self.mainItemHolder_do.x+self.mainItemHolder_do.w+self.buttonsOffsetIn),self.descButton_do.setY(self.mainItemHolder_do.y)),self.buttons_ar.splice(0,0,self.descButton_do))))},self.hideDescriptionButton=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)&&(self.showDescriptionButton_bl=!1,FWDAnimation.killTweensOf(self.descButton_do),self.descButton_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do),1))},self.hideSlideshowButton=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)&&(FWDAnimation.killTweensOf(self.slideShowButton_do),self.slideShowButton_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do),1))},self.showSlideshowButton=function(){self.showSlideShowButton_bl&&-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)&&(FWDAnimation.killTweensOf(self.slideShowButton_do),-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)?(self.slideShowButton_do.setX(self.descButton_do.x),self.slideShowButton_do.setY(self.descButton_do.y+self.descButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)+1,0,self.slideShowButton_do)):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)?(self.slideShowButton_do.setX(self.zoomButton_do.x),self.slideShowButton_do.setY(self.zoomButton_do.y+self.zoomButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)+1,0,self.slideShowButton_do)):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)?(self.slideShowButton_do.setX(self.closeButton_do.x),self.slideShowButton_do.setY(self.closeButton_do.y+self.closeButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)+1,0,self.slideShowButton_do)):(self.isFirstItemShowed_bl&&(self.slideShowButton_do.setX(self.mainItemHolder_do.x+self.mainItemHolder_do.w+self.buttonsOffsetIn),self.slideShowButton_do.setY(self.mainItemHolder_do.y)),self.buttons_ar.splice(0,0,self.slideShowButton_do)))},self.hideSlideShowAnimation=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.slp_do)&&(FWDAnimation.killTweensOf(self.slp_do),self.slp_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.slp_do),1))},self.showSlideShowAnimation=function(){self.defaultShowSlideShowAnimation_bl&&-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.slp_do)&&(FWDAnimation.killTweensOf(self.slp_do),-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)?(self.slp_do.setX(self.slideShowButton_do.x),self.slp_do.setY(self.slideShowButton_do.y+self.slideShowButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)+1,0,self.slp_do)):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)?(self.slp_do.setX(self.descButton_do.x),self.slp_do.setY(self.descButton_do.y+self.descButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)+1,0,self.slp_do)):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)?(self.slp_do.setX(self.zoomButton_do.x),self.slp_do.setY(self.zoomButton_do.y+self.zoomButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)+1,0,self.slp_do)):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)?(self.slp_do.setX(self.closeButton_do.x),self.slp_do.setY(self.closeButton_do.y+self.closeButton_do.h+self.spaceBetweenButtons),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)+1,0,self.slp_do)):(self.isFirstItemShowed_bl&&(self.slp_do.setX(self.mainItemHolder_do.x+self.mainItemHolder_do.w+self.buttonsOffsetIn),self.slp_do.setY(self.mainItemHolder_do.y)),self.buttons_ar.splice(0,0,self.slp_do)))},self.hideFacebookButton=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.shareButton_do)&&(FWDAnimation.killTweensOf(self.shareButton_do),self.shareButton_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.shareButton_do),1))},self.showFacebookButton=function(){self.showShareButton_bl&&-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.shareButton_do)&&(-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.slp_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.slp_do)+1,0,self.shareButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)+1,0,self.shareButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)+1,0,self.shareButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)+1,0,self.shareButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)+1,0,self.shareButton_do):self.buttons_ar.splice(0,0,self.shareButton_do))},self.hideNextAndPrevButtons=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.nextButton_do)&&(FWDAnimation.killTweensOf(self.nextButton_do),FWDAnimation.killTweensOf(self.prevButton_do),self.prevButton_do.setX(-5e3),self.nextButton_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.nextButton_do),1))},self.showNextAndPrevButtons=function(){self.defaultShowNextAndPrevButtons_bl&&self.showNextAndPrevButtons_bl&&-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.nextButton_do)&&(-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.shareButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.shareButton_do)+1,0,self.nextButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.slp_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.slp_do)+1,0,self.nextButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.slideShowButton_do)+1,0,self.nextButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.descButton_do)+1,0,self.nextButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.zoomButton_do)+1,0,self.nextButton_do):-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)?self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.closeButton_do)+1,0,self.nextButton_do):self.buttons_ar.splice(0,0,self.nextButton_do))},self.hideHsThumbnailButton=function(){-1!=FWDRLUtils.indexOfArray(self.buttons_ar,self.hsThumbanilsButton_do)&&(FWDAnimation.killTweensOf(self.hsThumbanilsButton_do),self.hsThumbanilsButton_do.setX(-5e3),self.buttons_ar.splice(FWDRLUtils.indexOfArray(self.buttons_ar,self.hsThumbanilsButton_do),1))},self.showHsThumbnailButton=function(){self.showThumbnailsHideOrShowButton_bl&&-1==FWDRLUtils.indexOfArray(self.buttons_ar,self.hsThumbanilsButton_do)&&self.buttons_ar.splice(self.buttons_ar.length,0,self.hsThumbanilsButton_do)},self.positionButtons=function(t){if(self.isFirstItemShowed_bl&&self.isShowed_bl&&self.isReady_bl){var e,i,s=0,o=0;self.areThumbnailsShowed_bl&&(s=Math.round((self.thumbnailH+self.spaceBetweenThumbnailsAndItem)/2-self.spaceBetweenThumbnailsAndItem/2)),self.showNextAndPrevButtons_bl&&(self.buttonsAlignment_str==FWDRL.BUTTONS_IN?self.prevButton_do.finalX=self.finalX-self.prevButton_do.w-self.buttonsOffsetIn:self.prevButton_do.finalX=self.buttonsOffsetIn,self.prevButton_do.finalY=parseInt((self.stageHeight-self.prevButton_do.h)/2)-s,null==self.prevButton_do.finalX&&(self.prevButton_do.finalX=-5e3),null==self.prevButton_do.finalY&&(self.prevButton_do.finalY=-5e3));for(var a=self.buttons_ar.length,n=0;n<a;n++)o+=(e=self.buttons_ar[n]).h+self.spaceBetweenButtons;o-=self.spaceBetweenButtons;for(var r=0;r<a;r++){if(e=self.buttons_ar[r],0!=r&&(i=self.buttons_ar[r-1]),self.buttonsAlignment_str==FWDRL.BUTTONS_IN?e.finalX=self.finalX+self.finalW+self.buttonsOffsetIn:e.finalX=self.stageWidth-e.w-self.buttonsOffsetIn,o>self.finalH&&self.buttonsAlignment_str==FWDRL.BUTTONS_IN?0==r?self.buttonsAlignment_str==FWDRL.BUTTONS_IN?self.areThumbnailsShowed_bl?e.finalY=parseInt((self.stageHeight-o-self.thumbnailH)/2):e.finalY=parseInt((self.stageHeight-o)/2):e.finalY=self.buttonsOffsetIn:e.finalY=i.finalY+i.h+self.spaceBetweenButtons:(self.buttonsAlignment_str==FWDRL.BUTTONS_IN?e.finalY=self.finalY:e.finalY=self.buttonsOffsetIn,i?(e.finalY=i.finalY+i.h+self.spaceBetweenButtons,e==self.nextButton_do?e.finalY<self.prevButton_do.finalY&&(e.finalY=self.prevButton_do.finalY):e==self.hsThumbanilsButton_do&&(e.finalY=self.finalY+self.finalH-e.h,e.finalY<i.finalY+i.h+self.spaceBetweenButtons&&self.stageWidth<self.thumbnailsManager_do.totalW+2*(e.w+self.buttonsOffsetIn)&&(e.finalY=i.finalY+i.h+self.spaceBetweenButtons))):e==self.nextButton_do?e.finalY<self.prevButton_do.finalY&&(e.finalY=self.prevButton_do.finalY):e==self.hsThumbanilsButton_do&&(e.finalY=self.finalY+self.finalH-e.h)),e==self.zoomButton_do&&self.isMaximized_bl&&(e.finalX=self.stageWidth-e.w-1,e.finalY=1),e==self.hsThumbanilsButton_do)if(self.buttonsAlignment_str==FWDRL.BUTTONS_IN){if(e.finalY+e.h>self.stageHeight-self.thumbnailH&&self.areThumbnailsShowed_bl&&(e.finalX=self.finalX-e.w-self.buttonsOffsetIn,e.finalY=self.finalY+self.finalH-e.h,self.showNextAndPrevButtons_bl&&e.finalY<self.prevButton_do.finalY+self.prevButton_do.h+self.spaceBetweenButtons&&(e.finalY=self.prevButton_do.finalY+self.prevButton_do.h+self.spaceBetweenButtons),r==a-1))for(var l=0;l<a-1;l++)self.buttons_ar[l].finalY+=parseInt(self.hsThumbanilsButton_do.h/2)}else self.areThumbnailsShowed_bl?self.thumbnailsManager_do&&self.stageWidth>self.thumbnailsManager_do.totalW+2*(e.w+self.buttonsOffsetIn)?e.finalY=self.stageHeight-e.h-self.buttonsOffsetIn:e.finalY=self.stageHeight-e.h-self.thumbnailH-self.buttonsOffsetIn:e.finalY=self.stageHeight-e.h-self.buttonsOffsetIn,i&&i.finalY+i.h+e.h+self.spaceBetweenButtons+self.buttonsOffsetIn>self.stageHeight-self.thumbnailH&&self.areThumbnailsShowed_bl&&self.stageWidth<self.thumbnailsManager_do.totalW+2*(e.w+self.buttonsOffsetIn)&&(e.finalX=self.buttonsOffsetIn);self.hider.isHidden_bl&&e==self.slp_do&&(self.buttonsAlignment_str==FWDRL.BUTTONS_IN?e.finalY=self.finalY:e.finalY=self.buttonsOffsetIn)}self.showNextAndPrevButtons_bl&&(t?(FWDAnimation.killTweensOf(self.prevButton_do),FWDAnimation.to(self.prevButton_do,.8,{x:self.prevButton_do.finalX,y:self.prevButton_do.finalY,ease:Expo.easeInOut})):(FWDAnimation.killTweensOf(self.prevButton_do),self.prevButton_do.setX(self.prevButton_do.finalX),self.prevButton_do.setY(self.prevButton_do.finalY)));for(r=0;r<a;r++)(e=self.buttons_ar[r]).x==e.finalX&&e.y==e.finalY||(FWDAnimation.killTweensOf(e),t?FWDAnimation.to(e,.8,{x:e.finalX,y:e.finalY,ease:Expo.easeInOut}):(e.setX(e.finalX),e.setY(e.finalY)));this.positionShareButtons(t)}},self.hideButtons=function(t){if(self.isReady_bl){var e,i=self.buttons_ar.length;self.showNextAndPrevButtons_bl&&(self.prevButton_do.finalX=-self.prevButton_do.w,null==self.prevButton_do.finalX&&(self.prevButton_do.finalX=-1),null==self.prevButton_do.finalY&&(self.prevButton_do.finalY=-1));for(var s=0;s<i;s++)e=self.buttons_ar[s],isNaN(e.finalX)||(e.finalX>self.stageWidth/2?e.finalX=self.stageWidth:e.finalX=-e.w),void 0===e.finalX&&(e.finalX=-5e3),void 0===e.finalY&&(e.finalY=-5e3),t?(0==s&&self.showNextAndPrevButtons_bl&&(FWDAnimation.killTweensOf(self.prevButton_do),FWDAnimation.to(self.prevButton_do,.8,{alpha:1,x:self.prevButton_do.finalX,y:self.prevButton_do.finalY,ease:Expo.easeInOut})),FWDAnimation.killTweensOf(e),FWDAnimation.to(e,.8,{alpha:1,x:e.finalX,y:e.finalY,ease:Expo.easeInOut})):(0==s&&self.showNextAndPrevButtons_bl&&(FWDAnimation.killTweensOf(self.prevButton_do),self.prevButton_do.setX(self.prevButton_do.finalX),self.prevButton_do.setY(self.prevButton_do.finalY)),FWDAnimation.killTweensOf(e),e.setAlpha(1),e.setX(e.finalX),e.setY(e.finalY))}},self.hideStuffForGood=function(){self.shareButton_do&&self.shareButton_do.setX(-5e3),self.prevButton_do.setX(-5e3),self.nextButton_do.setX(-5e3),self.closeButton_do.setX(-5e3),self.zoomButton_do.setX(-5e3),self.descButton_do.setX(-5e3),self.slideShowButton_do.setX(-5e3),self.slp_do.setX(-5e3),self.hsThumbanilsButton_do.setX(-5e3),self.videoHolder_do&&(self.video_do.stop(),self.videoHolder_do.setX(-5e3),self.videoHolder_do.w=1,self.videoHolder_do.h=1),self.audioHolder_do&&(self.audio_do.stop(),self.audioHolder_do.setX(-5e3),self.audioHolder_do.w=1,self.audioHolder_do.h=1)},self.showButtonsWithFade=function(t){self.isReady_bl&&(self.areButtonsShowed_bl=!0,t?(this.shareButtonsHolder_do&&this.areButtonsSharedShowed_bl?this.shareButtonsHolder_do.y+this.shareButtonsHolder_do.h+self.spaceBetweenButtons>this.nextButton_do.y&&FWDAnimation.to(self.nextButton_do.buttonsHolder_do,.8,{alpha:0,ease:Expo.easeInOut}):FWDAnimation.to(self.nextButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut}),FWDAnimation.to(self.prevButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut}),FWDAnimation.to(self.closeButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut}),FWDAnimation.to(self.zoomButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut}),this.shareButtonsHolder_do&&this.areButtonsSharedShowed_bl?this.shareButtonsHolder_do.y+this.shareButtonsHolder_do.h+self.spaceBetweenButtons>this.hsThumbanilsButton_do.y&&this.shareButtonsHolder_do.finalX==this.hsThumbanilsButton_do.finalX&&FWDAnimation.to(self.hsThumbanilsButton_do.buttonsHolder_do,.8,{alpha:0,ease:Expo.easeInOut}):FWDAnimation.to(self.hsThumbanilsButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut}),FWDAnimation.to(self.descButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut}),FWDAnimation.to(self.slideShowButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut}),self.shareButton_do&&FWDAnimation.to(self.shareButton_do.buttonsHolder_do,.8,{alpha:1,ease:Quint.easeOut})):(FWDAnimation.killTweensOf(self.nextButton_do.buttonsHolder_do),FWDAnimation.killTweensOf(self.prevButton_do.buttonsHolder_do),self.nextButton_do.buttonsHolder_do.setAlpha(1),self.prevButton_do.buttonsHolder_do.setAlpha(1),FWDAnimation.killTweensOf(self.nextButton_do.closeButton_do),self.closeButton_do.buttonsHolder_do.setAlpha(1),FWDAnimation.killTweensOf(self.zoomButton_do.closeButton_do),self.zoomButton_do.buttonsHolder_do.setAlpha(1),FWDAnimation.killTweensOf(self.hsThumbanilsButton_do.hsThumbanilsButton_do),self.hsThumbanilsButton_do.buttonsHolder_do.setAlpha(1),FWDAnimation.killTweensOf(self.descButton_do.descButton_do),self.descButton_do.buttonsHolder_do.setAlpha(1),self.shareButton_do&&(FWDAnimation.killTweensOf(self.shareButton_do.descButton_do),self.shareButton_do.buttonsHolder_do.setAlpha(1))))},self.hideButtonsWithFade=function(t){t?(FWDAnimation.to(self.nextButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.prevButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.closeButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.zoomButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.hsThumbanilsButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.descButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.slideShowButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut}),self.shareButton_do&&FWDAnimation.to(self.shareButton_do.buttonsHolder_do,.8,{alpha:0,ease:Quint.easeOut})):(FWDAnimation.killTweensOf(self.nextButton_do.buttonsHolder_do),FWDAnimation.killTweensOf(self.prevButton_do.buttonsHolder_do),self.nextButton_do.buttonsHolder_do.setAlpha(0),self.prevButton_do.buttonsHolder_do.setAlpha(0),FWDAnimation.killTweensOf(self.nextButton_do.closeButton_do),self.closeButton_do.buttonsHolder_do.setAlpha(0),FWDAnimation.killTweensOf(self.zoomButton_do.closeButton_do),self.zoomButton_do.buttonsHolder_do.setAlpha(0),FWDAnimation.killTweensOf(self.hsThumbanilsButton_do.hsThumbanilsButton_do),self.hsThumbanilsButton_do.buttonsHolder_do.setAlpha(0),FWDAnimation.killTweensOf(self.hsThumbanilsButton_do.descButton_do),self.descButton_do.buttonsHolder_do.setAlpha(0),FWDAnimation.killTweensOf(self.slideShowButton_do.descButton_do),self.slideShowButton_do.buttonsHolder_do.setAlpha(0),self.shareButton_do&&(FWDAnimation.killTweensOf(self.shareButton_do.descButton_do),self.shareButton_do.buttonsHolder_do.setAlpha(0))),self.areButtonsShowed_bl=!1},this.parsePlaylistObject=function(t,e,i){if(0==e&&t.thumbnailPath_str&&(self.areThumbnailsShowed_bl=!1,self.setupThumbnailManager(),self.showThumbnailsByDefault_bl?(self.thumbnailsManager_do.show(!1),self.areThumbnailsShowed_bl=!0):(self.thumbnailsManager_do.hide(!1),self.areThumbnailsShowed_bl=!1),self.defaultShowThumbnails_bl?self.showThumbnails_bl=!0:(self.showThumbnails_bl=!1,self.areThumbnailsShowed_bl=!1),self.defaultShowThumbnailsHideOrShowButton_bl&&self.defaultShowThumbnails_bl?self.showThumbnailsHideOrShowButton_bl=!0:self.showThumbnailsHideOrShowButton_bl=!1),0!=e||t.thumbnailPath_str||(self.areThumbnailsShowed_bl=!1,self.showThumbnails_bl=!1,self.showThumbnailsHideOrShowButton_bl=!1),/\.jpg|\.jpeg|\.png/i.test(t.type_str)?(t.iconType_str=FWDRLThumb.IMAGE,t.type_str=FWDRL.IMAGE_TYPE,t.width=void 0,t.height=void 0):/\.mp4/i.test(t.type_str)?(t.iconType_str=FWDRLThumb.VIDEO,t.type_str=FWDRL.VIDEO_TYPE):/\.mp3/i.test(t.type_str)||"-soundcloud-"==t.type_str||FWDUGPData.isSoundCloud_bl?(t.type_str=FWDRL.AUDIO_TYPE,t.iconType_str=FWDRLThumb.AUDIO):/\.swf/i.test(t.type_str)?(t.type_str=FWDRL.FLASH_TYPE,t.iconType_str=FWDRLThumb.FLASH):(/youtube\.|vimeo\./i.test(t.type_str)?-1!=t.type_str.indexOf("youtube.")?t.iconType_str=FWDRLThumb.YOUTUBE:t.iconType_str=FWDRLThumb.VIMEO:-1!=t.type_str.indexOf("google.")?t.iconType_str=FWDRLThumb.MAPS:-1!=t.type_str.indexOf("RL_AJAX")?t.iconType_str=FWDRLThumb.AJAX:-1!=t.type_str.indexOf("RL_HTML")?t.iconType_str=FWDRLThumb.HTML:t.iconType_str=FWDRLThumb.IFRAME,t.type_str=FWDRL.IFRAME_TYPE),!(t.type_str!=FWDRL.IMAGE_TYPE&&t.type_str!=FWDRL.VIDEO_TYPE||FWDUGPData.isFaceBook_bl&&t.type_str!=FWDRL.VIDEO_TYPE)){var s=encodeURI(t.url.substr(0,t.url.lastIndexOf("/")+1)),o=encodeURIComponent(t.url.substr(t.url.lastIndexOf("/")+1));t.url=s+o}self.playlist_ar[e]=t},FWDRL.show=function(t,e,i){if(!self.isShowed_bl)if(self.id=e,self.propsObjVariableName_str=i,FWDRL.dispatchEvent(FWDRL.SHOW_START,{obj:t}),t){if(self.setDefaultSettings(),i&&window[i]){var s=window[i];self.setObjectPropsSettings(s)}else self.setDefaultSettings();self.stopToLoadPlaylist(),self.isPlaylistDispatchingError_bl=!1,-1!=t.indexOf("facebook.com")?(self.isFacebook_bl=!0,self.facebookUrl_str=String(t.match(/[\.][0-9]*[\.|&]/i)[0]).replace(/\.|&/g,""),self.originalFacebookURL_str=t,self.isPlaylistDispatchingError_bl=!0,self.loadFacebookPlaylist()):-1!=t.indexOf("youtube.com")?(self.isYoutube_bl=!0,self.nextPageToken_str=void 0,self.youtubeUrl_str=t.match(/list=([^&]+)/i)[1],self.originalYoutubeURL_str=t,self.isPlaylistDispatchingError_bl=!0,self.loadYoutubePlaylist()):-1!=t.indexOf("soundcloud.com")?(self.isSoundCloud_bl=!0,self.soundCloundUrl_str=t,self.isPlaylistDispatchingError_bl=!0,self.loadSoundCloudPlaylist()):-1!=t.indexOf("flickr.com")?(self.isFlickr_bl=!0,self.originalFlickrURL_str=t,self.flickrUrl_str=String(t.match(/[^\/]+$/i)),self.isPlaylistDispatchingError_bl=!0,self.loadFlickrPlaylist()):FWDRL.parsePlaylist(t,e,i),self.so=FWDRLUtils.getScrollOffsets(),self.isShowed_bl=!0,self.isAnim_bl=!0,self.showSlideShowAnimation_bl=!1,self.showDescription_bl=self.defaultShowDescriptionByDefault_bl,self.startResizeHandler(),self.addPreventMouseWheel(),clearTimeout(self.showOrHideCompleteId_to),self.showOrHideCompleteId_to=setTimeout(self.showComplete,401),FWDAnimation.to(self.bk_do,.8,{alpha:self.backgroundOpacity,ease:Quint.easeOut}),self.preloader_do&&(self.positionPreloader(),self.preloader_do.show(!0)),self.main_do.addChild(self.disableClick_do),self.isReady_bl&&(self.hideButtons(),self.hideStuffForGood()),self.desc_do.hide(!1,!0,!0),self.thumbnailsManager_do&&self.thumbnailsManager_do.destoryThumbnails()}else{alert("Revolution lightbox error! Please specify a playlist in the FWDRL.show() method.")}},this.loadSoundCloudPlaylist=function(){if(-1!=self.soundCloundUrl_str.indexOf("likes")&&(self.soundCloundUrl_str=self.soundCloundUrl_str.replace(/\/likes$/,"/favorites")),-1==self.soundCloundUrl_str.indexOf("api.soundcloud.")?url="http://api.soundcloud.com/resolve?format=json&url="+self.soundCloundUrl_str+"&limit=100&client_id="+self.scClientId_str+"&callback=FWDRL.parsePlaylist":url=self.sourceURL_str+"?format=json&client_id="+self.scClientId_str+"&limit=100&callback=FWDRL.parsePlaylist",null==self.scs_el)try{self.scs_el=document.createElement("script"),self.scs_el.src=url,self.scs_el.id=parent.instanceName_str+".data.parseflickrPlaylist",document.documentElement.appendChild(self.scs_el)}catch(t){}self.JSONPRequestTimeoutId_to=setTimeout(function(){var t="Soundcloud playlist can't be loaded : <font color='#FF0000'>"+self.soundCloundUrl_str+"</font>.";self.main_do.addChild(self.info_do),self.info_do.showText(t),self.isAnim_bl=!1},5e3)},this.loadFlickrPlaylist=function(){if(url="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+self.flickrAPIKey_str+"&photoset_id="+self.flickrUrl_str+"&format=json&jsoncallback=FWDRL.parsePlaylist",null==self.scs_el)try{self.scs_el=document.createElement("script"),self.scs_el.src=url,self.scs_el.id="FWDRLIFRAMELOAD",document.documentElement.appendChild(self.scs_el)}catch(t){}self.JSONPRequestTimeoutId_to=setTimeout(function(){var t="Flick playlist with the id: <font color='#FF0000'>"+self.soundCloundUrl_str+"</font> can't be loaded.";self.main_do.addChild(self.info_do),self.info_do.showText(t),self.isAnim_bl=!1},5e3)},this.loadYoutubePlaylist=function(){var t;if(self.nextPageToken_str?t="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&pageToken="+self.nextPageToken_str+"&playlistId="+self.youtubeUrl_str+"&key=AIzaSyAlyhJ-C5POyo4hofPh3b7ECAxWy6t6lyg&maxResults=50&callback=FWDRL.parsePlaylist":(self.youtubeObject_ar=[],t="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+self.youtubeUrl_str+"&key=AIzaSyAlyhJ-C5POyo4hofPh3b7ECAxWy6t6lyg&maxResults=50&callback=FWDRL.parsePlaylist"),null==self.scs_el)try{self.scs_el=document.createElement("script"),self.scs_el.src=t,self.scs_el.id="FWDRLIFRAMELOAD",document.documentElement.appendChild(self.scs_el)}catch(t){}self.JSONPRequestTimeoutId_to=setTimeout(function(){var t="Error loading Youtube playlist: <font color='#FF0000'>"+self.originalYoutubeURL_str+"</font>.";self.main_do.addChild(self.info_do),self.info_do.showText(t),self.isAnim_bl=!1},5e3)},this.loadFacebookPlaylist=function(){if("file:"==document.location.protocol){self.isPlaylistDispatchingError_bl=!0;return self.main_do.addChild(self.info_do),self.info_do.showText("Please test online, is not possible to view Facebook albums local."),void setTimeout(function(){self.isAnim_bl=!1},850)}self.facebookShare?self.loadAccessFacebookAccessToken():(FWDRLFacebookShare.setPrototype(),self.facebookShare=new FWDRLFacebookShare(self.facebookAppId_str),self.facebookShare.addListener(FWDRLFacebookShare.API_READY,self.facebookAPIReadyHandler),self.facebookShare.addListener(FWDRLFacebookShare.API_ERROR,self.facebookAPIErrorHandler))},this.facebookAPIReadyHandler=function(t){self.loadAccessFacebookAccessToken()},this.facebookAPIErrorHandler=function(t){var e="Error loading file : <font color='#FF0000'>"+self.originalFacebookURL_str+"</font>";self.main_do.addChild(self.info_do),self.info_do.showText(e),self.isAnim_bl=!1},this.loadAccessFacebookAccessToken=function(){self.stopToLoadPlaylist(),self.sourceURL_str=self.data.mainFolderPath_str+"facebook_access_token.txt",self.xhr=new XMLHttpRequest,self.xhr.onreadystatechange=self.facebookTokenOnLoadoadHandler,self.xhr.onerror=self.facebookErrorHandler;try{self.xhr.open("get",self.sourceURL_str+"?rand="+parseInt(99999999*Math.random()),!0),self.xhr.send()}catch(t){t&&t.message&&t.message,self.facebookAPIErrorHandler()}},this.facebookTokenOnLoadoadHandler=function(e){var response;if(4==self.xhr.readyState)if(404==self.xhr.status){var error="Facebook token path is not found : <font color='#FF0000'>"+self.originalFacebookURL_str+"</font>";self.main_do.addChild(self.info_do),self.info_do.showText(error),self.isAnim_bl=!1}else if(408==self.xhr.status){var error="Loading facebook token";self.main_do.addChild(self.info_do),self.info_do.showText(error),self.isAnim_bl=!1}else 200==self.xhr.status&&(response=window.JSON?JSON.parse(self.xhr.responseText):eval("("+self.xhr.responseText+")"),self.accessToken_str=response.access_token,self.loadFacebookPlaylistWhenReady())},this.facebookErrorHandler=function(t){var e="Error loading file : <font color='#FF0000'>"+self.originalFacebookURL_str+"</font>";self.main_do.addChild(self.info_do),self.info_do.showText(e),self.isAnim_bl=!1},this.loadFacebookPlaylistWhenReady=function(){FB.api("/"+self.facebookUrl_str+"?access_token="+self.accessToken_str,"GET",{fields:"photos.limit(100){images,created_time,name}"},function(t){t&&FWDRL.parsePlaylist(t,self.id,self.propsObjVariableName_str)})},FWDRL.parsePlaylist=function(t,e,i){var s;if(self.stopToLoadPlaylist(),self.playlistDomOrObj_str=t,self.playlist_ar=[],self.isFacebook_bl){s=self.playlistDomOrObj_str.photos.data,self.isPlaylistDispatchingError_bl=!1,self.totalItems=s.length;for(var o=document.createElement("div"),a=0;a<self.totalItems;a++){var n={},r=s[a];n.url=r.images[0].source,n.thumbnailPath_str=r.images[r.images.length-1].source,n.type_str=".jpg",n.description="<div class='FWDRLFacebookDescription'>"+r.name+"</div>",-1==n.url.indexOf("RL_HTML")?(n.description&&(o.innerHTML=n.description),n.description&&(o.innerHTML=n.description,n.descriptionText=o.innerText)):(o.innerHTML=r.html,n.html=o.innerHTML),self.parsePlaylistObject(n,a,!0)}o=null,self.playlistDomOrObj_str=self.originalFacebookURL_str,self.resizeHandler()}else if(self.isYoutube_bl){if(t.error){var l="Error loading Youtube playlist : <font color='#FF0000'>"+self.originalYoutubeURL_str+"</font>.";return self.main_do.addChild(self.info_do),self.info_do.showText(l),void(self.isAnim_bl=!1)}t&&(s=t);for(a=0;a<s.items.length;a++)self.youtubeObject_ar.push(s.items[a]);if(s.nextPageToken)return self.nextPageToken_str=s.nextPageToken,void self.loadYoutubePlaylist();s=self.youtubeObject_ar,self.isPlaylistDispatchingError_bl=!1,self.totalItems=s.length;for(o=document.createElement("div"),a=0;a<self.totalItems;a++){n={},r=s[a];n.url="https://www.youtube.com/watch?v="+r.snippet.resourceId.videoId,n.thumbnailPath_str=r.snippet.thumbnails.medium.url,n.type_str="https://www.youtube.com/",n.description="<div class='FWDRLYoutubeDescription'>"+r.snippet.title+"</div>",-1==n.url.indexOf("RL_HTML")?(n.description&&(o.innerHTML=n.description),n.description&&(o.innerHTML=n.description,n.descriptionText=o.innerText)):(o.innerHTML=r.html,n.html=o.innerHTML),self.parsePlaylistObject(n,a,!0)}o=null,self.playlistDomOrObj_str=self.originalYoutubeURL_str,self.resizeHandler()}else if(self.isFlickr_bl){if("fail"==t.stat){l="Flickr playlist with the id can't be loaded: <font color='#FF0000'>"+self.flickrUrl_str+"</font>.";return self.main_do.addChild(self.info_do),self.info_do.showText(l),void(self.isAnim_bl=!1)}t&&(s=t.photoset.photo),self.isPlaylistDispatchingError_bl=!1,self.totalItems=s.length;for(o=document.createElement("div"),a=0;a<self.totalItems;a++){n={},r=s[a];n.url="http://farm"+r.farm+".staticflickr.com/"+r.server+"/"+r.id+"_"+r.secret+"_b.jpg",n.thumbnailPath_str="http://farm"+r.farm+".staticflickr.com/"+r.server+"/"+r.id+"_"+r.secret+"_n.jpg",n.type_str=".jpg",n.description="<div class='FWDRLFlickrDescription'>"+r.title+"</div>",-1==n.url.indexOf("RL_HTML")?(n.description&&(o.innerHTML=n.description),n.description&&(o.innerHTML=n.description,n.descriptionText=o.innerText)):(o.innerHTML=r.html,n.html=o.innerHTML),n.height=self.data.audioControllerHeight+2*self.itemBorderSize,self.parsePlaylistObject(n,a,!0)}o=null,self.playlistDomOrObj_str=self.originalFlickrURL_str,self.resizeHandler()}else if(self.isSoundCloud_bl){if(t.tracks)s=t.tracks;else{if(!t.length){l="Please provide a playlist or tracks URL : <font color='#FF0000'>"+self.soundCloundUrl_str+"</font>.";return self.main_do.addChild(self.info_do),self.info_do.showText(l),void(self.isAnim_bl=!1)}s=t}self.isPlaylistDispatchingError_bl=!1,self.totalItems=s.length;for(o=document.createElement("div"),a=0;a<self.totalItems;a++){n={},r=s[a];n.url=r.stream_url+"?consumer_key="+self.scClientId_str,n.thumbnailPath_str=String(r.artwork_url).replace(/large/,"t300x300"),n.type_str="-soundcloud-",n.description="<div class='FWDRLSoundCloudDescription'>"+r.title+"</div>",-1==n.url.indexOf("RL_HTML")?(n.description&&(o.innerHTML=n.description),n.description&&(o.innerHTML=n.description,n.descriptionText=o.innerText)):(o.innerHTML=r.html,n.html=o.innerHTML),n.height=self.data.audioControllerHeight+2*self.itemBorderSize,self.parsePlaylistObject(n,a,!0)}o=null,self.playlistDomOrObj_str=self.soundCloundUrl_str,self.resizeHandler()}else if(-1!=t.indexOf("rlobj_")){if(!(s=window[t]))return void alert('Revolution lightbox error! The playlist JSON object with the label "'+t+"\" doesn't exist!");self.totalItems=s.playlistItems.length;for(o=document.createElement("div"),a=0;a<self.totalItems;a++){n={},r=s.playlistItems[a];n.url=r.url,n.thumbnailPath_str=r.thumbnailPath,n.posterPath=r.posterPath,n.type_str=r.url,n.description=r.description,-1==n.url.indexOf("RL_HTML")?(n.description&&(o.innerHTML=n.description),n.description&&(o.innerHTML=n.description,n.descriptionText=o.innerText)):(o.innerHTML=r.html,n.html=o.innerHTML),n.width=r.width,n.height=r.height,self.parsePlaylistObject(n,a,!0),n.type_str==FWDRL.AUDIO_TYPE&&(n.height=self.data.audioControllerHeight+2*self.itemBorderSize)}o=null}else{var d=document.getElementById(t);if(!d)return void alert('Revolution lightbox error! The HTML element with the id "'+t+"\" doesn't exist!");var h=FWDRLUtils.getChildren(d);if(self.totalItems=h.length,0==self.totalItems)return void alert('Revolution lightbox error! The playlist with the id "'+t+'" must contain at least one entry.');for(a=0;a<self.totalItems;a++){n={},r=h[a];if(!FWDRLUtils.hasAttribute(r,"data-url"))return void alert('Revolution lightbox error! Attribute "data-url" is not found in the playlist at position nr: "'+a+'".');if(n.url=String(FWDRLUtils.getAttributeValue(r,"data-url")),n.posterPath=FWDRLUtils.getAttributeValue(r,"data-poster-path"),n.type_str=FWDRLUtils.getAttributeValue(r,"data-url"),n.width=FWDRLUtils.getAttributeValue(r,"data-width"),n.height=FWDRLUtils.getAttributeValue(r,"data-height"),FWDRLUtils.hasAttribute(r,"data-thumbnail-path")&&(n.thumbnailPath_str=FWDRLUtils.getAttributeValue(r,"data-thumbnail-path")),-1==n.url.indexOf("RL_HTML"))try{0!=FWDRLUtils.getChildren(r).length&&(n.description=r.innerHTML,n.descriptionText=r.innerText)}catch(t){}else try{n.html=r.innerHTML}catch(t){}self.parsePlaylistObject(n,a,!1),n.type_str==FWDRL.AUDIO_TYPE&&(n.height=self.data.audioControllerHeight+2*self.itemBorderSize)}}1==self.totalItems?self.showNextAndPrevButtons_bl=!1:self.defaultShowNextAndPrevButtons_bl?self.showNextAndPrevButtons_bl=!0:self.showNextAndPrevButtons_bl=!1,self.id<0?self.id=0:self.id>self.totalItems-1&&(self.id=self.totalItems-1),self.prevId=self.id,self.useDeepLinking_bl&&(location.hash=i?"RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id+"&rl_propsobj="+i:"RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id),(self.isSoundCloud_bl||self.isFacebook_bl||self.isYoutube_bl||self.isFlickr_bl)&&self.showComplete()},self.showComplete=function(){self.useAsModal_bl?self.removeCloseEventsWhenBkIsPressed():self.addCloseEventsWhenBkIsPressed(),self.isReady_bl&&-1!=self.id&&!self.curItem_do&&self.playlist_ar&&!self.isPlaylistDispatchingError_bl&&(self.positionPreloader(),self.preloader_do.show(!0),self.showCloseButton_bl?self.showCloseButton():self.hideCloseButton(),self.playlist_ar[self.id].type_str==FWDRL.IMAGE_TYPE&&self.defaultShowZoomButton_bl?self.showZoomButton():self.hideZoomButton(),self.playlist_ar[self.id].description&&self.defaultHideDescriptionButtons_bl?(self.hasItemDescription_bl=!0,self.showDescriptionButton()):(self.hasItemDescription_bl=!1,self.hideDescriptionButton()),self.showSlideShowButton_bl?self.showSlideshowButton():self.hideSlideshowButton(),self.showShareButton_bl?self.showFacebookButton():self.hideFacebookButton(),self.showNextAndPrevButtons_bl?self.showNextAndPrevButtons():self.hideNextAndPrevButtons(),self.showThumbnailsHideOrShowButton_bl&&self.showThumbnails_bl?(self.showHsThumbnailButton(),self.showThumbnailsByDefault_bl?self.hsThumbanilsButton_do.setButtonState(1):self.hsThumbanilsButton_do.setButtonState(0)):self.hideHsThumbnailButton(),self.showDescription_bl?self.descButton_do.setButtonState(0):self.descButton_do.setButtonState(1),self.hideButtons(),self.createAndShowItem(),self.isMobile_bl&&self.addSwipeSupport(),self.startAnim(801))},self.hide=function(){self.isAnim_bl||!self.isShowed_bl||self.isAnimMaximizeOrMinimize_bl||self.isMaximized_bl||self.swipeMoved_bl||!self.areButtonsShowed_bl||(self.isSoundCloud_bl=!1,self.isFacebook_bl=!1,self.isYoutube_bl=!1,self.isFlickr_bl=!1,self.stopToLoadPlaylist(),self.isMobile_bl&&self.closeButton_do&&FWDAnimation.isTweening(self.closeButton_do.buttonsHolder_do)||(FWDAnimation.to(self.bk_do,.8,{alpha:0,delay:.4,ease:Quint.easeOut}),self.curItem_do&&self.curItem_do.screen&&(FWDAnimation.to(self.curItem_do,.6,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.curItem_do,.8,{x:0,y:0,w:0,h:0,delay:.1,ease:Expo.easeInOut})),FWDAnimation.to(self.mainItemHolder_do,.8,{x:self.stageWidth/2,y:self.stageHeight/2,w:0,h:0,delay:.1,ease:Expo.easeInOut}),FWDAnimation.to(self.itemBorder_do,.8,{w:0,h:0,alpha:0,delay:.1,ease:Expo.easeInOut}),FWDAnimation.to(self.itemBk_do,.8,{x:0,y:0,w:0,h:0,delay:.1,ease:Expo.easeInOut}),self.curItem_do&&self.hideButtons(!0),self.isShowed_bl=!1,self.isFirstItemShowed_bl=!1,self.id,self.curItem_do=null,self.prevItem_do=null,self.isAnimForVideoAndAudioPlayersDone_bl=!1,self.stopResizeHandler(),self.closeAjax(),self.tm.stop(),self.thumbnailsManager_do&&self.thumbnailsManager_do.hide(!0),self.main_do.contains(self.info_do)&&self.main_do.removeChild(self.info_do),self.closeImage(),self.useAsModal_bl||self.removeCloseEventsWhenBkIsPressed(),self.hider.stop(),self.preloader_do.hide(!0),self.hideShareButtons(!0,!0),self.videoHolder_do&&(self.video_do.stop(),self.video_do.setPosterSource(""),self.videoHolder_do.setX(-5e3),self.videoHolder_do.w=1,self.videoHolder_do.h=1),self.audioHolder_do&&(self.audio_do.stop(),self.audioHolder_do.setX(-5e3),self.audioHolder_do.w=1,self.audioHolder_do.h=1),self.desc_do.descriptionAnimationType_str="opacity",FWDRL.dispatchEvent(FWDRL.HIDE_START),self.hasItemDescription_bl&&self.showDescription_bl&&self.desc_do.hide(!0),clearTimeout(self.showOrHideCompleteId_to),self.showOrHideCompleteId_to=setTimeout(self.hideComplete,1200),self.isMobile_bl&&self.removeSwipeSupport(),self.startAnim(1202)))},self.hideComplete=function(){self.useDeepLinking_bl&&(location.hash="RL"),self.removePreventMouseWheel(),self.isFirstItemShowed_bl=!1,self.firstVideoOrAudioAdded_bl=!1,self.curItem_do=null,self.prevItem_do=null,self.removeItems(0),self.thumbnailsManager_do&&(self.thumbnailsManager_do.destoryThumbnails(),self.thumbnailsManager_do.hideForGood()),self.video_do&&RLVideoPlayer&&RLVideoPlayer.setPosterSource(""),self.isMobile_bl&&self.removeSwipeSupport(),self.main_do.setX(-5e3),FWDRL.dispatchEvent(FWDRL.HIDE_COMPLETE)},self.startAnim=function(t){self.stopAnim(),self.isAnim_bl=!0,self.animId_to=setTimeout(self.animationDone,t)},self.stopAnim=function(){self.isAnim_bl=!1,self.tm&&self.tm.pause(),clearTimeout(self.animId_to)},self.animationDone=function(){self.isAnim_bl=!1,self.tm.resume(),self.removeItems(1),self.dlChangeHandler(),self.hasItemDescription_bl&&self.showDescription_bl&&self.desc_do.show(!0)},self.addCloseEventsWhenBkIsPressed=function(){self.isMobile_bl?self.hasPointerEvent_bl?self.bk_do.screen.addEventListener("pointerup",self.onBkMouseUp):(self.bk_do.screen.addEventListener("touchend",self.onBkMouseUp),self.bk_do.screen.addEventListener("touchmove",self.onBkTouchMove)):self.bk_do.screen.addEventListener?self.bk_do.screen.addEventListener("click",self.onBkMouseUp):self.bk_do.screen.attachEvent&&self.bk_do.screen.attachEvent("onclick",self.onBkMouseUp)},self.removeCloseEventsWhenBkIsPressed=function(){self.isMobile_bl?self.hasPointerEvent_bl?self.bk_do.screen.removeEventListener("pointerup",self.onBkMouseUp):(self.bk_do.screen.removeEventListener("touchend",self.onBkMouseUp),self.bk_do.screen.removeEventListener("touchmove",self.onBkTouchMove)):self.bk_do.screen.removeEventListener?self.bk_do.screen.removeEventListener("click",self.onBkMouseUp):self.bk_do.screen.detachEvent&&self.bk_do.screen.detachEvent("onclick",self.onBkMouseUp)},self.onBkTouchMove=function(){clearTimeout(self.doNotAllowToHideId_to),self.doNotAllowToHideId_to=setTimeout(function(){self.doNotAllowToHide_bl=!1},100),self.doNotAllowToHide_bl=!0},self.onBkMouseUp=function(){self.doNotAllowToHide_bl||self.hide()},this.stopToLoadPlaylist=function(){clearTimeout(self.JSONPRequestTimeoutId_to);try{self.scs_el.src=null,document.documentElement.removeChild(self.scs_el),self.scs_el=null}catch(t){}if(null!=self.xhr){try{self.xhr.abort()}catch(t){}self.xhr.onreadystatechange=null,self.xhr.onerror=null,self.xhr=null}},self.createAndShowItem=function(){var t=self.playlist_ar[self.id];if(self.type_str=t.type_str,self.url=t.url,self.posterPath_str=t.posterPath,self.closeAjax(),self.tm.pause(),self.closeImage(),self.preloader_do.hide(!0),self.main_do.contains(self.info_do)&&self.main_do.removeChild(self.info_do),self.thumbnailsManager_do&&self.thumbnailsManager_do.disableOrEnableThumbnails(),self.prevItem_do&&self.prevItem_do.type_str!=FWDRL.IMAGE_TYPE&&(self.removeItems(0),self.prevItem_do=null),self.playlist_ar[self.id].description?(self.hasItemDescription_bl=!0,self.showDescriptionButton()):(self.hasItemDescription_bl=!1,self.hideDescriptionButton(),self.desc_do.hide(!1,!1,!0)),self.videoHolder_do&&(self.video_do.stop(),self.type_str!=FWDRL.VIDEO_TYPE&&(self.videoHolder_do.setX(-5e3),self.videoHolder_do.w=1,self.videoHolder_do.h=1)),self.audioHolder_do&&(self.audio_do.stop(),self.type_str==FWDRL.AUDIO_TYPE&&self.isFirstItemShowed_bl||(self.audioHolder_do.setX(-5e3),self.audioHolder_do.w=1,self.audioHolder_do.h=1)),self.isAnimForVideoAndAudioPlayersDone_bl=!1,self.type_str==FWDRL.IMAGE_TYPE)self.loadImage(),self.firstVideoOrAudioAdded_bl=!0;else if(self.type_str==FWDRL.IFRAME_TYPE||self.type_str==FWDRL.FLASH_TYPE||self.type_str==FWDRL.VIDEO_TYPE||self.type_str==FWDRL.AUDIO_TYPE){if(self.originalW=t.width||self.defaultItemW,self.originalH=t.height||self.defaultItemH,self.prevItem_do&&(self.resizeCurrentItem(!0),FWDAnimation.to(self.prevItem_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.prevItem_do,.8,{x:parseInt((self.finalW-self.prevItem_do.w)/2),y:parseInt((self.finalH-self.prevItem_do.h)/2),ease:Expo.easeInOut})),self.curItem_do=new FWDRLDisplayObject("div"),self.curItem_do.type_str=self.type_str,self.prevItem_do=self.curItem_do,self.isMobile_bl&&(self.curItem_do.getStyle().overflow="scroll",self.curItem_do.getStyle().webkitOverflowScrolling="touch"),self.itemHolder_do.addChild(self.curItem_do),self.isFirstItemShowed_bl?self.resizeCurrentItem(!1,!0):(self.resizeCurrentItem(!1),self.showItemFirstTime(),self.positionButtons(!1),self.positionShareButtons(!1),self.hideButtons(),self.setupThumbnails(800)),self.hideZoomButton(),self.playlist_ar[self.id].description?(self.hasItemDescription_bl=!0,self.desc_do.setText(self.playlist_ar[self.id].description),self.showDescriptionButton()):(self.hasItemDescription_bl=!1,self.hideDescriptionButton()),"opacity"==self.descriptionAnimationType_str&&self.hasItemDescription_bl&&self.desc_do.hide(!1,!0,!1),self.positionButtons(!0),self.positionShareButtons(!0),self.type_str==FWDRL.VIDEO_TYPE){if(!self.data.DFUseVideo_bl)return self.main_do.addChild(self.info_do),void self.info_do.showText("To play video mp4 files please set <font color='#FF0000'>useVideo:\"yes\"</font>.");if(!FWDRLFlashTest.hasFlashPlayerVersion("9.0.18")&&!FWDRLUtils.isLocal&&!self.isMobile_bl)return self.main_do.addChild(self.info_do),void self.info_do.showText("Please install Adobe flash player! <a href='http://www.adobe.com/go/getflashplayer'>Click here to install.</a> to play this mp4 video file.");if(!self.videoHolder_do&&FWDRLUtils.isLocal)return self.main_do.addChild(self.info_do),void self.info_do.showText("This browser can't play mp4 video files locally, please use a different browser like Chrome, IE9+, Firefox(WIN), Safari(MAC). It will work on all browsers when tested online.");self.videoHolder_do.w==self.finalW-2*self.itemBorderSize&&self.videoHolder_do.h==self.finalH-2*self.itemBorderSize?(setTimeout(self.addContent,200),self.startAnim(201),self.showSlideShowAnimation_bl&&self.slp_do.animReset()):(setTimeout(self.addContent,800),self.startAnim(801))}else if(self.type_str==FWDRL.AUDIO_TYPE){if(!self.data.DFUseAudio_bl)return self.main_do.addChild(self.info_do),void self.info_do.showText("To play audio mp3 files please set <font color='#FF0000'>useAudio:\"yes\"</font>.");if(!FWDRLFlashTest.hasFlashPlayerVersion("9.0.18")&&!FWDRLUtils.isLocal&&!self.isMobile_bl)return self.main_do.addChild(self.info_do),void self.info_do.showText("Please install Adobe flash player! <a href='http://www.adobe.com/go/getflashplayer'>Click here to install.</a> to play this mp3 audio file.");if(!self.audioHolder_do&&FWDRLUtils.isLocal)return self.main_do.addChild(self.info_do),void self.info_do.showText("This browser can't play mp3 audio files locally, please use a different browser like Chrome, IE9+, Firefox(WIN), Safari(MAC). It will work on all browsers when tested online.");self.audioHolder_do.w==self.finalW-2*self.itemBorderSize&&self.audioHolder_do.h==self.finalH-2*self.itemBorderSize?(setTimeout(self.addContent,200),self.startAnim(201),self.showSlideShowAnimation_bl&&self.slp_do.animReset()):(setTimeout(self.addContent,800),self.startAnim(801))}else if(self.type_str==FWDRL.IFRAME_TYPE)setTimeout(self.addContent,800),self.startAnim(801);else if(self.type_str==FWDRL.FLASH_TYPE){if(!FWDRLFlashTest.hasFlashPlayerVersion("9.0.18")&&!self.isMobile_bl)return self.main_do.addChild(self.info_do),self.info_do.showText("Please install Adobe flash player! <a href='http://www.adobe.com/go/getflashplayer'>Click here to install.</a> to view this flash content."),void self.startAnim(801);if(self.isMobile_bl)return self.main_do.addChild(self.info_do),self.info_do.showText("Adobe flash player is not supported on mobile devices, to view this content please use a desktop machine."),void self.startAnim(801);setTimeout(self.addContent,800),self.startAnim(801)}self.videoHolder_do&&(self.videoHolder_do.w==self.finalW-2*self.itemBorderSize&&self.videoHolder_do.h==self.finalH-2*self.itemBorderSize||(self.videoHolder_do.setX(-5e3),self.videoHolder_do.w=1,self.videoHolder_do.h=1))}FWDRL.dispatchEvent(FWDRL.UPDATE,{curId:self.id})},self.addContent=function(){if(self.type_str==FWDRL.VIDEO_TYPE)return self.isAnimForVideoAndAudioPlayersDone_bl=!0,RLVideoPlayer.setVideoSource(self.url),RLVideoPlayer.setPosterSource(self.posterPath_str),self.videoAutoPlay_bl&&!self.firstVideoOrAudioAdded_bl?RLVideoPlayer.play():self.nextVideoOrAudioAutoPlay_bl&&self.firstVideoOrAudioAdded_bl&&RLVideoPlayer.play(),self.resizeCurrentItem(),self.prevVideoW=self.finalW,self.prevVideoH=self.finalH,self.firstVideoOrAudioAdded_bl=!0,self.videoAutoPlay_bl=!1,void(self.audioAutoPlay_bl=!1);if(self.type_str==FWDRL.AUDIO_TYPE)return self.isAnimForVideoAndAudioPlayersDone_bl=!0,RLAudioPlayer.setSource(self.url),self.audioAutoPlay_bl&&!self.firstVideoOrAudioAdded_bl?RLAudioPlayer.play():self.nextVideoOrAudioAutoPlay_bl&&self.firstVideoOrAudioAdded_bl&&RLAudioPlayer.play(),self.resizeCurrentItem(),self.firstVideoOrAudioAdded_bl=!0,self.audioAutoPlay_bl=!1,void(self.videoAutoPlay_bl=!1);if(self.type_str==FWDRL.FLASH_TYPE){var t='<object id="RL_swf_'+parseInt(99999999999*Math.random())+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100%" height="100%"><param name="movie" value="'+self.url+'"/><param name="wmode" value="opaque"/><param name="scale" value="noscale"/><object type="application/x-shockwave-flash" data="'+self.url+'" width="100%" height="100%"><param name="movie" value="'+self.url+'"/><param name="wmode" value="opaque"/><param name="scale" value="noscale"/></object></object>';return self.curItem_do.setInnerHTML(t),void self.resizeCurrentItem()}if(-1!=self.url.indexOf("RL_HTML"))return self.addInnerHTMLContent(self.playlist_ar[self.id].html),void self.resizeCurrentItem();if(-1==self.url.indexOf("RL_AJAX:")){var e,i="http://";-1!=self.url.indexOf("https")&&(i="https://"),self.nextVideoOrAudioAutoPlay_bl&&self.firstVideoOrAudioAdded_bl&&(self.videoAutoPlay_bl=!0);var s,o=self.videoAutoPlay_bl?"1":"0";self.firstVideoOrAudioAdded_bl=!0,(e=document.createElement("iframe")).width="100%",e.height="100%",e.allowFullScreen=1,e.setAttribute("allowFullScreen",""),e.frameBorder=0,-1!=self.url.indexOf("youtube.")||-1!=self.url.indexOf("vimeo.")?(-1!=self.url.indexOf("youtube.")?(s=self.url.replace(/.*\?v=|&.*/gi,""),e.src=i+"www.youtube.com/embed/"+s+"?wmode=transparent&autoplay="+o):-1!=self.url.indexOf("vimeo.")&&(s=self.url.replace(/.*\/|\?.*/gi,""),e.src=i+"player.vimeo.com/video/"+s+"?autoplay="+o),self.videoAutoPlay_bl=!1):(-1!=self.url.indexOf("google.")&&(self.url=self.url.replace(/&key=\.*|key=\.*|&key=*/gi,""),self.url+="&key="+self.googleMapsAPIKey_str),e.src=self.url),self.curItem_do.screen.appendChild(e),self.resizeCurrentItem()}else{if(FWDRLUtils.isLocal)return void self.ajaxLoadError("Using ajax locally is not possible or allowed, please test online.");self.url=self.url.substr(self.url.indexOf(":")+1),self.xmlhttp=new XMLHttpRequest,self.xmlhttp.onerror=function(){self.ajaxLoadError("Ajax error with code: "+self.xmlhttp.status)},self.xmlhttp.onreadystatechange=function(){4===self.xmlhttp.readyState&&(200==self.xmlhttp.status?self.addInnerHTMLContent(self.xmlhttp.responseText):self.ajaxLoadError("Ajax error with code: "+self.xmlhttp.status))},self.xmlhttp.open("GET",self.url,!0);try{self.xmlhttp.send()}catch(t){t.message&&self.ajaxLoadError(t.message)}}},self.addInnerHTMLContent=function(t){self.curItem_do.getStyle().overflow="auto",self.curItem_do.setInnerHTML(t),self.curItem_do.screen.addEventListener&&(self.curItem_do.screen.addEventListener("mousewheel",function(t){t.stopImmediatePropagation&&t.stopImmediatePropagation()}),self.curItem_do.screen.addEventListener("DOMMouseScroll",function(t){t.stopImmediatePropagation&&t.stopImmediatePropagation()}),self.curItem_do.screen.addEventListener("touchmove",function(t){self.curItem_do.screen.scrollHeight>self.finalH-2*self.itemBorderSize&&t.stopImmediatePropagation()}))},self.ajaxLoadError=function(t){self.tm.stop(),self.stopAnim(),self.preloader_do.hide(!0),self.main_do.addChild(self.info_do),self.info_do.showText(t)},self.closeAjax=function(){self.xmlhttp&&(self.xmlhttp.onerror=null,self.xmlhttp.onreadystatechange=null,self.xmlhttp.abort(),self.xmlhttp=null)},self.closeImage=function(){self.image_img&&(self.image_img.onload=null,self.image_img.onerror=null,self.image_img=null)},self.loadImage=function(){self.isLoading_bl=!0,self.stopAnim(),self.positionPreloader(),self.preloader_do.show(!0),self.image_img=new Image,self.image_img.onload=self.imageLoadComplete,self.image_img.onerror=self.imageLoadError,self.image_img.src=self.url},self.imageLoadComplete=function(t){self.originalW=self.image_img.width,self.originalH=self.image_img.height,self.curItem_do=new FWDRLDisplayObject("img"),self.curItem_do.setScreen(self.image_img),self.curItem_do.type_str=FWDRL.IMAGE_TYPE,self.isFirstItemShowed_bl?(self.resizeCurrentItem(!0,!1),self.prevItem_do&&self.prevItem_do.type_str==FWDRL.IMAGE_TYPE&&(FWDAnimation.to(self.prevItem_do,.8,{alpha:0,ease:Quint.easeOut}),FWDAnimation.to(self.prevItem_do,.8,{x:parseInt((self.finalW-self.prevItem_do.w)/2),y:parseInt((self.finalH-self.prevItem_do.h)/2),ease:Expo.easeInOut})),self.curItem_do.setWidth(self.finalW-2*self.itemBorderSize),self.curItem_do.setHeight(self.finalH-2*self.itemBorderSize),self.curItem_do.setAlpha(0),self.resizeCurrentItem(!1,!0),FWDAnimation.to(self.curItem_do,.8,{alpha:1,delay:.8,ease:Quint.easeOut})):(self.resizeCurrentItem(!1),self.showItemFirstTime(),self.positionButtons(!1),self.positionShareButtons(!1),self.hideButtons(),self.setupThumbnails(800)),self.startAnim(801),self.isLoading_bl=!1,self.prevItem_do=self.curItem_do,self.preloader_do.hide(!0),self.showZoomButton(),self.hasItemDescription_bl&&("opacity"==self.descriptionAnimationType_str&&self.hasItemDescription_bl&&self.desc_do.hide(!1,!0,!1),self.showDescriptionButton(),self.desc_do.setText(self.playlist_ar[self.id].description)),self.positionButtons(!0),self.positionShareButtons(!0),self.itemHolder_do.addChild(self.curItem_do)},self.imageLoadError=function(t){self.tm.stop(),self.stopAnim(),self.preloader_do.hide(!0),self.main_do.addChild(self.info_do),self.info_do.showText("Image with path <span style='color:#FF0000;'>"+decodeURIComponent(self.url)+"</span> can't be loaded, probably the path is incorrect.")},this.maximizeOrMinimize=function(){var t,e,i,s,o,a,n;self.isLoading_bl||self.isAnim_bl||(self.isAnimMaximizeOrMinimize_bl=!0,clearTimeout(self.maximizeCompleteTimeOutId_to),clearTimeout(self.minimizeCompleteTimeOutId_to),self.isMaximized_bl?(self.isMaximized_bl=!1,self.zoomButton_do.setButtonState(1),self.isMobile_bl?self.removeEventsForScrollngImageOnMobile():self.removeEventsForScrollngImageOnDesktop(),FWDAnimation.to(self.curItem_do,.8,{x:self.finalX+self.itemBorderSize,y:self.finalY+self.itemBorderSize,w:self.finalW-2*self.itemBorderSize,h:self.finalH-2*self.itemBorderSize,ease:Expo.easeInOut}),self.setButtonsVisible(!0),self.positionButtons(!0),self.positionShareButtons(!0),self.minimizeCompleteTimeOutId_to=setTimeout(self.minimizeCompleteHandler,801)):(self.isMaximized_bl=!0,self.zoomButton_do.setButtonState(0),self.tm.pause(),t=self.stageWidth/self.originalW,n=0,(e=self.stageHeight/self.originalH)<=t?n=t:t<=e&&(n=e),o=parseInt(self.originalW*n),a=parseInt(self.originalH*n),i=parseInt((self.stageWidth-o)/2),s=parseInt((self.stageHeight-a)/2),1!=self.curItem_do.alpha&&self.curItem_do.setAlpha(1),self.curItem_do.setX(self.curItem_do.getGlobalX()),self.curItem_do.setY(self.curItem_do.getGlobalY()),FWDAnimation.to(self.zoomButton_do,.8,{x:self.stageWidth-self.zoomButton_do.w-1,y:1,ease:Expo.easeInOut}),self.isMobile_bl?FWDAnimation.to(self.curItem_do,.8,{x:i,y:s,w:o,h:a,ease:Expo.easeInOut}):(e<=t?FWDAnimation.to(self.curItem_do,.8,{x:i,w:o,h:a,ease:Expo.easeInOut}):t<e&&FWDAnimation.to(self.curItem_do,.8,{y:s,w:o,h:a,ease:Expo.easeInOut}),self.addEventsForScrollngImageOnDesktop()),self.itemHolder_do.contains(self.imteHolder_do)&&self.itemHolder_do.removeChild(self.curItem_do),self.main_do.addChild(self.curItem_do),self.main_do.addChild(self.zoomButton_do),self.maximizeCompleteTimeOutId_to=setTimeout(self.maximizeCompleteHandler,801)),self.hideShareButtons(!0))},self.minimizeCompleteHandler=function(){self.isAnimMaximizeOrMinimize_bl=!1,self.isTweening_bl=!1,self.itemHolder_do.addChild(self.curItem_do),self.resizeCurrentItem(),self.tm.resume(),self.hasItemDescription_bl&&self.showDescription_bl&&self.desc_do.show(!0),self.main_do.addChild(self.zoomButton_do),self.useDeepLinking_bl&&self.dlChangeHandler()},self.maximizeCompleteHandler=function(){self.isAnimMaximizeOrMinimize_bl=!1,self.setButtonsInvisible(!0),self.isMobile_bl&&self.addEventsForScrollngImageOnMobile(),self.hasItemDescription_bl&&self.showDescription_bl&&self.desc_do.hide(!1)},self.setButtonsInvisible=function(t){self.showCloseButton_bl&&self.closeButton_do.setVisible(!1),self.showNextAndPrevButtons_bl&&(self.nextButton_do.setVisible(!1),self.prevButton_do.setVisible(!1)),self.showThumbnailsHideOrShowButton_bl&&self.hsThumbanilsButton_do.setVisible(!1),self.showThumbnails_bl&&self.thumbnailsManager_do.setVisible(!1),self.showDescriptionButton_bl&&self.descButton_do.setVisible(!1),self.showSlideShowButton_bl&&self.slideShowButton_do.setVisible(!1),self.showShareButton_bl&&self.shareButton_do.setVisible(!1),self.showSlideShowAnimation_bl&&self.slp_do.setVisible(!1),self.showDescription_bl&&self.desc_do.setVisible(!1),t&&self.mainItemHolder_do.setVisible(!1)},self.setButtonsVisible=function(t){self.showCloseButton_bl&&self.closeButton_do.setVisible(!0),self.showNextAndPrevButtons_bl&&(self.nextButton_do.setVisible(!0),self.prevButton_do.setVisible(!0)),self.showThumbnailsHideOrShowButton_bl&&self.hsThumbanilsButton_do.setVisible(!0),self.showThumbnails_bl&&self.thumbnailsManager_do.setVisible(!0),self.showDescriptionButton_bl&&self.descButton_do.setVisible(!0),self.showSlideShowButton_bl&&self.slideShowButton_do.setVisible(!0),self.showShareButton_bl&&self.shareButton_do.setVisible(!0),self.showSlideShowAnimation_bl&&self.slp_do.setVisible(!0),self.showDescription_bl&&self.desc_do.setVisible(!0),t&&self.mainItemHolder_do.setVisible(!0)},this.addEventsForScrollngImageOnDesktop=function(){self.updateImageWhenMaximized_int=setInterval(self.updateMaximizedImageHandler,16),window.addEventListener?window.addEventListener("mousemove",self.updateMaximizeImageOnMouseMovedHandler):document.attachEvent("onmousemove",self.updateMaximizeImageOnMouseMovedHandler),self.hider.stop()},this.removeEventsForScrollngImageOnDesktop=function(){clearInterval(self.updateImageWhenMaximized_int),window.addEventListener?window.removeEventListener("mousemove",self.updateMaximizeImageOnMouseMovedHandler):document.detachEvent("onmousemove",self.updateMaximizeImageOnMouseMovedHandler),self.hider.start()},this.updateMaximizeImageOnMouseMovedHandler=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);self.gmx=e.screenX,self.gmy=e.screenY},self.updateMaximizedImageHandler=function(){var t,e;if(self.percentX=self.gmx/self.stageWidth,self.percentY=self.gmy/self.stageHeight,1<self.percentX&&(self.percentX=1),1<self.percentY&&(self.percentY=1),self.stageWidth/self.originalW<=self.stageHeight/self.originalH){if(t=Math.round((self.stageWidth-self.curItem_do.w)*self.percentX),isNaN(t))return;FWDAnimation.to(self.curItem_do,.4,{x:t})}else{if(e=Math.round((self.stageHeight-self.curItem_do.h)*self.percentY),isNaN(e))return;FWDAnimation.to(self.curItem_do,.4,{y:e})}},self.addEventsForScrollngImageOnMobile=function(){self.hasPointerEvent_bl?(window.addEventListener("pointerdown",self.onTouchStartScrollImage),window.addEventListener("pointerup",self.onTouchEndScrollImage)):(window.addEventListener("touchstart",self.onTouchStartScrollImage),window.addEventListener("touchend",self.onTouchEndScrollImage)),clearInterval(self.updateImageWhenMaximized_int),self.updateImageWhenMaximized_int=setInterval(self.updateMaximizedImageMobileHandler,16)},self.removeEventsForScrollngImageOnMobile=function(){clearInterval(self.updateImageWhenMaximized_int),self.hasPointerEvent_bl?(window.removeEventListener("pointerdown",self.onTouchStartScrollImage),window.removeEventListener("pointerup",self.onTouchEndScrollImage),window.removeEventListener("pointermove",self.onTouchMoveScrollImage)):(window.removeEventListener("touchstart",self.onTouchStartScrollImage),window.removeEventListener("touchend",self.onTouchEndScrollImage),window.removeEventListener("touchmove",self.onTouchMoveScrollImage)),self.isDragging_bl=!1},self.onTouchStartScrollImage=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);self.hasPointerEvent_bl?window.addEventListener("pointermove",self.onTouchMoveScrollImage):window.addEventListener("touchmove",self.onTouchMoveScrollImage),self.lastPresedX=e.screenX,self.lastPresedY=e.screenY,t.preventDefault()},self.onTouchEndScrollImage=function(t){self.hasPointerEvent_bl?window.removeEventListener("pointermove",self.onTouchMoveScrollImage):window.removeEventListener("touchmove",self.onTouchMoveScrollImage),self.isDragging_bl=!1},self.onTouchMoveScrollImage=function(t){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t),i=self.stageWidth/self.originalW,s=self.stageHeight/self.originalH,o=0,a=0;self.isDragging_bl=!0,i<s?(o=e.screenX-self.lastPresedX,self.lastPresedX=e.screenX,self.curItem_do.setX(self.curItem_do.x+o)):(s<i||(o=e.screenX-self.lastPresedX,self.lastPresedX=e.screenX,self.curItem_do.setX(self.curItem_do.x+o)),a=e.screenY-self.lastPresedY,self.lastPresedY=e.screenY,self.curItem_do.setY(self.curItem_do.y+a)),self.vx=2*o,self.vy=2*a},self.updateMaximizedImageMobileHandler=function(){var t,e,i,s,o,a;if(!self.isDragging_bl){if(self.vy*=self.friction,self.vx*=self.friction,i=self.curItem_do.x,s=self.curItem_do.y,t=i+self.vx,e=s+self.vy,o=self.curItem_do.w,a=self.curItem_do.h,isNaN(t)||isNaN(e))return;self.curItem_do.setX(t),self.curItem_do.setY(e),0<=s?(self.vy2=.3*(0-s),self.vy*=self.friction,self.curItem_do.setY(s+self.vy2)):s<=self.stageHeight-a&&(self.vy2=.3*(self.stageHeight-a-s),self.vy*=self.friction,self.curItem_do.setY(s+self.vy2)),0<=i?(self.vx2=.3*(0-i),self.vx*=self.friction,self.curItem_do.setX(i+self.vx2)):i<=self.stageWidth-o&&(self.vx2=.3*(self.stageWidth-o-i),self.vx*=self.friction,self.curItem_do.setX(i+self.vx2))}},self.resizeCurrentItem=function(t,e){if(self.curItem_do){var i=self.stageWidth-2*self.maxButtonW-2*(self.buttonsOffsetIn+self.buttonsOffsetOut)-2*self.itemBorderSize,s=self.stageHeight-self.itemOffsetH-2*self.itemBorderSize,o=0;self.areThumbnailsShowed_bl&&(s-=self.thumbnailH+self.spaceBetweenThumbnailsAndItem,o=Math.round((self.thumbnailH+self.spaceBetweenThumbnailsAndItem)/2-self.spaceBetweenThumbnailsAndItem/2));var a=i/self.originalW,n=s/self.originalH,r=0;a<=n?r=a:n<=a&&(r=n),1<=a&&1<=n&&(r=1),self.finalW=Math.round(self.originalW*r)+2*self.itemBorderSize,self.finalH=Math.round(self.originalH*r)+2*self.itemBorderSize,self.finalW<2*self.itemBorderSize&&(self.finalW=2*self.itemBorderSize),self.finalH<2*self.itemBorderSize&&(self.finalH=2*self.itemBorderSize),FWDRLUtils.isIEAndLessThen9&&(self.finalW<150&&(self.finalW=150),self.finalH<150&&(self.finalH=150)),self.type_str==FWDRL.AUDIO_TYPE&&self.audioHolder_do&&(self.finalH=self.data.audioControllerHeight+2*self.itemBorderSize),self.finalX=Math.round((self.stageWidth-self.finalW)/2),self.finalY=Math.round((self.stageHeight-self.finalH)/2)-o,t||(FWDAnimation.killTweensOf(self.mainItemHolder_do),FWDAnimation.killTweensOf(self.itemBk_do),FWDAnimation.killTweensOf(self.itemBorder_do),e?(FWDAnimation.to(self.mainItemHolder_do,.8,{x:self.finalX,y:self.finalY,w:self.finalW,h:self.finalH,ease:Expo.easeInOut}),FWDAnimation.to(self.itemBk_do,.8,{x:self.itemBorderSize,y:self.itemBorderSize,w:self.finalW-2*self.itemBorderSize,h:self.finalH-2*self.itemBorderSize,ease:Expo.easeInOut}),FWDAnimation.to(self.itemBorder_do,.8,{x:0,y:0,w:self.finalW,h:self.finalH,ease:Expo.easeInOut}),self.desc_do&&FWDAnimation.to(self.desc_do,.8,{finalW:self.finalW-2*self.itemBorderSize,onUpdate:self.desc_do.resizeAndPosition,ease:Expo.easeInOut}),self.type_str==FWDRL.VIDEO_TYPE&&self.videoHolder_do&&self.isAnimForVideoAndAudioPlayersDone_bl&&FWDAnimation.to(self.videoHolder_do,.8,{x:self.itemBorderSize,y:self.itemBorderSize,w:self.finalW-2*self.itemBorderSize,h:self.finalH-2*self.itemBorderSize,onUpdate:RLVideoPlayer.resizeHandler,ease:Expo.easeInOut})):(self.mainItemHolder_do.setX(self.finalX),self.mainItemHolder_do.setY(self.finalY),self.mainItemHolder_do.setWidth(self.finalW),self.mainItemHolder_do.setHeight(self.finalH),self.itemBk_do.setX(self.itemBorderSize),self.itemBk_do.setY(self.itemBorderSize),self.itemBk_do.setWidth(self.finalW-2*self.itemBorderSize),self.itemBk_do.setHeight(self.finalH-2*self.itemBorderSize),self.itemBorder_do.setX(0),self.itemBorder_do.setY(0),self.itemBorder_do.setWidth(self.finalW),self.itemBorder_do.setHeight(self.finalH),1!=self.itemBorder_do.alpha&&self.itemBorder_do.setAlpha(1),self.desc_do&&self.desc_do.resizeAndPosition(self.finalW-2*self.itemBorderSize),self.type_str==FWDRL.VIDEO_TYPE&&self.videoHolder_do?self.isAnimForVideoAndAudioPlayersDone_bl&&(self.isVideoFullScreen_bl?(self.videoHolder_do.setX(-self.finalX),self.videoHolder_do.setY(-self.finalY)):(self.videoHolder_do.setX(self.itemBorderSize),self.videoHolder_do.setY(self.itemBorderSize)),self.videoHolder_do.setWidth(self.finalW-2*self.itemBorderSize),self.videoHolder_do.setHeight(self.finalH-2*self.itemBorderSize),RLVideoPlayer.resizeHandler()):self.type_str==FWDRL.AUDIO_TYPE&&self.audioHolder_do&&self.isAnimForVideoAndAudioPlayersDone_bl&&(self.audioHolder_do.setX(self.itemBorderSize),self.audioHolder_do.setY(self.itemBorderSize),self.audioHolder_do.setWidth(self.finalW-2*self.itemBorderSize),self.audioHolder_do.setHeight(self.finalH-2*self.itemBorderSize),RLAudioPlayer.resizeHandler())),FWDAnimation.killTweensOf(self.curItem_do),self.isMaximized_bl?(a=self.stageWidth/self.originalW,(n=self.stageHeight/self.originalH)<=a?r=a:a<=n&&(r=n),self.curItem_do.setX(parseInt((self.stageWidth-self.originalW*r)/2)),self.curItem_do.setY(parseInt((self.stageHeight-self.originalH*r)/2)),self.curItem_do.setWidth(Math.max(0,parseInt(self.originalW*r))),self.curItem_do.setHeight(Math.max(0,parseInt(self.originalH*r)))):e?FWDAnimation.to(self.curItem_do,.8,{x:self.itemBorderSize,y:self.itemBorderSize,w:self.finalW-2*self.itemBorderSize,h:self.finalH-2*self.itemBorderSize,ease:Expo.easeInOut}):(self.type_str==FWDRL.IMAGE_TYPE&&self.curItem_do.setAlpha(1),self.curItem_do.setX(self.itemBorderSize),self.curItem_do.setY(self.itemBorderSize),self.curItem_do.setWidth(self.finalW-2*self.itemBorderSize),self.curItem_do.setHeight(self.finalH-2*self.itemBorderSize)))}},self.showItemFirstTime=function(){self.isFirstItemShowed_bl=!0,self.mainItemHolder_do.setX(self.stageWidth/2),self.mainItemHolder_do.setY(self.stageHeight/2),self.mainItemHolder_do.setWidth(0),self.mainItemHolder_do.setHeight(0),self.itemBk_do.setX(0),self.itemBk_do.setY(0),self.itemBk_do.setWidth(0),self.itemBk_do.setHeight(0),self.curItem_do.type_str==FWDRL.IMAGE_TYPE&&(self.curItem_do.setAlpha(0),self.curItem_do.setX(-self.finalW/2+self.itemBorderSize),self.curItem_do.setY(-self.finalH/2+self.itemBorderSize),FWDAnimation.to(self.curItem_do,.8,{alpha:1,delay:.8,ease:Quint.easeOut}),FWDAnimation.to(self.curItem_do,.8,{x:self.itemBorderSize,y:self.itemBorderSize,ease:Expo.easeInOut}),self.startAnim(1601)),FWDAnimation.to(self.mainItemHolder_do,.8,{x:self.finalX,y:self.finalY,w:self.finalW,h:self.finalH,ease:Expo.easeInOut}),self.itemBorder_do.setAlpha(0),FWDAnimation.to(self.itemBorder_do,.8,{alpha:1,x:0,y:0,w:self.finalW,h:self.finalH,ease:Expo.easeInOut}),FWDAnimation.to(self.itemBk_do,.8,{x:self.itemBorderSize,y:self.itemBorderSize,w:self.finalW-2*self.itemBorderSize,h:self.finalH-2*self.itemBorderSize,ease:Expo.easeInOut}),self.hider.start(),setTimeout(function(){self.slideShowAutoPlay_bl&&self.tm.start(),FWDRL.dispatchEvent(FWDRL.SHOW_COMPLETE)},800),self.addKeyboardSupport_bl?self.addKeyboardSupport():self.removeKeyboardSupport()},self.gotoToItem=function(t){self.isReady_bl&&self.isFirstItemShowed_bl&&!self.isAnim_bl&&(self.isMobile_bl||self.disableClick(),self.id=t,self.useDeepLinking_bl?self.propsObjVariableName_str?FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id+"&rl_propsobj="+self.propsObjVariableName_str):FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id):self.createAndShowItem())},self.gotoNextItem=function(){self.isReady_bl&&self.isFirstItemShowed_bl&&!self.isAnim_bl&&(self.isMobile_bl||self.disableClick(),self.id++,self.id<0?self.id=self.totalItems-1:self.id>self.totalItems-1&&(self.id=0),self.useDeepLinking_bl?self.propsObjVariableName_str?FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id+"&rl_propsobj="+self.propsObjVariableName_str):FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id):self.createAndShowItem(),self.hideShareButtons(!0))},self.gotoPrevItem=function(){self.isReady_bl&&self.isFirstItemShowed_bl&&!self.isAnim_bl&&(self.isMobile_bl||self.disableClick(),self.id--,self.id<0?self.id=self.totalItems-1:self.id>self.totalItems-1&&(self.id=0),self.useDeepLinking_bl?self.propsObjVariableName_str?FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id+"&rl_propsobj="+self.propsObjVariableName_str):FWDAddress.setValue("RL?rl_playlist="+self.playlistDomOrObj_str+"&rl_id="+self.id):self.createAndShowItem(),self.hideShareButtons(!0))},self.removeItems=function(t){for(var e;self.itemHolder_do.getNumChildren()>t;)e=self.itemHolder_do.getChildAt(0),FWDAnimation.killTweensOf(e),self.itemHolder_do.removeChild(e),e.destroy();e=null},self.addSwipeSupport=function(){self.hasPointerEvent_bl?self.main_do.screen.addEventListener("pointerdown",self.swipeStartHandler):self.main_do.screen.addEventListener("touchstart",self.swipeStartHandler)},self.removeSwipeSupport=function(){self.hasPointerEvent_bl?(window.removeEventListener("pointerdown",self.swipeStartHandler),window.removeEventListener("pointerup",self.swipeUpHandler),window.removeEventListener("pointermove",self.swipeMoveHandler)):(window.removeEventListener("touchstart",self.swipeStartHandler),window.removeEventListener("touchend",self.swipeUpHandler),window.removeEventListener("touchmove",self.swipeMoveHandler)),self.swipeMoved_bl=!1},this.swipeStartHandler=function(t){if(!t.touches||1==t.touches.length){var e=FWDRLUtils.getViewportMouseCoordinates(t);self.swipeMoved_bl=!1,self.mouseX=e.screenX,self.mouseY=e.screenY,self.hasPointerEvent_bl?(window.addEventListener("pointerup",self.swipeUpHandler),window.addEventListener("pointermove",self.swipeMoveHandler)):(window.addEventListener("touchend",self.swipeUpHandler),window.addEventListener("touchmove",self.swipeMoveHandler))}},self.swipeMoveHandler=function(t){if(t.preventDefault&&t.preventDefault(),!(self.isClickedDisabled_bl||t.touches&&1!=t.touches.length)){self.swipeMoved_bl=!0;var e=FWDRLUtils.getViewportMouseCoordinates(t);self.dif=self.mouseX-e.screenX,self.mouseX=e.screenX,self.mouseY=e.screenY}},self.swipeUpHandler=function(t){var e;self.isAnim_bl||self.isAnimMaximizeOrMinimize_bl||self.isMaximized_bl||(e=FWDRLUtils.isApple?20:4,self.dif>e?self.isClickedDisabled_bl||self.gotoNextItem():self.dif<-e&&(self.isClickedDisabled_bl||self.gotoPrevItem()),self.dif=0,self.hasPointerEvent_bl?(window.removeEventListener("pointerup",self.swipeUpHandler),window.removeEventListener("pointermove",self.swipeMoveHandler)):(window.removeEventListener("touchend",self.swipeUpHandler),window.removeEventListener("touchmove",self.swipeMoveHandler)))},self.addKeyboardSupport=function(){self.hasKeyboardSupport_bl||(self.hasKeyboardSupport_bl=!0,document.addEventListener?(document.addEventListener("keydown",self.onKeyDownHandler),document.addEventListener("keyup",self.onKeyUpHandler)):(document.attachEvent("onkeydown",self.onKeyDownHandler),document.attachEvent("onkeyup",self.onKeyUpHandler)))},self.removeKeyboardSupport=function(){self.hasKeyboardSupport_bl&&(self.hasKeyboardSupport_bl=!1,document.removeEventListener?(document.removeEventListener("keydown",self.onKeyDownHandler),document.removeEventListener("keyup",self.onKeyUpHandler)):(document.detachEvent("onkeydown",self.onKeyDownHandler),document.detachEvent("onkeyup",self.onKeyUpHandler)))},self.onKeyDownHandler=function(t){return document.removeEventListener?document.removeEventListener("keydown",self.onKeyDownHandler):document.detachEvent("onkeydown",self.onKeyDownHandler),39==t.keyCode?(self.gotoNextItem(),t.preventDefault&&t.preventDefault(),!1):37==t.keyCode?(self.gotoPrevItem(),t.preventDefault&&t.preventDefault(),!1):void 0},this.onKeyUpHandler=function(t){document.addEventListener?document.addEventListener("keydown",self.onKeyDownHandler):document.attachEvent("onkeydown",self.onKeyDownHandler)},self.setDefaultSettings=function(){self.buttonsAlignment_str=self.DFButtonsAlignment_str,self.defaultItemW=self.DFDefaultItemW,self.defaultItemH=self.DFDefaultItemH,self.descriptionWindowPosition_str=self.DFDescriptionWindowPosition_str,self.desc_do&&(self.desc_do.position_str=self.descriptionWindowPosition_str),self.descriptionAnimationType_str=self.DFDescriptionAnimationType_str,self.desc_do&&(self.desc_do.descriptionAnimationType_str=self.descriptionAnimationType_str),self.backgroundColor_str=self.DFBackgroundColor_str,self.bk_do.getStyle().backgroundColor=self.backgroundColor_str,self.itemBorderColor_str=self.DFitemBorderColor_str,self.itemBorder_do&&(self.itemBorder_do.getStyle().backgroundColor=self.DFitemBorderColor_str),self.spaceBetweenButtons=self.DFSpaceBetweenButtons,self.buttonsHideDelay=self.DFbuttonsHideDelay,self.hider&&(self.hider.hideDelay=self.buttonsHideDelay),self.nextVideoOrAudioAutoPlay_bl=self.DFNextVideoOrAudioAutoPlay_bl,self.useAsModal_bl=self.DFUseAsModal_bl,self.slideShowAutoPlay_bl=self.DFSlideShowAutoPlay_bl,self.videoAutoPlay_bl=self.DFVideoAutoPlay_bl,self.audioAutoPlay_bl=self.DFAudioAutoPlay_bl,self.addKeyboardSupport_bl=self.DFSddKeyboardSupport_bl,self.showCloseButton_bl=self.DFShowCloseButton_bl,self.showShareButton_bl=self.DFShowFacebookButton_bl,self.defaultShowZoomButton_bl=self.DFShowZoomButton,self.showSlideShowButton_bl=self.DFShowSlideShowButton_bl,self.defaultShowSlideShowAnimation_bl=self.DFSefaultShowSlideShowAnimation_bl,self.defaultShowNextAndPrevButtons_bl=self.DFSefaultShowNextAndPrevButtons_bl,self.slideShowDelay=self.DFSlideShowDelay,self.tm&&(self.tm.delay=self.slideShowDelay),self.slp_do&&(self.slp_do.duration=self.slideShowDelay/1e3),self.itemOffsetH=self.DFItemOffsetH,self.buttonsOffsetIn=self.DFButtonsOffsetIn,self.buttonsOffsetOut=self.DFButtonsOffsetOut,self.itemBorderSize=self.DFItemBorderSize,self.desc_do&&(self.desc_do.margins=self.itemBorderSize),self.itemBorderRadius=self.DFItemBorderRadius,self.itemBorderRadius?self.mainItemHolder_do.getStyle().borderRadius=self.itemBorderRadius+"px":self.mainItemHolder_do.getStyle().borderRadius="",self.backgroundOpacity=self.DFBackgroundOpacity,self.itemBoxShadow_str=self.DFItemBoxShadow_str,"none"==self.itemBoxShadow_str?self.mainItemHolder_do.getStyle().boxShadow="none":self.mainItemHolder_do.getStyle().boxShadow=self.itemBoxShadow_str,self.itemBkColor_str=self.DFItemBkColor_str,self.itemBk_do.getStyle().backgroundColor=self.itemBkColor_str,self.defaultShowThumbnails_bl=self.DFDefaultThumbnails_bl,self.defaultShowThumbnailsHideOrShowButton_bl=self.DFDefaultShowThumbnailsHideOrShowButton_bl,self.showThumbnailsByDefault_bl=self.DFShowThumbnailsByDefault_bl,self.showThumbnailsOverlay_bl=self.DFShowThumbnailsOverlay_bl,self.thumbnailsManager_do&&(self.thumbnailsManager_do.showThumbnailsOverlay_bl=self.showThumbnailsOverlay_bl),self.showThumbnailsSmallIcon_bl=self.DFShowThumbnailsSmallIcon_bl,self.thumbnailsManager_do&&(self.thumbnailsManager_do.showThumbnailsSmallIcon_bl=self.showThumbnailsSmallIcon_bl),self.thumbnailsOffsetBottom=self.DFThumbnailsOffsetBottom,self.thumbnailH=self.DFThumbnailH,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsOffsetBottom=self.thumbnailsOffsetBottom,self.thumbnailsManager_do.thumbnailH=self.thumbnailH-self.thumbnailsOffsetBottom,self.thumbnailsManager_do.stageHeight=self.thumbnailH),self.thumbnailsBorderSize=self.DFThumbnailsBorderSize,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderSize=self.thumbnailsBorderSize),self.thumbnailsBorderRadius=self.DFThumbnailsBorderRadius,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderRadius=self.thumbnailsBorderRadius),self.spaceBetweenThumbnailsAndItem=self.DFSpaceBetweenThumbnailsAndItem,self.spaceBetweenThumbnails=self.DFSpaceBetweenThumbnails,self.thumbnailsManager_do&&(self.thumbnailsManager_do.spaceBetweenThumbnails=self.spaceBetweenThumbnails),self.thumbnailsOverlayOpacity=self.DFThumbnailsOverlayOpacity,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsOverlayOpacity=self.thumbnailsOverlayOpacity),self.thumbnailsOverlayColor_str=self.DFThumbnailsOverlayColor_str,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsOverlayColor_str=self.thumbnailsOverlayColor_str),self.thumbnailsBorderNormalColor_str=self.DFThumbnailsBorderNormalColor,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderNormalColor_str=self.thumbnailsBorderNormalColor_str),self.thumbnailsBorderSelectedColor_str=self.DFThumbnailsBorderSelectedColor_str,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderSelectedColor_str=self.thumbnailsBorderNormalColor_str),self.defaultHideDescriptionButtons_bl=self.DFDefaultHideDescriptionButtons_bl,self.defaultShowDescriptionByDefault_bl=self.DFDefaultShowDescriptionByDefault_bl,self.showDescription_bl=self.defaultShowDescriptionByDefault_bl,self.descriptionWindowBackgroundColor_str=self.DFDescriptionWindowBackgroundColor,self.desc_do&&(self.desc_do.backgroundColor_str=self.descriptionWindowBackgroundColor_str,self.desc_do.bk_do.setBkColor(self.descriptionWindowBackgroundColor_str)),self.descriptionWindowBackgroundOpacity=self.DFDescriptionWindowBackgroundOpacity,self.desc_do&&(self.desc_do.backgroundOpacity=self.descriptionWindowBackgroundOpacity,self.desc_do.bk_do.setAlpha(self.desc_do.backgroundOpacity)),self.data.videoControllerBackgroundColor_str=self.DFVideoControllerBackgroundColor_str,self.data.videoPosterBackgroundColor_str=self.DFVideoPosterBackgroundColor_str,self.data.videoPosterBackgroundColor_str=self.DFVideoPosterBackgroundColor_str,self.video_do&&self.video_do.controller_do&&(self.video_do.controller_do.mainHolder_do.getStyle().backgroundColor=self.data.videoControllerBackgroundColor_str,self.video_do.videoPoster_do.getStyle().backgroundColor=self.data.videoPosterBackgroundColor_str),self.data.audioControllerBackgroundColor_str=self.DFAudioControllerBackgroundColor_str,self.audio_do&&self.audio_do.controller_do&&(self.audio_do.controller_do.getStyle().backgroundColor=self.data.audioControllerBackgroundColor_str)},self.setObjectPropsSettings=function(t){for(var e in t)switch(e){case"defaultItemWidth":self.defaultItemW=t.defaultItemWidth||640;break;case"defaultItemHeight":self.defaultItemH=t.defaultItemHeight||380;break;case"buttonsAlignment":self.buttonsAlignment_str=t.buttonsAlignment||"in","in"==self.buttonsAlignment_str||"out"==self.buttonsAlignment_str||(self.buttonsAlignment_str="in");break;case"descriptionWindowPosition":self.descriptionWindowPosition_str=t.descriptionWindowPosition||"top","top"==self.descriptionWindowPosition_str||"bottom"==self.descriptionWindowPosition_str||(self.descriptionWindowPosition_str="top"),self.desc_do&&(self.desc_do.position_str=self.descriptionWindowPosition_str);break;case"showDescriptionButton":self.defaultHideDescriptionButtons_bl=t.showDescriptionButton,self.defaultHideDescriptionButtons_bl="yes"==self.defaultHideDescriptionButtons_bl;break;case"showDescriptionByDefault":self.defaultShowDescriptionByDefault_bl=t.showDescriptionByDefault,self.defaultShowDescriptionByDefault_bl="yes"==self.defaultShowDescriptionByDefault_bl,self.showDescription_bl=self.defaultShowDescriptionByDefault_bl;break;case"descriptionWindowAnimationType":self.descriptionAnimationType_str=t.descriptionWindowAnimationType||"motion","motion"==self.descriptionAnimationType_str||"opacity"==self.descriptionAnimationType_str||(self.descriptionAnimationType_str="motion"),self.desc_do&&(self.desc_do.descriptionAnimationType_str=self.descriptionAnimationType_str);break;case"descriptionWindowBackgroundColor":self.descriptionWindowBackgroundColor_str=t.descriptionWindowBackgroundColor||"#FF0000",self.desc_do&&(self.desc_do.backgroundColor_str=self.descriptionWindowBackgroundColor_str,self.desc_do.bk_do.setBkColor(self.descriptionWindowBackgroundColor_str));break;case"descriptionWindowBackgroundOpacity":self.descriptionWindowBackgroundOpacity=t.descriptionWindowBackgroundOpacity||1,self.desc_do&&(self.desc_do.backgroundOpacity=self.descriptionWindowBackgroundOpacity,self.desc_do.bk_do.setAlpha(self.desc_do.backgroundOpacity));break;case"backgroundColor":self.backgroundColor_str=t.backgroundColor||"#000000",self.bk_do.getStyle().backgroundColor=self.backgroundColor_str;break;case"itemBorderColor":self.itemBorderColor_str=t.itemBorderColor||"transparent",self.itemBorder_do&&(self.itemBorder_do.getStyle().backgroundColor=self.itemBorderColor_str);break;case"spaceBetweenButtons":self.spaceBetweenButtons=t.spaceBetweenButtons||0;break;case"buttonsHideDelay":self.buttonsHideDelay=t.buttonsHideDelay||3,self.buttonsHideDelay*=1e3,self.hider&&(self.hider.hideDelay=self.buttonsHideDelay);break;case"useAsModal":self.useAsModal_bl=t.useAsModal,self.useAsModal_bl="yes"==self.useAsModal_bl;break;case"slideShowAutoPlay":self.slideShowAutoPlay_bl=t.slideShowAutoPlay,self.slideShowAutoPlay_bl="yes"==self.slideShowAutoPlay_bl;break;case"videoAutoPlay":self.videoAutoPlay_bl=t.videoAutoPlay,self.videoAutoPlay_bl="yes"==self.videoAutoPlay_bl,self.isMobile_bl&&(self.videoAutoPlay_bl=!1);break;case"nextVideoOrAudioAutoPlay":self.nextVideoOrAudioAutoPlay_bl=t.nextVideoOrAudioAutoPlay,self.nextVideoOrAudioAutoPlay_bl="yes"==self.nextVideoOrAudioAutoPlay_bl,self.isMobile_bl&&(self.nextVideoOrAudioAutoPlay_bl=!1);break;case"audioAutoPlay":self.audioAutoPlay_bl=t.audioAutoPlay,self.audioAutoPlay_bl="yes"==self.audioAutoPlay_bl,self.isMobile_bl&&(self.audioAutoPlay_bl=!1);break;case"addKeyboardSupport":self.addKeyboardSupport_bl=t.addKeyboardSupport,self.addKeyboardSupport_bl="yes"==self.addKeyboardSupport_bl;break;case"showCloseButton":self.showCloseButton_bl=t.showCloseButton,self.showCloseButton_bl="no"!=self.showCloseButton_bl;break;case"showFacebookButton":self.showShareButton_bl=t.showShareButton,self.showShareButton_bl="yes"==self.showShareButton_bl;break;case"showZoomButton":self.defaultShowZoomButton_bl=t.showZoomButton,self.defaultShowZoomButton_bl="no"!=self.defaultShowZoomButton_bl;break;case"showSlideShowButton":self.showSlideShowButton_bl=t.showSlideShowButton,self.showSlideShowButton_bl="yes"==self.showSlideShowButton_bl;break;case"showSlideShowAnimation":self.defaultShowSlideShowAnimation_bl=t.showSlideShowAnimation,self.defaultShowSlideShowAnimation_bl="yes"==self.defaultShowSlideShowAnimation_bl;break;case"showNextAndPrevButtons":self.defaultShowNextAndPrevButtons_bl=t.showNextAndPrevButtons,self.defaultShowNextAndPrevButtons_bl="no"!=self.defaultShowNextAndPrevButtons_bl,"no"==t.showNextAndPrevButtonsOnMobile&&self.isMobile_bl&&(self.defaultShowNextAndPrevButtons_bl=!1);break;case"slideShowDelay":self.slideShowDelay=1e3*parseInt(t.slideShowDelay),self.slideShowDelay<.001&&(self.slideShowDelay=1e3),self.tm&&(self.tm.delay=self.slideShowDelay),self.slp_do&&(self.slp_do.duration=self.slideShowDelay/1e3);break;case"itemOffsetHeight":self.itemOffsetH=t.itemOffsetHeight||0;break;case"buttonsOffsetIn":self.buttonsAlignment_str==FWDRL.BUTTONS_IN?this.buttonsOffsetIn=t.buttonsOffsetIn||0:this.buttonsOffsetIn=t.buttonsOffsetOut||0;break;case"buttonsOffsetOut":self.buttonsAlignment_str==FWDRL.BUTTONS_IN?self.buttonsOffsetOut=t.buttonsOffsetOut||0:self.buttonsOffsetOut=t.buttonsOffsetIn||0;break;case"itemBorderSize":self.itemBorderSize=t.itemBorderSize||0,self.desc_do&&(self.desc_do.margins=self.itemBorderSize);break;case"itemBorderRadius":self.itemBorderRadius=t.itemBorderRadius||0,self.itemBorderRadius?self.mainItemHolder_do.getStyle().borderRadius=self.itemBorderRadius+"px":self.mainItemHolder_do.getStyle().borderRadius="";break;case"backgroundOpacity":self.backgroundOpacity=t.backgroundOpacity||.8;break;case"itemBoxShadow":self.itemBoxShadow_str=t.itemBoxShadow||"none","none"==self.itemBoxShadow_str?self.mainItemHolder_do.getStyle().boxShadow="none":self.mainItemHolder_do.getStyle().boxShadow=self.itemBoxShadow_str;break;case"itemBackgroundColor":self.itemBkColor_str=t.itemBackgroundColor||"transparent",self.itemBk_do.getStyle().backgroundColor=self.itemBkColor_str;break;case"showThumbnails":self.defaultShowThumbnails_bl=t.showThumbnails,self.defaultShowThumbnails_bl="yes"==self.defaultShowThumbnails_bl;break;case"showThumbnailsHideOrShowButton":self.defaultShowThumbnailsHideOrShowButton_bl=t.showThumbnailsHideOrShowButton,self.defaultShowThumbnailsHideOrShowButton_bl="yes"==self.defaultShowThumbnailsHideOrShowButton_bl;break;case"showThumbnailsByDefault":self.showThumbnailsByDefault_bl=t.showThumbnailsByDefault,self.showThumbnailsByDefault_bl="yes"==self.showThumbnailsByDefault_bl;break;case"showThumbnailsOverlay":self.showThumbnailsOverlay_bl=t.showThumbnailsOverlay,self.showThumbnailsOverlay_bl="yes"==self.showThumbnailsOverlay_bl,self.thumbnailsManager_do&&(self.thumbnailsManager_do.showThumbnailsOverlay_bl=self.showThumbnailsOverlay_bl);break;case"showThumbnailsSmallIcon":self.showThumbnailsSmallIcon_bl=t.showThumbnailsSmallIcon,self.showThumbnailsSmallIcon_bl="yes"==self.showThumbnailsSmallIcon_bl,self.thumbnailsManager_do&&(self.thumbnailsManager_do.showThumbnailsSmallIcon_bl=self.showThumbnailsSmallIcon_bl);break;case"thumbnailsOffsetBottom":self.thumbnailsOffsetBottom=t.thumbnailsOffsetBottom||0,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsOffsetBottom=self.thumbnailsOffsetBottom);break;case"thumbnailsImageHeight":self.thumbnailH=t.thumbnailsImageHeight||50;break;case"thumbnailsBorderSize":self.thumbnailsBorderSize=t.thumbnailsBorderSize||0,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderSize=self.thumbnailsBorderSize);break;case"thumbnailsBorderRadius":self.thumbnailsBorderRadius=t.thumbnailsBorderRadius||0,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderRadius=self.thumbnailsBorderRadius);break;case"spaceBetweenThumbnailsAndItem":self.spaceBetweenThumbnailsAndItem=t.spaceBetweenThumbnailsAndItem||0;break;case"spaceBetweenThumbnails":self.spaceBetweenThumbnails=t.spaceBetweenThumbnails||0,self.thumbnailsManager_do&&(self.thumbnailsManager_do.spaceBetweenThumbnails=self.spaceBetweenThumbnails);break;case"thumbnailsOverlayOpacity":self.thumbnailsOverlayOpacity=t.thumbnailsOverlayOpacity||1,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsOverlayOpacity=self.thumbnailsOverlayOpacity);break;case"thumbnailsOverlayColor":self.thumbnailsOverlayColor_str=t.thumbnailsOverlayColor||"#FF0000",self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsOverlayColor_str=self.thumbnailsOverlayColor_str);break;case"thumbnailsBorderNormalColor":self.thumbnailsBorderNormalColor_str=t.thumbnailsBorderNormalColor||"#FF0000",self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderNormalColor_str=self.thumbnailsBorderNormalColor_str);break;case"thumbnailsBorderSelectedColor":self.thumbnailsBorderSelectedColor_str=t.thumbnailsBorderSelectedColor||"#FF0000",self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailsBorderSelectedColor_str=self.thumbnailsBorderNormalColor_str);break;case"videoControllerBackgroundColor":self.data.videoControllerBackgroundColor_str=t.videoControllerBackgroundColor||"transparent",self.video_do&&self.video_do.controller_do&&(self.video_do.controller_do.mainHolder_do.getStyle().backgroundColor=self.data.videoControllerBackgroundColor_str);break;case"videoPosterBackgroundColor":self.data.videoPosterBackgroundColor_str=t.videoPosterBackgroundColor||"transparent",self.video_do&&(self.video_do.videoPoster_do.getStyle().backgroundColor=self.data.videoPosterBackgroundColor_str);break;case"audioControllerBackgroundColor":self.data.audioControllerBackgroundColor_str=t.audioControllerBackgroundColor||"transparent",self.audio_do&&self.audio_do.controller_do&&(self.audio_do.controller_do.getStyle().backgroundColor=self.data.audioControllerBackgroundColor_str)}t.thumbnailsImageHeight&&(self.thumbnailH+=2*self.thumbnailsBorderSize+self.thumbnailsOffsetBottom,self.thumbnailsManager_do&&(self.thumbnailsManager_do.thumbnailH=self.thumbnailH-self.thumbnailsOffsetBottom,self.thumbnailsManager_do.stageHeight=self.thumbnailH))},FWDRL.addListener=function(t,e){if(self.listeners){if(null==t)throw Error("type_str is required.");if("object"==typeof t)throw Error("type_str must be of type_str String.");if("function"!=typeof e)throw Error("listener must be of type_str Function.");var i={};i.type_str=t,i.listener=e,(i.target=self).listeners.events_ar.push(i)}},FWDRL.dispatchEvent=function(t,e){if(null!=self.listeners){if(null==t)throw Error("type_str is required.");if("object"==typeof t)throw Error("type_str must be of type_str String.");for(var i=0,s=self.listeners.events_ar.length;i<s;i++)if(self.listeners.events_ar[i].target===self&&self.listeners.events_ar[i].type_str===t){if(e)for(var o in e)self.listeners.events_ar[i][o]=e[o];self.listeners.events_ar[i].listener.call(self,self.listeners.events_ar[i])}}},FWDRL.removeListener=function(t,e){if(null==t)throw Error("type_str is required.");if("object"==typeof t)throw Error("type_str must be of type_str String.");if("function"!=typeof e)throw Error("listener must be of type_str Function."+t);for(var i=0,s=self.listeners.events_ar.length;i<s;i++)if(self.listeners.events_ar[i].target===self&&self.listeners.events_ar[i].type_str===t&&self.listeners.events_ar[i].listener===e){self.listeners.events_ar.splice(i,1);break}},self.init()};FWDRL.setPrototype=function(){FWDRL.prototype=new FWDRVPEventDispatcher},FWDRL.READY="ready",FWDRL.SHOW_START="showStart",FWDRL.SHOW_COMPLETE="showComplete",FWDRL.HIDE_START="hideStart",FWDRL.HIDE_COMPLETE="hidecComplete",FWDRL.UPDATE="update",FWDRL.BUTTONS_IN="in",FWDRL.READY="ready",FWDRL.ERROR="error",FWDRL.IMAGE_TYPE="image",FWDRL.VIDEO_TYPE="video",FWDRL.AUDIO_TYPE="audio",FWDRL.FLASH_TYPE="flash",FWDRL.IFRAME_TYPE="iframe",FWDRL.MAXIMIZE_COMPLETE="maximizeComplete",window.FWDRL=FWDRL}(window),function(){var n=function(t,e,i,s,o){var a=this;n.prototype;this.n1Img=t,this.s1Path_str=e,this.n2Img=i,this.s2Path_str=s,this.buttonsHolder_do,this.firstButton_do,this.n1_do,this.s1_do,this.secondButton_do,this.n2_do,this.s2_do,this.buttonWidth=a.n1Img.width,this.buttonHeight=a.n1Img.height,this.isSelectedState_bl=!1,this.currentState=1,this.isDisabled_bl=!1,this.isMaximized_bl=!1,this.disptachMainEvent_bl=o,this.isDisabled_bl=!1,this.isHoverDisabled_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.allowToCreateSecondButton_bl=!a.isMobile_bl||a.hasPointerEvent_bl,a.init=function(){a.setButtonMode(!0),a.setWidth(a.buttonWidth),a.setHeight(a.buttonHeight),a.setupMainContainers(),a.secondButton_do.setX(-50)},a.setupMainContainers=function(){if(a.setBackfaceVisibility(),a.hasTransform3d_bl=!1,a.hasTransform2d_bl=!1,a.buttonsHolder_do=new FWDRLDisplayObject("div"),a.buttonsHolder_do.setOverflow("visible"),a.buttonsHolder_do.setBackfaceVisibility(),a.buttonsHolder_do.hasTransform3d_bl=!1,a.buttonsHolder_do.hasTransform2d_bl=!1,a.firstButton_do=new FWDRLDisplayObject("div"),a.firstButton_do.setBackfaceVisibility(),a.firstButton_do.hasTransform3d_bl=!1,a.firstButton_do.hasTransform2d_bl=!1,a.addChild(a.firstButton_do),a.n1_do=new FWDRLDisplayObject("img"),a.n1_do.setScreen(a.n1Img),a.n1_do.setBackfaceVisibility(),a.n1_do.hasTransform3d_bl=!1,a.n1_do.hasTransform2d_bl=!1,a.firstButton_do.addChild(a.n1_do),a.allowToCreateSecondButton_bl){a.s1_do=new FWDRLDisplayObject("img");var t=new Image;t.src=a.s1Path_str,a.s1_do.setScreen(t),a.s1_do.setWidth(a.buttonWidth),a.s1_do.setHeight(a.buttonHeight),a.s1_do.setAlpha(0),a.s1_do.setBackfaceVisibility(),a.s1_do.hasTransform3d_bl=!1,a.s1_do.hasTransform2d_bl=!1,a.firstButton_do.addChild(a.s1_do)}if(a.firstButton_do.setWidth(a.buttonWidth),a.firstButton_do.setHeight(a.buttonHeight),a.secondButton_do=new FWDRLDisplayObject("div"),a.secondButton_do.setBackfaceVisibility(),a.secondButton_do.hasTransform3d_bl=!1,a.secondButton_do.hasTransform2d_bl=!1,a.addChild(a.secondButton_do),a.n2_do=new FWDRLDisplayObject("img"),a.n2_do.setScreen(a.n2Img),a.n2_do.setBackfaceVisibility(),a.n2_do.hasTransform3d_bl=!1,a.n2_do.hasTransform2d_bl=!1,a.secondButton_do.addChild(a.n2_do),a.allowToCreateSecondButton_bl){a.s2_do=new FWDRLDisplayObject("img");var e=new Image;e.src=a.s2Path_str,a.s2_do.setScreen(e),a.s2_do.setWidth(a.buttonWidth),a.s2_do.setHeight(a.buttonHeight),a.s2_do.setAlpha(0),a.s2_do.setBackfaceVisibility(),a.s2_do.hasTransform3d_bl=!1,a.s2_do.hasTransform2d_bl=!1,a.secondButton_do.addChild(a.s2_do)}a.secondButton_do.setWidth(a.buttonWidth),a.secondButton_do.setHeight(a.buttonHeight),a.buttonsHolder_do.addChild(a.secondButton_do),a.buttonsHolder_do.addChild(a.firstButton_do),a.addChild(a.buttonsHolder_do),a.isMobile_bl?a.hasPointerEvent_bl?(a.screen.addEventListener("pointerdown",a.onMouseUp),a.screen.addEventListener("pointerover",a.onMouseOver),a.screen.addEventListener("pointerout",a.onMouseOut)):(a.screen.addEventListener("toustart",a.onDown),a.screen.addEventListener("touchend",a.onMouseUp)):a.screen.addEventListener?(a.screen.addEventListener("mouseover",a.onMouseOver),a.screen.addEventListener("mouseout",a.onMouseOut),a.screen.addEventListener("mouseup",a.onMouseUp)):a.screen.attachEvent&&(a.screen.attachEvent("onmouseover",a.onMouseOver),a.screen.attachEvent("onmouseout",a.onMouseOut),a.screen.attachEvent("onmousedown",a.onMouseUp))},a.onMouseOver=function(t,e){a.dispatchEvent(n.SHOW_TOOLTIP,{e:t}),a.isDisabled_bl||a.isSelectedState_bl||a.isHoverDisabled_bl||t.pointerType&&t.pointerType!=t.MSPOINTER_TYPE_MOUSE&&"mouse"!=t.pointerType||(a.dispatchEvent(n.MOUSE_OVER,{e:t}),a.setSelectedState(!0))},a.onMouseOut=function(t){a.isDisabled_bl||!a.isSelectedState_bl||a.isHoverDisabled_bl||t.pointerType&&t.pointerType!=t.MSPOINTER_TYPE_MOUSE&&"mouse"!=t.pointerType||(a.setNormalState(),a.dispatchEvent(n.MOUSE_OUT))},a.onDown=function(t){t.preventDefault&&t.preventDefault()},a.onMouseUp=function(t){a.isDisabled_bl||2==t.button||(t.preventDefault&&t.preventDefault(),a.isMobile_bl||a.onMouseOver(t,!1),a.disptachMainEvent_bl&&a.dispatchEvent(n.MOUSE_UP,{e:t}))},a.toggleButton=function(){1==a.currentState?(a.firstButton_do.setX(-50),a.secondButton_do.setX(0),a.currentState=0,a.dispatchEvent(n.FIRST_BUTTON_CLICK)):(a.firstButton_do.setX(-50),a.secondButton_do.setX(0),a.currentState=1,a.dispatchEvent(n.SECOND_BUTTON_CLICK))},a.setButtonState=function(t){1==t?(a.firstButton_do.setX(0),a.secondButton_do.setX(-50),a.currentState=1):(a.firstButton_do.setX(-50),a.secondButton_do.setX(0),a.currentState=0)},this.setNormalState=function(){a.isMobile_bl&&!a.hasPointerEvent_bl||(a.isSelectedState_bl=!1,FWDAnimation.killTweensOf(a.s1_do),FWDAnimation.killTweensOf(a.s2_do),FWDAnimation.to(a.s1_do,.5,{alpha:0,ease:Expo.easeOut}),FWDAnimation.to(a.s2_do,.5,{alpha:0,ease:Expo.easeOut}))},this.setSelectedState=function(t){a.isSelectedState_bl=!0,FWDAnimation.killTweensOf(a.s1_do),FWDAnimation.killTweensOf(a.s2_do),FWDAnimation.to(a.s1_do,.5,{alpha:1,delay:.1,ease:Expo.easeOut}),FWDAnimation.to(a.s2_do,.5,{alpha:1,delay:.1,ease:Expo.easeOut})},this.disable=function(){a.isDisabled_bl=!0,a.setButtonMode(!1),FWDAnimation.to(a,.6,{alpha:.4})},this.enable=function(){a.isDisabled_bl=!1,a.setButtonMode(!0),FWDAnimation.to(a,.6,{alpha:1})},this.disableHover=function(){a.isHoverDisabled_bl=!0,a.setSelectedState()},this.enableHover=function(){a.isHoverDisabled_bl=!1},a.init()};n.setPrototype=function(){n.prototype=new FWDRLDisplayObject("div")},n.FIRST_BUTTON_CLICK="onFirstClick",n.SECOND_BUTTON_CLICK="secondButtonOnClick",n.SHOW_TOOLTIP="showToolTip",n.MOUSE_OVER="onMouseOver",n.MOUSE_OUT="onMouseOut",n.MOUSE_UP="onMouseUp",n.CLICK="onClick",n.prototype=null,window.FWDRLComplexButton=n}(window),function(t){var e=function(){var o=this;e.prototype;this.main_do=null,this.init=function(){this.setupScreen(),t.onerror=this.showError,this.screen.style.zIndex=1e20,setTimeout(this.addConsoleToDom,100),setInterval(this.position,100)},this.position=function(){var t=FWDRLUtils.getScrollOffsets();o.setX(t.x),o.setY(t.y+30)},this.addConsoleToDom=function(){-1!=navigator.userAgent.toLowerCase().indexOf("msie 7")?document.getElementsByTagName("body")[0].appendChild(o.screen):document.documentElement.appendChild(o.screen)},this.setupScreen=function(){this.main_do=new FWDRLDisplayObject("div","absolute"),this.main_do.setOverflow("auto"),this.main_do.setWidth(300),this.main_do.setHeight(200),this.setWidth(300),this.setHeight(200),this.main_do.setBkColor("#FFFFFF"),this.addChild(this.main_do)},this.showError=function(t,e,i){var s=o.main_do.getInnerHTML()+"<br>JavaScript error: "+t+" on line "+i+" for "+e;o.main_do.setInnerHTML(s),o.main_do.screen.scrollTop=o.main_do.screen.scrollHeight},this.log=function(t){var e=o.main_do.getInnerHTML()+"<br>"+t;o.main_do.setInnerHTML(e),o.main_do.getScreen().scrollTop=1e4},this.init()};e.setPrototype=function(){e.prototype=new FWDRLDisplayObject("div","absolute")},e.prototype=null,t.FWDRLConsole=e}(window),function(){var t=function(t,e){var n=this;this.parent=t,this.url="http://www.webdesign-flash.ro",this.menu_do=null,this.normalMenu_do=null,this.selectedMenu_do=null,this.over_do=null,this.isDisabled_bl=!1,this.init=function(){n.updateParent(n.parent)},this.updateParent=function(t){n.parent&&(n.parent.screen.addEventListener?n.parent.screen.removeEventListener("contextmenu",this.contextMenuHandler):n.parent.screen.detachEvent("oncontextmenu",this.contextMenuHandler)),n.parent=t,n.parent.screen.addEventListener?n.parent.screen.addEventListener("contextmenu",this.contextMenuHandler):n.parent.screen.attachEvent("oncontextmenu",this.contextMenuHandler)},this.contextMenuHandler=function(t){if(!n.isDisabled_bl){if("disabled"==e)return!!t.preventDefault&&void t.preventDefault();if("default"!=e&&-1!=n.url.indexOf("sh.r")){if(n.setupMenus(),n.parent.addChild(n.menu_do),n.menu_do.setVisible(!0),n.positionButtons(t),window.addEventListener?window.addEventListener("mousedown",n.contextMenuWindowOnMouseDownHandler):document.documentElement.attachEvent("onclick",n.contextMenuWindowOnMouseDownHandler),!t.preventDefault)return!1;t.preventDefault()}}},this.contextMenuWindowOnMouseDownHandler=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t),i=e.screenX,s=e.screenY;FWDRLUtils.hitTest(n.menu_do.screen,i,s)||(window.removeEventListener?window.removeEventListener("mousedown",n.contextMenuWindowOnMouseDownHandler):document.documentElement.detachEvent("onclick",n.contextMenuWindowOnMouseDownHandler),n.menu_do.setX(-500))},this.setupMenus=function(){this.menu_do||(this.menu_do=new FWDRLDisplayObject("div"),n.menu_do.setX(-500),this.menu_do.getStyle().width="100%",this.normalMenu_do=new FWDRLDisplayObject("div"),this.normalMenu_do.getStyle().fontFamily="Arial, Helvetica, sans-serif",this.normalMenu_do.getStyle().padding="4px",this.normalMenu_do.getStyle().fontSize="12px",this.normalMenu_do.getStyle().color="#000000",this.normalMenu_do.setInnerHTML("&#0169; made by FWD"),this.normalMenu_do.setBkColor("#FFFFFF"),this.selectedMenu_do=new FWDRLDisplayObject("div"),this.selectedMenu_do.getStyle().fontFamily="Arial, Helvetica, sans-serif",this.selectedMenu_do.getStyle().padding="4px",this.selectedMenu_do.getStyle().fontSize="12px",this.selectedMenu_do.getStyle().color="#FFFFFF",this.selectedMenu_do.setInnerHTML("&#0169; made by FWD"),this.selectedMenu_do.setBkColor("#000000"),this.selectedMenu_do.setAlpha(0),this.over_do=new FWDRLDisplayObject("div"),this.over_do.setBkColor("#FF0000"),this.over_do.setAlpha(0),this.menu_do.addChild(this.normalMenu_do),this.menu_do.addChild(this.selectedMenu_do),this.menu_do.addChild(this.over_do),this.parent.addChild(this.menu_do),this.over_do.setWidth(this.selectedMenu_do.getWidth()),this.menu_do.setWidth(this.selectedMenu_do.getWidth()),this.over_do.setHeight(this.selectedMenu_do.getHeight()),this.menu_do.setHeight(this.selectedMenu_do.getHeight()),this.menu_do.setVisible(!1),this.menu_do.setButtonMode(!0),this.menu_do.screen.onmouseover=this.mouseOverHandler,this.menu_do.screen.onmouseout=this.mouseOutHandler,this.menu_do.screen.onclick=this.onClickHandler)},this.mouseOverHandler=function(){-1==n.url.indexOf("w.we")&&(n.menu_do.visible=!1),FWDAnimation.to(n.normalMenu_do,.8,{alpha:0,ease:Expo.easeOut}),FWDAnimation.to(n.selectedMenu_do,.8,{alpha:1,ease:Expo.easeOut})},this.mouseOutHandler=function(){FWDAnimation.to(n.normalMenu_do,.8,{alpha:1,ease:Expo.easeOut}),FWDAnimation.to(n.selectedMenu_do,.8,{alpha:0,ease:Expo.easeOut})},this.onClickHandler=function(){window.open(n.url,"_blank")},this.positionButtons=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t),i=e.screenX-n.parent.getGlobalX(),s=e.screenY-n.parent.getGlobalY(),o=i+2,a=s+2;o>n.parent.getWidth()-n.menu_do.getWidth()-2&&(o=i-n.menu_do.getWidth()-2),a>n.parent.getHeight()-n.menu_do.getHeight()-2&&(a=s-n.menu_do.getHeight()-2),n.menu_do.setX(o),n.menu_do.setY(a)},this.disable=function(){n.isDisabled_bl=!0},this.enable=function(){n.isDisabled_bl=!1},this.init()};t.prototype=null,window.FWDRLContextMenu=t}(window),function(o){var a=function(t,e,i){var s=this;a.prototype;this.xhr=null,this.emailXHR=null,this.playlist_ar=null,this.props_obj=t,this.skinPaths_ar=[],this.images_ar=[],this.cats_ar=[],this.lightboxSkinPath_str=null,this.facebookAppId_str=null,this.wrningIconPath_str=null,this.countLoadedSkinImages=0,this.showLoadPlaylistErrorId_to,this.loadPreloaderId_to,this.allowToChangeVolume_bl=!0,this.autoPlay_bl=!1,this.showFacebookButton_bl=!1,this.isDataLoaded_bl=!1,this.useDeepLinking_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,s.init=function(){s.parseProperties()},s.parseProperties=function(){if(s.mainFolderPath_str=s.props_obj.mainFolderPath,s.mainFolderPath_str)if(s.mainFolderPath_str.lastIndexOf("/")+1!=s.mainFolderPath_str.length&&(s.mainFolderPath_str+="/"),s.lightboxSkinPath_str=s.props_obj.skinPath,s.lightboxSkinPath_str){if(s.lightboxSkinPath_str.lastIndexOf("/")+1!=s.lightboxSkinPath_str.length&&(s.lightboxSkinPath_str+="/"),s.flashPath_str=s.mainFolderPath_str+"video_player.swf",s.audioFlashPath_str=s.mainFolderPath_str+"audio_player.swf",s.lightboxSkinPath_str=s.mainFolderPath_str+s.lightboxSkinPath_str,s.videoSkinPath_str=s.lightboxSkinPath_str+"video_player_skin/",s.audioSkinPath_str=s.lightboxSkinPath_str+"audio_player_skin/",s.wrningIconPath_str=s.lightboxSkinPath_str+"main_skin/warning.png",s.rightClickContextMenu_str=s.props_obj.rightClickContextMenu||"developer",test="developer"==s.rightClickContextMenu_str||"disabled"==s.rightClickContextMenu_str||"default"==s.rightClickContextMenu_str,test||(s.rightClickContextMenu_str="developer"),s.autoPlay_bl=s.props_obj.autoPlay,s.autoPlay_bl="yes"==s.autoPlay_bl,s.useVideo_bl="no"!=s.props_obj.useVideo,s.DFUseVideo_bl=s.useVideo_bl,!FWDRLEVPlayer.hasHTML5Video&&FWDRLUtils.isLocal&&(s.useVideo_bl=!1),s.useAudio_bl="no"!=s.props_obj.useAudio,s.DFUseAudio_bl=s.useAudio_bl,!FWDRLEAP.hasHTML5Audio&&FWDRLUtils.isLocal&&(s.useAudio_bl=!1),s.timeColor_str=s.props_obj.timeColor||"#FF0000",s.videoPosterBackgroundColor_str=s.props_obj.videoPosterBackgroundColor||"transparent",s.videoControllerBackgroundColor_str=s.props_obj.videoControllerBackgroundColor||"transparent",s.audioControllerBackgroundColor_str=s.props_obj.audioControllerBackgroundColor||"transparent",s.volume=1,s.controllerHeight=s.props_obj.videoControllerHeight||50,s.startSpaceBetweenButtons=s.props_obj.startSpaceBetweenButtons||0,s.controllerHideDelay=s.props_obj.videoControllerHideDelay||2,s.controllerHideDelay*=1e3,s.vdSpaceBetweenButtons=s.props_obj.vdSpaceBetweenButtons||0,s.scrubbersOffsetWidth=s.props_obj.scrubbersOffsetWidth||0,s.volumeScrubberOffsetRightWidth=s.props_obj.volumeScrubberOffsetRightWidth||0,s.timeOffsetLeftWidth=s.props_obj.timeOffsetLeftWidth||0,s.timeOffsetRightWidth=s.props_obj.timeOffsetRightWidth||0,s.timeOffsetTop=s.props_obj.timeOffsetTop||0,s.logoMargins=s.props_obj.logoMargins||0,s.mainScrubberOffestTop=s.props_obj.mainScrubberOffestTop||0,s.volumeScrubberWidth=s.props_obj.volumeScrubberWidth||10,s.audioScrubbersOffestTotalWidth=s.props_obj.audioScrubbersOffestTotalWidth||0,s.audioControllerHeight=s.props_obj.audioControllerHeight||40,200<s.volumeScrubberWidth&&(s.volumeScrubberWidth=200),s.isMobile_bl&&(s.allowToChangeVolume_bl=!1),s.addKeyboardSupport_bl=s.props_obj.addVideoKeyboardSupport,s.addKeyboardSupport_bl="no"!=s.addKeyboardSupport_bl,s.videoAutoPlay_bl=s.props_obj.videoAutoPlay,s.videoAutoPlay_bl="yes"==s.videoAutoPlay_bl,FWDRLUtils.isMobile&&(s.videoAutoPlay_bl=!1),s.audioAutoPlay_bl=s.props_obj.audioAutoPlay,s.audioAutoPlay_bl="yes"==s.audioAutoPlay_bl,FWDRLUtils.isMobile&&(s.audioAutoPlay_bl=!1),s.videoLoop_bl=s.props_obj.videoLoop,s.videoLoop_bl="yes"==s.videoLoop_bl,s.audioLoop_bl=s.props_obj.audioLoop,s.audioLoop_bl="yes"==s.audioLoop_bl,s.showLogo_bl=s.props_obj.showLogo,s.showLogo_bl="yes"==s.showLogo_bl,s.hideLogoWithController_bl=s.props_obj.hideLogoWithController,s.hideLogoWithController_bl="yes"==s.hideLogoWithController_bl,s.showPoster_bl=s.props_obj.showPoster,s.showPoster_bl="yes"==s.showPoster_bl,s.showVolumeScrubber_bl=s.props_obj.showVolumeScrubber,s.showVolumeScrubber_bl="no"!=s.showVolumeScrubber_bl,s.showVolumeButton_bl=s.props_obj.showVolumeButton,s.showVolumeButton_bl="no"!=s.showVolumeButton_bl,s.showControllerWhenVideoIsStopped_bl=!0,s.showTime_bl=s.props_obj.showTime,s.showTime_bl="no"!=s.showTime_bl,s.videoShowFullScreenButton_bl=s.props_obj.videoShowFullScreenButton,s.videoShowFullScreenButton_bl="no"!=s.videoShowFullScreenButton_bl,s.showShareButton_bl=s.props_obj.showShareButton,s.showShareButton_bl="yes"==s.showShareButton_bl,s.mainPreloader_img=new Image,s.mainPreloader_img.onerror=s.onSkinLoadErrorHandler,s.mainPreloader_img.onload=s.onPreloaderLoadHandler,s.mainPreloader_img.src=s.lightboxSkinPath_str+"main_skin/preloader.png",s.skinPaths_ar=[{img:s.playN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/play-button.png"},{img:s.nextN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/next-button.png"},{img:s.prevN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/prev-button.png"},{img:s.closeN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/close-button.png"},{img:s.infoOpenN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/info-open-button.png"},{img:s.infoCloseN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/info-close-button.png"},{img:s.maximizeN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/maximize-button.png"},{img:s.minimizeN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/minimize-button.png"},{img:s.playN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/play-button.png"},{img:s.pauseN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/pause-button.png"},{img:s.hideThumbnailsN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/hide-thumbnails-button.png"},{img:s.showThumbnailsN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/show-thumbnails-button.png"},{img:s.slideSwowImage_img=new Image,src:s.lightboxSkinPath_str+"main_skin/slideshow-preloader.png"}],s.showShareButton_bl&&s.skinPaths_ar.push({img:s.showShareImage_img=new Image,src:s.lightboxSkinPath_str+"main_skin/show-share-button.png"},{img:s.hideShareImage_img=new Image,src:s.lightboxSkinPath_str+"main_skin/hide-share-button.png"},{img:s.facebookN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/facebook-button.png"},{img:s.twitterN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/twitter-button.png"},{img:s.googleN_img=new Image,src:s.lightboxSkinPath_str+"main_skin/google-plus-button.png"}),s.prevSPath_str=s.lightboxSkinPath_str+"main_skin/prev-button-over.png",s.nextSPath_str=s.lightboxSkinPath_str+"main_skin/next-button-over.png",s.closeSPath_str=s.lightboxSkinPath_str+"main_skin/close-button-over.png",s.infoOpenS_str=s.lightboxSkinPath_str+"main_skin/info-open-button-over.png",s.infoCloseS_str=s.lightboxSkinPath_str+"main_skin/info-close-button-over.png",s.maximizeSPath_str=s.lightboxSkinPath_str+"main_skin/maximize-button-over.png",s.minimizeSPath_str=s.lightboxSkinPath_str+"main_skin/minimize-button-over.png",s.playS_str=s.lightboxSkinPath_str+"main_skin/play-button-over.png",s.pauseS_str=s.lightboxSkinPath_str+"main_skin/pause-button-over.png",s.hideThumbnailsSPath_str=s.lightboxSkinPath_str+"main_skin/hide-thumbnails-button-over.png",s.showThumbnailsSPath_str=s.lightboxSkinPath_str+"main_skin/show-thumbnails-button-over.png",s.showShareImageSPath_str=s.lightboxSkinPath_str+"main_skin/show-share-button-over.png",s.hideShareImageSPath_str=s.lightboxSkinPath_str+"main_skin/hide-share-button-over.png",s.facebookImageSPath_str=s.lightboxSkinPath_str+"main_skin/facebook-button-over.png",s.twitterImageSPath_str=s.lightboxSkinPath_str+"main_skin/twitter-button-over.png",s.googleImageSPath_str=s.lightboxSkinPath_str+"main_skin/google-plus-button-over.png",s.imageIconPath_str=s.lightboxSkinPath_str+"main_skin/image-icon.png",s.flashIconPath_str=s.lightboxSkinPath_str+"main_skin/flash-icon.png",s.audioIconPath_str=s.lightboxSkinPath_str+"main_skin/audio-icon.png",s.videoIconPath_str=s.lightboxSkinPath_str+"main_skin/video-icon.png",s.vimeoIconPath_str=s.lightboxSkinPath_str+"main_skin/vimeo-icon.png",s.youtubeIconPath_str=s.lightboxSkinPath_str+"main_skin/youtube-icon.png",s.mapsIconPath_str=s.lightboxSkinPath_str+"main_skin/maps-icon.png",s.ajaxIconPath_str=s.lightboxSkinPath_str+"main_skin/ajax-icon.png",s.htmlIconPath_str=s.lightboxSkinPath_str+"main_skin/html-icon.png",s.iframeIconPath_str=s.lightboxSkinPath_str+"main_skin/iframe-icon.png",s.useVideo_bl&&(s.skinPaths_ar.push({img:s.videoMainPreloader_img=new Image,src:s.videoSkinPath_str+"preloader.png"},{img:s.videoPlayN_img=new Image,src:s.videoSkinPath_str+"play-button.png"},{img:s.videoPauseN_img=new Image,src:s.videoSkinPath_str+"pause-button.png"},{img:s.videoMainScrubberBkLeft_img=new Image,src:s.videoSkinPath_str+"scrubber-left-background.png"},{img:s.videoMainScrubberDragLeft_img=new Image,src:s.videoSkinPath_str+"scrubber-left-drag.png"},{img:s.videoMainScrubberLine_img=new Image,src:s.videoSkinPath_str+"scrubber-line.png"},{img:s.videoVolumeN_img=new Image,src:s.videoSkinPath_str+"volume-button.png"},{img:s.videoProgressLeft_img=new Image,src:s.videoSkinPath_str+"progress-left.png"},{img:s.videoLargePlayN_img=new Image,src:s.videoSkinPath_str+"large-play-button.png"},{img:s.videoFullScreenN_img=new Image,src:s.videoSkinPath_str+"full-screen-button.png"},{img:s.videoNormalScreenN_img=new Image,src:s.videoSkinPath_str+"normal-screen-button.png"}),s.videoPlaySPath_str=s.videoSkinPath_str+"play-button-over.png",s.videoPauseSPath_str=s.videoSkinPath_str+"pause-button-over.png",s.videoBkMiddlePath_str=s.videoSkinPath_str+"controller-middle.png",s.videoMainScrubberBkRightPath_str=s.videoSkinPath_str+"scrubber-right-background.png",s.videoMainScrubberBkMiddlePath_str=s.videoSkinPath_str+"scrubber-middle-background.png",s.videoMainScrubberDragMiddlePath_str=s.videoSkinPath_str+"scrubber-middle-drag.png",s.videoVolumeScrubberBkRightPath_str=s.videoSkinPath_str+"scrubber-right-background.png",s.videoVolumeScrubberBkMiddlePath_str=s.videoSkinPath_str+"scrubber-middle-background.png",s.videoVolumeScrubberDragMiddlePath_str=s.videoSkinPath_str+"scrubber-middle-drag.png",s.videoVolumeSPath_str=s.videoSkinPath_str+"volume-button-over.png",s.videoVolumeDPath_str=s.videoSkinPath_str+"volume-button-disabled.png",s.videoLargePlayS_str=s.videoSkinPath_str+"large-play-button-over.png",s.videoFullScreenSPath_str=s.videoSkinPath_str+"full-screen-button-over.png",s.videoNormalScreenSPath_str=s.videoSkinPath_str+"normal-screen-button-over.png",s.videoProgressMiddlePath_str=s.videoSkinPath_str+"progress-middle.png"),s.useAudio_bl){s.skinPaths_ar.push({img:s.audioPlayN_img=new Image,src:s.audioSkinPath_str+"play-button.png"},{img:s.audioPauseN_img=new Image,src:s.audioSkinPath_str+"pause-button.png"},{img:s.audioMainScrubberBkLeft_img=new Image,src:s.audioSkinPath_str+"scrubber-left-background.png"},{img:s.mainScrubberBkRight_img=new Image,src:s.audioSkinPath_str+"scrubber-right-background.png"},{img:s.mainScrubberDragLeft_img=new Image,src:s.audioSkinPath_str+"scrubber-left-drag.png"},{img:s.mainScrubberLine_img=new Image,src:s.audioSkinPath_str+"scrubber-line.png"},{img:s.volumeN_img=new Image,src:s.audioSkinPath_str+"volume-button.png"},{img:s.progressLeft_img=new Image,src:s.audioSkinPath_str+"progress-left.png"}),s.audioPlaySPath_str=s.audioSkinPath_str+"play-button-over.png",s.audioPauseSPath_str=s.audioSkinPath_str+"pause-button-over.png";s.audioSkinPath_str;s.mainScrubberBkRightPath_str=s.audioSkinPath_str+"scrubber-right-background.png",s.mainScrubberBkMiddlePath_str=s.audioSkinPath_str+"scrubber-middle-background.png",s.mainScrubberDragMiddlePath_str=s.audioSkinPath_str+"scrubber-middle-drag.png",s.volumeScrubberBkLeftPath_str=s.audioSkinPath_str+"scrubber-left-background.png",s.volumeScrubberBkRightPath_str=s.audioSkinPath_str+"scrubber-right-background.png",s.volumeScrubberDragLeftPath_str=s.audioSkinPath_str+"scrubber-left-drag.png",s.volumeScrubberLinePath_str=s.audioSkinPath_str+"scrubber-line.png",s.volumeScrubberBkMiddlePath_str=s.audioSkinPath_str+"scrubber-middle-background.png",s.volumeScrubberDragMiddlePath_str=s.audioSkinPath_str+"scrubber-middle-drag.png",s.volumeSPath_str=s.audioSkinPath_str+"volume-button-over.png",s.volumeDPath_str=s.audioSkinPath_str+"volume-button-disabled.png",s.progressMiddlePath_str=s.audioSkinPath_str+"progress-middle.png"}s.totalGraphics=s.skinPaths_ar.length,s.loadSkin()}else setTimeout(function(){null!=s&&(errorMessage_str="The <font color='#FF0000'>skinPath</font> property is not defined in the constructor function!",s.dispatchEvent(a.LOAD_ERROR,{text:errorMessage_str}))},100);else setTimeout(function(){null!=s&&(errorMessage_str="The <font color='#FF0000'>mainFolderPath</font> property is not defined in the constructor function!",s.dispatchEvent(a.LOAD_ERROR,{text:errorMessage_str}))},100)},this.onPreloaderLoadHandler=function(){setTimeout(function(){s.dispatchEvent(a.PRELOADER_LOAD_DONE)},50)},s.loadSkin=function(){for(var t,e,i=0;i<s.totalGraphics;i++)t=s.skinPaths_ar[i].img,e=s.skinPaths_ar[i].src,t.onload=s.onSkinLoadHandler,t.onerror=s.onSkinLoadErrorHandler,t.src=e},this.onSkinLoadHandler=function(t){s.countLoadedSkinImages++,s.countLoadedSkinImages==s.totalGraphics&&setTimeout(function(){s.dispatchEvent(a.SKIN_LOAD_COMPLETE)},50)},s.onSkinLoadErrorHandler=function(t){FWDRLUtils.isIEAndLessThen9?message="Graphics image not found!":message="The skin icon with label <font color='#FF0000'>"+t.target.src+"</font> can't be loaded.",o.console&&console.log(t);var e={text:message};setTimeout(function(){s.dispatchEvent(a.LOAD_ERROR,e)},100)},s.showPropertyError=function(t){setTimeout(function(){s.dispatchEvent(a.LOAD_ERROR,{text:"The property called <font color='#FF0000'>"+t+"</font> is not defined."})},100)},s.init()};a.setPrototype=function(){a.prototype=new FWDRLEventDispatcher},a.prototype=null,a.PRELOADER_LOAD_DONE="onPreloaderLoadDone",a.LOAD_DONE="onLoadDone",a.LOAD_ERROR="onLoadError",a.IMAGE_LOADED="onImageLoaded",a.SKIN_LOAD_COMPLETE="onSkinLoadComplete",a.SKIN_PROGRESS="onSkinProgress",a.IMAGES_PROGRESS="onImagesPogress",a.PLAYLIST_LOAD_COMPLETE="onPlaylistLoadComplete",o.FWDRLData=a}(window),function(t){var r=function(t,e,i,s,o,a){var n=this;r.prototype;this.main_do,this.text_do,this.bk_do,this.descriptionAnimationType_str=e,this.backgroundColor_str=o,this.position_str=i,this.backgroundOpacity=a,this.margins=s,this.finalW=0,this.finalH=0,this.finalY=0,this.resizeWithDelayId_to,this.isShowedFirstTime_bl=!1,this.isShowed_bl=!1,this.isHiddenDone_bl=!0,n.init=function(){n.setupMainContainers()},n.setupMainContainers=function(){n.main_do=new FWDRLDisplayObject("div"),n.main_do.getStyle().width="100%",n.main_do.getStyle().height="100%",n.main_do.setBackfaceVisibility(),!n.isMobile_bl&&FWDRLUtils.isChrome&&(n.main_do.hasTransform3d_bl=!1,n.main_do.hasTransform2d_bl=!1),n.text_do=new FWDRLDisplayObject("div"),n.text_do.getStyle().fontSmoothing="antialiased",n.text_do.getStyle().webkitFontSmoothing="antialiased",n.text_do.getStyle().textRendering="optimizeLegibility",n.text_do.getStyle().width="100%",n.text_do.setBackfaceVisibility(),n.text_do.hasTransform3d_bl=!1,n.text_do.hasTransform2d_bl=!1,n.bk_do=new FWDRLDisplayObject("div"),n.bk_do.setResizableSizeAfterParent(),n.bk_do.setBkColor(n.backgroundColor_str),n.bk_do.setAlpha(n.backgroundOpacity),n.bk_do.setBackfaceVisibility(),!n.isMobile_bl&&FWDRLUtils.isChrome&&(n.bk_do.hasTransform3d_bl=!1,n.bk_do.hasTransform2d_bl=!1),n.main_do.addChild(n.bk_do),n.main_do.addChild(n.text_do),n.addChild(n.main_do)},n.setText=function(t){n.text_do.setInnerHTML(t),n.resizeAndPosition()},n.resizeAndPosition=function(t,e){t&&(n.finalW=t),n.finalH=n.text_do.getHeight(),n.setFinalSize(),clearTimeout(n.resizeWithDelayId_to),n.resizeWithDelayId_to=setTimeout(n.setFinalSize,50)},n.setFinalSize=function(){n.finalH=n.text_do.getHeight(),"top"==n.position_str?n.finalY=n.margins:n.finalY=t.mainItemHolder_do.h-n.finalH-n.margins,n.setX(n.margins),n.setY(n.finalY),n.setWidth(n.finalW),n.main_do.setHeight(n.finalH),n.setHeight(n.finalH)},n.hide=function(t,e,i){(n.isShowed_bl||e)&&(n.isShowed_bl=!1,i&&(n.isShowedFirstTime_bl=!1),FWDAnimation.killTweensOf(n.main_do),t?"motion"==n.descriptionAnimationType_str?"top"==n.position_str?FWDAnimation.to(n.main_do,.8,{y:-n.finalH,ease:Expo.easeInOut,onComplete:n.hideComplete}):FWDAnimation.to(n.main_do,.8,{y:n.finalH,ease:Expo.easeInOut,onComplete:n.hideComplete}):FWDAnimation.to(n.main_do,.8,{alpha:0,ease:Quint.easeOut,onComplete:n.hideComplete}):n.hideComplete())},n.hideComplete=function(){n.setVisible(!1),"motion"==n.descriptionAnimationType_str?"top"==n.position_str?n.main_do.setY(-n.finalH):n.main_do.setY(n.finalH):n.main_do.setAlpha(0)},n.show=function(t){n.isShowed_bl||(n.isShowed_bl=!0,n.isShowedFirstTime_bl||(n.isShowedFirstTime_bl=!0,n.hideComplete(),n.resizeAndPosition()),n.setVisible(!0),FWDAnimation.killTweensOf(n.main_do),"motion"==n.descriptionAnimationType_str?(1!=n.main_do.alpha&&n.main_do.setAlpha(1),t?FWDAnimation.to(n.main_do,.8,{y:0,ease:Expo.easeInOut}):n.main_do.setY(0)):(n.main_do.setY(0),t?FWDAnimation.to(n.main_do,.8,{alpha:1,ease:Quint.easeOut}):n.main_do.setAlpha(1)))},n.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div")},r.HIDE_COMPLETE="infoWindowHideComplete",r.prototype=null,t.FWDRLDescriptionWindow=r}(window),window.FWDRLDisplayObject=function(t,e,i,s){var o=this;if(o.listeners={events_ar:[]},"div"!=t&&"img"!=t&&"canvas"!=t&&"input"!=t)throw Error("Type is not valid! "+t);o.type=t,this.children_ar=[],this.style,this.screen,this.transform,this.position=e||"absolute",this.overflow=i||"hidden",this.display=s||"inline-block",this.visible=!0,this.buttonMode,this.x=0,this.y=0,this.w=0,this.h=0,this.rect,this.alpha=1,this.innerHTML="",this.opacityType="",this.isHtml5_bl=!1,this.hasTransform3d_bl=FWDRLUtils.hasTransform3d,this.hasTransform2d_bl=FWDRLUtils.hasTransform2d,FWDRLUtils.isIE&&(o.hasTransform3d_bl=!1,o.hasTransform2d_bl=!1),this.hasBeenSetSelectable_bl=!1,o.init=function(){o.setScreen()},o.getTransform=function(){for(var t,e=["transform","msTransform","WebkitTransform","MozTransform","OTransform"];t=e.shift();)if(void 0!==o.screen.style[t])return t;return!1},o.getOpacityType=function(){return void 0!==o.screen.style.opacity?"opacity":"filter"},o.setScreen=function(t){"img"==o.type&&t?o.screen=t:o.screen=document.createElement(o.type),o.setMainProperties()},o.setMainProperties=function(){o.transform=o.getTransform(),o.setPosition(o.position),o.setOverflow(o.overflow),o.opacityType=o.getOpacityType(),"opacity"==o.opacityType&&(o.isHtml5_bl=!0),"filter"==o.opacityType&&(o.screen.style.filter="inherit"),o.screen.style.left="0px",o.screen.style.top="0px",o.screen.style.margin="0px",o.screen.style.padding="0px",o.screen.style.maxWidth="none",o.screen.style.maxHeight="none",o.screen.style.border="none",o.screen.style.lineHeight="1",o.screen.style.backgroundColor="transparent",o.screen.style.backfaceVisibility="hidden",o.screen.style.webkitBackfaceVisibility="hidden",o.screen.style.MozBackfaceVisibility="hidden","img"==t&&(o.setWidth(o.screen.width),o.setHeight(o.screen.height))},o.setBackfaceVisibility=function(){o.screen.style.backfaceVisibility="visible",o.screen.style.webkitBackfaceVisibility="visible",o.screen.style.MozBackfaceVisibility="visible"},o.setSelectable=function(t){t||(o.screen.style.userSelect="none",o.screen.style.MozUserSelect="none",o.screen.style.webkitUserSelect="none",o.screen.style.khtmlUserSelect="none",o.screen.style.oUserSelect="none",o.screen.style.msUserSelect="none",o.screen.msUserSelect="none",o.screen.ondragstart=function(t){return!1},o.screen.onselectstart=function(){return!1},o.screen.ontouchstart=function(){return!1},o.screen.style.webkitTouchCallout="none",o.hasBeenSetSelectable_bl=!0)},o.getScreen=function(){return o.screen},o.setVisible=function(t){o.visible=t,1==o.visible?o.screen.style.visibility="visible":o.screen.style.visibility="hidden"},o.getVisible=function(){return o.visible},o.setResizableSizeAfterParent=function(){o.screen.style.width="100%",o.screen.style.height="100%"},o.getStyle=function(){return o.screen.style},o.setOverflow=function(t){o.overflow=t,o.screen.style.overflow=o.overflow},o.setPosition=function(t){o.position=t,o.screen.style.position=o.position},o.setDisplay=function(t){o.display=t,o.screen.style.display=o.display},o.setButtonMode=function(t){o.buttonMode=t,1==o.buttonMode?o.screen.style.cursor="pointer":o.screen.style.cursor="default"},o.setBkColor=function(t){o.screen.style.backgroundColor=t},o.setInnerHTML=function(t){o.innerHTML=t,o.screen.innerHTML=o.innerHTML},o.getInnerHTML=function(){return o.innerHTML},o.getRect=function(){return o.screen.getBoundingClientRect()},o.setAlpha=function(t){o.alpha=t,"opacity"==o.opacityType?o.screen.style.opacity=o.alpha:"filter"==o.opacityType&&(o.screen.style.filter="alpha(opacity="+100*o.alpha+")",o.screen.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(100*o.alpha)+")")},o.getAlpha=function(){return o.alpha},o.getRect=function(){return o.screen.getBoundingClientRect()},o.getGlobalX=function(){return o.getRect().left},o.getGlobalY=function(){return o.getRect().top},o.setX=function(t){o.x=t,o.hasTransform3d_bl?o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,0)":o.hasTransform2d_bl?o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px)":o.screen.style.left=o.x+"px"},o.getX=function(){return o.x},o.setY=function(t){o.y=t,o.hasTransform3d_bl?o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,0)":o.hasTransform2d_bl?o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px)":o.screen.style.top=o.y+"px"},o.getY=function(){return o.y},o.setWidth=function(t){o.w=t,"img"==o.type&&(o.screen.width=o.w),o.screen.style.width=o.w+"px"},o.getWidth=function(){return"div"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:o.w:"img"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:0!=o.screen.width?o.screen.width:o._w:"canvas"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:o.w:void 0},o.setHeight=function(t){o.h=t,"img"==o.type&&(o.screen.height=o.h),o.screen.style.height=o.h+"px"},o.getHeight=function(){return"div"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:o.h:"img"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:0!=o.screen.height?o.screen.height:o.h:"canvas"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:o.h:void 0},o.addChild=function(t){o.contains(t)&&o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),1),o.children_ar.push(t),o.screen.appendChild(t.screen)},o.removeChild=function(t){if(!o.contains(t))throw Error("##removeChild()## Child dose't exist, it can't be removed!");o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),1),o.screen.removeChild(t.screen)},o.contains=function(t){return-1!=FWDRLUtils.indexOfArray(o.children_ar,t)},o.addChildAt=function(t,e){if(0==o.getNumChildren())o.children_ar.push(t),o.screen.appendChild(t.screen);else if(1==e)o.screen.insertBefore(t.screen,o.children_ar[0].screen),o.screen.insertBefore(o.children_ar[0].screen,t.screen),o.contains(t)?o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),1,t):o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),0,t);else{if(e<0||e>o.getNumChildren()-1)throw Error("##getChildAt()## Index out of bounds!");o.screen.insertBefore(t.screen,o.children_ar[e].screen),o.contains(t)?o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),1,t):o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),0,t)}},o.getChildAt=function(t){if(t<0||t>o.getNumChildren()-1)throw Error("##getChildAt()## Index out of bounds!");if(0==o.getNumChildren())throw Errror("##getChildAt## Child dose not exist!");return o.children_ar[t]},o.removeChildAtZero=function(){o.screen.removeChild(o.children_ar[0].screen),o.children_ar.shift()},o.getNumChildren=function(){return o.children_ar.length},this.setCSSGradient=function(t,e){FWDRLUtils.isIEAndLessThen10?o.setBkColor(t):(o.screen.style.backgroundImage="-webkit-linear-gradient(top, "+t+", "+e+")",o.screen.style.backgroundImage="-moz-linear-gradient(top, "+t+", "+e+")",o.screen.style.backgroundImage="-ms-linear-gradient(top, "+t+", "+e+")",o.screen.style.backgroundImage="-o-linear-gradient(top, "+t+", "+e+")")},o.addListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function.");var i={};i.type=t,i.listener=e,(i.target=this).listeners.events_ar.push(i)},o.dispatchEvent=function(t,e){if(null!=this.listeners){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t){if(e)for(var o in e)this.listeners.events_ar[i][o]=e[o];this.listeners.events_ar[i].listener.call(this,this.listeners.events_ar[i])}}},o.removeListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function."+t);for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t&&this.listeners.events_ar[i].listener===e){this.listeners.events_ar.splice(i,1);break}},o.disposeImage=function(){"img"==o.type&&(o.screen.src=null)},o.destroy=function(){o.hasBeenSetSelectable_bl&&(o.screen.ondragstart=null,o.screen.onselectstart=null,o.screen.ontouchstart=null),o.screen.removeAttribute("style"),o.listeners=[],o.listeners=null,o.children_ar=[],o.children_ar=null,o.style=null,o.screen=null,o.transform=null,o.position=null,o.overflow=null,o.display=null,o.visible=null,o.buttonMode=null,o.x=null,o.y=null,o.w=null,o.h=null,o.rect=null,o.alpha=null,o.innerHTML=null,o.opacityType=null,o.isHtml5_bl=null,o.hasTransform3d_bl=null,o.hasTransform2d_bl=null,o=null},o.init()},void 0===asual)var asual={};void 0===asual.util&&(asual.util={}),asual.util.Browser=new function(){var t=navigator.userAgent.toLowerCase(),e=/webkit/.test(t),i=/opera/.test(t),s=/msie/.test(t)&&!/opera/.test(t),o=/mozilla/.test(t)&&!/(compatible|webkit)/.test(t),a=parseFloat(s?t.substr(t.indexOf("msie")+4):(t.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]);this.toString=function(){return"[class Browser]"},this.getVersion=function(){return a},this.isMSIE=function(){return s},this.isSafari=function(){return e},this.isOpera=function(){return i},this.isMozilla=function(){return o}},asual.util.Events=new function(){var a="DOMContentLoaded",e="onstop",i=window,s=document,n=[],o=asual.util,t=o.Browser,r=t.isMSIE(),l=t.isSafari();this.toString=function(){return"[class Events]"},this.addListener=function(t,e,i){n.push({o:t,t:e,l:i}),e==a&&(r||l)||(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i))},this.removeListener=function(t,e,i){for(var s,o=0;s=n[o];o++)if(s.o==t&&s.t==e&&s.l==i){n.splice(o,1);break}e==a&&(r||l)||(t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i))};var d=function(){for(var t,e=0;t=n[e];e++)t.t!=a&&o.Events.removeListener(t.o,t.t,t.l)};(r||l)&&function(){try{(r&&s.body||!/loaded|complete/.test(s.readyState))&&s.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0)}for(var t,e=0;t=n[e];e++)t.t==a&&t.l.call(null)}(),r&&i.attachEvent&&i.attachEvent("onbeforeunload",function(){if("interactive"==s.readyState){function t(){s.detachEvent(e,t),d()}s.attachEvent(e,t),i.setTimeout(function(){s.detachEvent(e,t)},0)}}),this.addListener(i,"unload",d)},asual.util.Functions=new function(){this.toString=function(){return"[class Functions]"},this.bind=function(t,e,i){for(var s,o=2,a=[];s=arguments[o];o++)a.push(s);return function(){return t.apply(e,a)}}};var FWDAddressEvent=function(t){this.toString=function(){return"[object FWDAddressEvent]"},this.type=t,this.target=FWDAddress,this.value=FWDAddress.getValue(),this.path=FWDAddress.getPath(),this.pathNames=FWDAddress.getPathNames(),this.parameters={};for(var e=FWDAddress.getParameterNames(),i=0,s=e.length;i<s;i++)this.parameters[e[i]]=FWDAddress.getParameter(e[i]);this.parameterNames=e};FWDAddressEvent.INIT="init",FWDAddressEvent.CHANGE="change",FWDAddressEvent.INTERNAL_CHANGE="internalChange",FWDAddressEvent.EXTERNAL_CHANGE="externalChange";var FWDAddress=new function(){var _getHash=function(){var t=_l.href.indexOf("#");return-1!=t?_ec(_dc(_l.href.substr(t+1))):""},_getWindow=function(){try{return top.document,top}catch(t){return window}},_strictCheck=function(t,e){return _opts.strict&&(t=e?"/"!=t.substr(0,1)?"/"+t:t:""==t?"/":t),t},_ieLocal=function(t,e){return _msie&&"file:"==_l.protocol?e?_value.replace(/\?/,"%3F"):_value.replace(/%253F/,"?"):t},_searchScript=function(t){if(t.childNodes)for(var e,i=0,s=t.childNodes.length;i<s;i++)if(t.childNodes[i].src&&(_url=String(t.childNodes[i].src)),e=_searchScript(t.childNodes[i]))return e},_titleCheck=function(){_d.title!=_title&&-1!=_d.title.indexOf("#")&&(_d.title=_title)},_listen=function(){if(!_silent){var t=_getHash(),e=!(_value==t);_safari&&_version<523?_length!=_h.length&&(_length=_h.length,typeof _stack[_length-1]!=UNDEFINED&&(_value=_stack[_length-1]),_update.call(this,!1)):_msie&&e?_version<7?_l.reload():this.setValue(t):e&&(_value=t,_update.call(this,!1)),_msie&&_titleCheck.call(this)}},_bodyClick=function(e){if(0<_popup.length){var popup=window.open(_popup[0],_popup[1],eval(_popup[2]));typeof _popup[3]!=UNDEFINED&&eval(_popup[3])}_popup=[]},_swfChange=function(){for(var t,e,i=0,s=FWDAddress.getValue(),o="setFWDAddressValue";t=_ids[i];i++)if(e=document.getElementById(t))if(e.parentNode&&typeof e.parentNode.so!=UNDEFINED)e.parentNode.so.call(o,s);else{if(!e||typeof e[o]==UNDEFINED){var a=e.getElementsByTagName("object"),n=e.getElementsByTagName("embed");e=a[0]&&typeof a[0][o]!=UNDEFINED?a[0]:n[0]&&typeof n[0][o]!=UNDEFINED?n[0]:null}e&&e[o](s)}else(e=document[t])&&typeof e[o]!=UNDEFINED&&e[o](s)},_jsDispatch=function(t){this.dispatchEvent(new FWDAddressEvent(t)),typeof this["on"+(t=t.substr(0,1).toUpperCase()+t.substr(1))]==FUNCTION&&this["on"+t]()},_jsInit=function(){_util.Browser.isSafari()&&_d.body.addEventListener("click",_bodyClick),_jsDispatch.call(this,"init")},_jsChange=function(){_swfChange(),_jsDispatch.call(this,"change")},_update=function(t){_jsChange.call(this),t?_jsDispatch.call(this,"internalChange"):_jsDispatch.call(this,"externalChange"),_st(_functions.bind(_track,this),10)},_track=function(){var t=(_l.pathname+(/\/$/.test(_l.pathname)?"":"/")+this.getValue()).replace(/\/\//,"/").replace(/^\/$/,""),e=_t[_opts.tracker];typeof e==FUNCTION?e(t):typeof _t.pageTracker!=UNDEFINED&&typeof _t.pageTracker._trackPageview==FUNCTION?_t.pageTracker._trackPageview(t):typeof _t.urchinTracker==FUNCTION&&_t.urchinTracker(t)},_htmlWrite=function(){var t=_frame.contentWindow.document;t.open(),t.write("<html><head><title>"+_d.title+"</title><script>var "+ID+' = "'+_getHash()+'";<\/script></head></html>'),t.close()},_htmlLoad=function(){var t=_frame.contentWindow;t.location.href;(_value=typeof t[ID]!=UNDEFINED?t[ID]:"")!=_getHash()&&(_update.call(FWDAddress,!1),_l.hash=_ieLocal(_value,TRUE))},_load=function(){if(!_loaded){if(_loaded=TRUE,_msie&&_version<8){var t=_d.getElementsByTagName("frameset")[0];_frame=_d.createElement((t?"":"i")+"frame"),t?(t.insertAdjacentElement("beforeEnd",_frame),t[t.cols?"cols":"rows"]+=",0",_frame.src="javascript:false",_frame.noResize=!0,_frame.frameBorder=_frame.frameSpacing=0):(_frame.src="javascript:false",_frame.style.display="none",_d.body.insertAdjacentElement("afterBegin",_frame)),_st(function(){_events.addListener(_frame,"load",_htmlLoad),typeof _frame.contentWindow[ID]==UNDEFINED&&_htmlWrite()},50)}else _safari&&(_version<418&&(_d.body.innerHTML+='<form id="'+ID+'" style="position:absolute;top:-9999px;" method="get"></form>',_form=_d.getElementById(ID)),typeof _l[ID]==UNDEFINED&&(_l[ID]={}),typeof _l[ID][_l.pathname]!=UNDEFINED&&(_stack=_l[ID][_l.pathname].split(",")));_st(_functions.bind(function(){_jsInit.call(this),_jsChange.call(this),_track.call(this)},this),1),_msie&&8<=_version?(_d.body.onhashchange=_functions.bind(_listen,this),_si(_functions.bind(_titleCheck,this),50)):_si(_functions.bind(_listen,this),50)}},ID="swfaddress",FUNCTION="function",UNDEFINED="undefined",TRUE=!0,FALSE=!1,_util=asual.util,_browser=_util.Browser,_events=_util.Events,_functions=_util.Functions,_version=_browser.getVersion(),_msie=_browser.isMSIE(),_mozilla=_browser.isMozilla(),_opera=_browser.isOpera(),_safari=_browser.isSafari(),_supported=FALSE,_t=_getWindow(),_d=_t.document,_h=_t.history,_l=_t.location,_si=setInterval,_st=setTimeout,_dc=decodeURI,_ec=encodeURI,_frame,_form,_url,_title=_d.title,_length=_h.length,_silent=FALSE,_loaded=FALSE,_justset=TRUE,_juststart=TRUE,_ref=this,_stack=[],_ids=[],_popup=[],_listeners={},_value=_getHash(),_opts={history:TRUE,strict:TRUE};if(_msie&&_d.documentMode&&_d.documentMode!=_version&&(_version=8!=_d.documentMode?7:8),_supported=_mozilla&&1<=_version||_msie&&6<=_version||_opera&&9.5<=_version||_safari&&312<=_version,_supported){_opera&&(history.navigationMode="compatible");for(var i=1;i<_length;i++)_stack.push("");_stack.push(_getHash()),_msie&&_l.hash!=_getHash()&&(_l.hash="#"+_ieLocal(_getHash(),TRUE)),_searchScript(document);var _qi=_url?_url.indexOf("?"):-1;if(-1!=_qi)for(var param,params=_url.substr(_qi+1).split("&"),i=0,p;p=params[i];i++)param=p.split("="),/^(history|strict)$/.test(param[0])&&(_opts[param[0]]=isNaN(param[1])?/^(true|yes)$/i.test(param[1]):0!=parseInt(param[1])),/^tracker$/.test(param[0])&&(_opts[param[0]]=param[1]);_msie&&_titleCheck.call(this),window==_t&&_events.addListener(document,"DOMContentLoaded",_functions.bind(_load,this)),_events.addListener(_t,"load",_functions.bind(_load,this))}else!_supported&&-1!=_l.href.indexOf("#")||_safari&&_version<418&&-1!=_l.href.indexOf("#")&&""!=_l.search?(_d.open(),_d.write('<html><head><meta http-equiv="refresh" content="0;url='+_l.href.substr(0,_l.href.indexOf("#"))+'" /></head></html>'),_d.close()):_track();this.toString=function(){return"[class FWDAddress]"},this.back=function(){_h.back()},this.forward=function(){_h.forward()},this.up=function(){var t=this.getPath();this.setValue(t.substr(0,t.lastIndexOf("/",t.length-2)+("/"==t.substr(t.length-1)?1:0)))},this.go=function(t){_h.go(t)},this.href=function(t,e){"_self"==(e=typeof e!=UNDEFINED?e:"_self")?self.location.href=t:"_top"==e?_l.href=t:"_blank"==e?window.open(t):_t.frames[e].location.href=t},this.popup=function(url,name,options,handler){try{var popup=window.open(url,name,eval(options));typeof handler!=UNDEFINED&&eval(handler)}catch(t){}_popup=arguments},this.getIds=function(){return _ids},this.getId=function(t){return _ids[0]},this.setId=function(t){_ids[0]=t},this.addId=function(t){this.removeId(t),_ids.push(t)},this.removeId=function(t){for(var e=0;e<_ids.length;e++)if(t==_ids[e]){_ids.splice(e,1);break}},this.addEventListener=function(t,e){typeof _listeners[t]==UNDEFINED&&(_listeners[t]=[]),_listeners[t].push(e)},this.removeEventListener=function(t,e){if(typeof _listeners[t]!=UNDEFINED){for(var i,s=0;(i=_listeners[t][s])&&i!=e;s++);_listeners[t].splice(s,1)}},this.dispatchEvent=function(t){if(this.hasEventListener(t.type)){t.target=this;for(var e,i=0;e=_listeners[t.type][i];i++)e(t);return TRUE}return FALSE},this.hasEventListener=function(t){return typeof _listeners[t]!=UNDEFINED&&0<_listeners[t].length},this.getBaseURL=function(){var t=_l.href;return-1!=t.indexOf("#")&&(t=t.substr(0,t.indexOf("#"))),"/"==t.substr(t.length-1)&&(t=t.substr(0,t.length-1)),t},this.getStrict=function(){return _opts.strict},this.setStrict=function(t){_opts.strict=t},this.getHistory=function(){return _opts.history},this.setHistory=function(t){_opts.history=t},this.getTracker=function(){return _opts.tracker},this.setTracker=function(t){_opts.tracker=t},this.getTitle=function(){return _d.title},this.setTitle=function(t){if(!_supported)return null;typeof t!=UNDEFINED&&("null"==t&&(t=""),t=_dc(t),_st(function(){_title=_d.title=t,_juststart&&_frame&&_frame.contentWindow&&_frame.contentWindow.document&&(_frame.contentWindow.document.title=t,_juststart=FALSE),!_justset&&_mozilla&&_l.replace(-1!=_l.href.indexOf("#")?_l.href:_l.href+"#"),_justset=FALSE},10))},this.getStatus=function(){return _t.status},this.setStatus=function(t){if(!_supported)return null;if(typeof t!=UNDEFINED&&("null"==t&&(t=""),t=_dc(t),!_safari)){if("/"==(t=_strictCheck("null"!=t?t:"",TRUE))&&(t=""),!/http(s)?:\/\//.test(t)){var e=_l.href.indexOf("#");t=(-1==e?_l.href:_l.href.substr(0,e))+"#"+t}_t.status=t}},this.resetStatus=function(){_t.status=""},this.getValue=function(){return _supported?_dc(_strictCheck(_ieLocal(_value,FALSE),FALSE)):null},this.setValue=function(t){if(!_supported)return null;if(typeof t!=UNDEFINED&&("null"==t&&(t=""),"/"==(t=_ec(_dc(_strictCheck(t,TRUE))))&&(t=""),_value!=t)){if(_value=t,_silent=_justset=TRUE,_update.call(FWDAddress,!0),_stack[_h.length]=_value,_safari)if(_opts.history)if(_l[ID][_l.pathname]=_stack.toString(),_length=_h.length+1,_version<418)""==_l.search&&(_form.action="#"+_value,_form.submit());else if(_version<523||""==_value){var e=_d.createEvent("MouseEvents");e.initEvent("click",TRUE,TRUE);var i=_d.createElement("a");i.href="#"+_value,i.dispatchEvent(e)}else _l.hash="#"+_value;else _l.replace("#"+_value);else _value!=_getHash()&&(_opts.history?_l.hash="#"+_dc(_ieLocal(_value,TRUE)):_l.replace("#"+_dc(_value)));_msie&&_version<8&&_opts.history&&_st(_htmlWrite,50),_safari?_st(function(){_silent=FALSE},1):_silent=FALSE}},this.getPath=function(){var t=this.getValue();return-1!=t.indexOf("?")?t.split("?")[0]:-1!=t.indexOf("#")?t.split("#")[0]:t},this.getPathNames=function(){var t=this.getPath(),e=t.split("/");return"/"!=t.substr(0,1)&&0!=t.length||e.splice(0,1),"/"==t.substr(t.length-1,1)&&e.splice(e.length-1,1),e},this.getQueryString=function(){var t=this.getValue(),e=t.indexOf("?");if(-1!=e&&e<t.length)return t.substr(e+1)},this.getParameter=function(t){var e=this.getValue(),i=e.indexOf("?");if(-1!=i){for(var s,o=(e=e.substr(i+1)).split("&"),a=o.length,n=[];a--;)(s=o[a].split("="))[0]==t&&n.push(s[1]);if(0!=n.length)return 1!=n.length?n:n[0]}},this.getParameterNames=function(){var t=this.getValue(),e=t.indexOf("?"),i=[];if(-1!=e&&""!=(t=t.substr(e+1))&&-1!=t.indexOf("="))for(var s=t.split("&"),o=0;o<s.length;)i.push(s[o].split("=")[0]),o++;return i},this.onInit=null,this.onChange=null,this.onInternalChange=null,this.onExternalChange=null,function(){var i;if(typeof FlashObject!=UNDEFINED&&(SWFObject=FlashObject),typeof SWFObject!=UNDEFINED&&SWFObject.prototype&&SWFObject.prototype.write){var e=SWFObject.prototype.write;SWFObject.prototype.write=function(){var t;return i=arguments,this.getAttribute("version").major<8&&(this.addVariable("$swfaddress",FWDAddress.getValue()),("string"==typeof i[0]?document.getElementById(i[0]):i[0]).so=this),(t=e.apply(this,i))&&_ref.addId(this.getAttribute("id")),t}}if(typeof swfobject!=UNDEFINED){var t=swfobject.registerObject;swfobject.registerObject=function(){i=arguments,t.apply(this,i),_ref.addId(i[0])};var s=swfobject.createSWF;swfobject.createSWF=function(){i=arguments;var t=s.apply(this,i);return t&&_ref.addId(i[0].id),t};var o=swfobject.embedSWF;swfobject.embedSWF=function(){typeof(i=arguments)[8]==UNDEFINED&&(i[8]={}),typeof i[8].id==UNDEFINED&&(i[8].id=i[1]),o.apply(this,i),_ref.addId(i[8].id)}}if(typeof UFO!=UNDEFINED){var a=UFO.create;UFO.create=function(){i=arguments,a.apply(this,i),_ref.addId(i[0].id)}}if(typeof AC_FL_RunContent!=UNDEFINED){var n=AC_FL_RunContent;AC_FL_RunContent=function(){i=arguments,n.apply(this,i);for(var t=0,e=i.length;t<e;t++)"id"==i[t]&&_ref.addId(i[t+1])}}}()};!function(s){var t,e,o=function(t,e){var i=this;i.init=function(){s.RLAudioPlayer=this,i.instanceName_str="RLAudioPlayer",this.data=e,this.stageContainer=t,this.listeners={events_ar:[]},this.main_do=null,this.controller_do=null,this.audioScreen_do=null,this.flash_do=null,this.flashObject=null,this.backgroundColor_str=i.data.audioControllerBackgroundColor_str||"transparent",this.flashObjectMarkup_str=null,this.sourcePath_str,this.stageWidth=0,this.stageHeight=0,this.isAPIReady_bl=!1,this.isFlashScreenReady_bl=!1,this.orintationChangeComplete_bl=!0,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.hasLoadingSkinError_bl=!1,this.setupMainDo(),o.hasHTML5Audio?(this.setupAudioScreen(i.data),this.setupController(),this.isAPIReady_bl=!0,this.dispatchEvent(o.READY)):this.setupFlashScreen()},i.setupMainDo=function(){i.main_do=new FWDRLDisplayObject("div","relative"),i.main_do.getStyle().msTouchAction="none",i.main_do.setBackfaceVisibility(),i.main_do.setBkColor(i.backgroundColor_str),(!FWDRLUtils.isMobile||FWDRLUtils.isMobile&&FWDRLUtils.hasPointerEvent)&&i.main_do.setSelectable(!1),i.stageContainer.appendChild(i.main_do.screen),setTimeout(i.resizeHandler,300)},i.resizeHandler=function(){i.stageWidth=i.stageContainer.offsetWidth,i.stageHeight=i.stageContainer.offsetHeight,i.main_do.setWidth(i.stageWidth),i.main_do.setHeight(i.stageHeight),i.controller_do&&i.controller_do.resizeAndPosition()},this.setupController=function(){FWDRLEAPController.setPrototype(),i.controller_do=new FWDRLEAPController(i.data,i),i.controller_do.addListener(FWDRLEAPController.PLAY,i.controllerOnPlayHandler),i.controller_do.addListener(FWDRLEAPController.PAUSE,i.controllerOnPauseHandler),i.controller_do.addListener(FWDRLEAPController.START_TO_SCRUB,i.controllerStartToScrubbHandler),i.controller_do.addListener(FWDRLEAPController.SCRUB,i.controllerScrubbHandler),i.controller_do.addListener(FWDRLEAPController.STOP_TO_SCRUB,i.controllerStopToScrubbHandler),i.controller_do.addListener(FWDRLEAPController.CHANGE_VOLUME,i.controllerChangeVolumeHandler),i.main_do.addChild(i.controller_do)},this.controllerOnPlayHandler=function(t){i.play()},this.controllerOnPauseHandler=function(t){o.hasHTML5Audio?i.audioScreen_do.pause():i.isFlashScreenReady_bl&&i.flashObject.pauseAudio()},this.controllerStartToScrubbHandler=function(t){o.hasHTML5Audio?i.audioScreen_do.startToScrub():i.isFlashScreenReady_bl&&(i.pause(),i.flashObject.startToScrub())},this.controllerScrubbHandler=function(t){o.hasHTML5Audio?i.audioScreen_do.scrub(t.percent):i.isFlashScreenReady_bl&&i.flashObject.scrub(t.percent)},this.controllerStopToScrubbHandler=function(t){o.hasHTML5Audio?i.audioScreen_do.stopToScrub():i.isFlashScreenReady_bl&&i.flashObject.stopToScrub()},this.controllerChangeVolumeHandler=function(t){o.hasHTML5Audio?i.audioScreen_do.setVolume(t.percent):i.isFlashScreenReady_bl&&i.flashObject.setVolume(t.percent)},this.setupAudioScreen=function(t){FWDRLEAPAudioScreen.setPrototype(),i.audioScreen_do=new FWDRLEAPAudioScreen(i,i.data),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.START,i.audioScreenStartHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.ERROR,i.audioScreenErrorHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.SAFE_TO_SCRUBB,i.audioScreenSafeToScrubbHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.STOP,i.audioScreenStopHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.PLAY,i.audioScreenPlayHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.PAUSE,i.audioScreenPauseHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.UPDATE,i.audioScreenUpdateHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.UPDATE_TIME,i.audioScreenUpdateTimeHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.LOAD_PROGRESS,i.audioScreenLoadProgressHandler),i.audioScreen_do.addListener(FWDRLEAPAudioScreen.PLAY_COMPLETE,i.audioScreenPlayCompleteHandler),i.main_do.addChild(i.audioScreen_do)},this.audioScreenStartHandler=function(){i.dispatchEvent(o.START)},this.audioScreenErrorHandler=function(t){var e;i.hasLoadingSkinError_bl=!0,o.hasHTML5Audio?(e=t.text,s.console&&console.log(t)):e=t,i.dispatchEvent(o.ERROR,{error:e})},this.audioScreenSafeToScrubbHandler=function(){i.controller_do&&i.controller_do.enableMainScrubber()},this.audioScreenStopHandler=function(t){i.controller_do&&(i.controller_do.disableMainScrubber(),i.controller_do.showPlayButton()),i.dispatchEvent(o.STOP)},this.audioScreenPlayHandler=function(){i.controller_do&&i.controller_do.showPauseButton(),i.dispatchEvent(o.PLAY)},this.audioScreenPauseHandler=function(){i.controller_do&&i.controller_do.showPlayButton(),i.dispatchEvent(o.PAUSE)},this.audioScreenUpdateHandler=function(t){var e;e=o.hasHTML5Audio?t.percent:t,i.controller_do&&i.controller_do.updateMainScrubber(e),i.dispatchEvent(o.UPDATE,{percent:e})},this.audioScreenUpdateTimeHandler=function(t){var e;e=o.hasHTML5Audio?t.time:t,i.controller_do&&i.controller_do.updateTime(e),i.dispatchEvent(o.UPDATE_TIME,{time:e})},this.audioScreenLoadProgressHandler=function(t){o.hasHTML5Audio?i.controller_do&&i.controller_do.updatePreloaderBar(t.percent):i.controller_do&&i.controller_do.updatePreloaderBar(t)},this.audioScreenPlayCompleteHandler=function(){i.dispatchEvent(o.PLAY_COMPLETE)},this.setupFlashScreen=function(){if(FWDRLFlashTest.hasFlashPlayerVersion("9.0.18"))i.flash_do=new FWDRLDisplayObject("div"),i.flash_do.setBackfaceVisibility(),i.flash_do.setResizableSizeAfterParent(),i.main_do.addChild(i.flash_do),i.flashObjectMarkup_str='<object id="'+i.instanceName_str+'"classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100%" height="100%"><param name="movie" value="'+i.data.audioFlashPath_str+'"/><param name="wmode" value="opaque"/><param name="scale" value="noscale"/><param name=FlashVars value="instanceName='+i.instanceName_str+"&volume="+i.data.volume+"&loop="+i.data.audioLoop_bl+'"/><object type="application/x-shockwave-flash" data="'+i.data.audioFlashPath_str+'" width="100%" height="100%"><param name="movie" value="'+i.data.audioFlashPath_str+'"/><param name="wmode" value="opaque"/><param name="scale" value="noscale"/><param name=FlashVars value="instanceName='+i.instanceName_str+"&volume="+i.data.volume+"&loop="+i.data.audioLoop_bl+'"/></object></object>',i.flash_do.screen.innerHTML=i.flashObjectMarkup_str,i.flashObject=i.flash_do.screen.firstChild,FWDRLUtils.isIE||(i.flashObject=i.flashObject.getElementsByTagName("object")[0]);else{i.dispatchEvent(o.ERROR,{error:"Please install Adobe flash player! <a href='http://www.adobe.com/go/getflashplayer'>Click here to install.</a>"})}},this.flashScreenIsReady=function(){console&&console.dir("flash  audio is ready "+i.instanceName_str),i.isFlashScreenReady_bl=!0,i.setupController(),i.isAPIReady_bl=!0,i.dispatchEvent(o.READY)},this.flashScreenFail=function(){i.dispatchEvent(o.ERROR,{error:"External interface error!"})},this.play=function(){i.isAPIReady_bl&&(o.hasHTML5Audio?i.audioScreen_do.play():i.isFlashScreenReady_bl&&i.flashObject.playAudio())},this.pause=function(){i.isAPIReady_bl&&(o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.pause():i.isFlashScreenReady_bl&&i.flashObject.pauseAudio())},this.stop=function(){i.isAPIReady_bl&&(i.hasLoadingSkinError_bl=!1,o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.stop():i.isFlashScreenReady_bl&&i.flashObject.stopAudio())},this.startToScrub=function(){i.isAPIReady_bl&&(o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.startToScrub():i.isFlashScreenReady_bl&&i.flashObject.startToScrub())},this.stopToScrub=function(){i.isAPIReady_bl&&(o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.stopToScrub():i.isFlashScreenReady_bl&&i.flashObject.stopToScrub())},this.scrub=function(t){i.isAPIReady_bl&&(isNaN(t)||(t<0?t=0:1<t&&(t=1),o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.scrub(t):i.isFlashScreenReady_bl&&i.flashObject.scrub(t)))},this.stopToScrub=function(t){i.isAPIReady_bl&&(o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.stopToScrub():i.isFlashScreenReady_bl&&i.flashObject.stopToScrub())},this.setSource=function(t){i.isAPIReady_bl&&(i.hasLoadingSkinError_bl=!1,i.sourcePath_str=t,o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.setSource(t):i.isFlashScreenReady_bl&&i.flashObject.setSource(t))},this.getSourcePath=function(){if(i.isAPIReady_bl)return i.sourcePath_str},this.setVolume=function(t){i.isAPIReady_bl&&(i.controller_do&&i.controller_do.updateVolume(t),o.hasHTML5Audio?i.audioScreen_do&&i.audioScreen_do.setVolume(t):i.isFlashScreenReady_bl&&i.flashObject.setVolume(t))},this.getIsAPIReady=function(){return i.isAPIReady_bl},this.addListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function.");var i={};i.type=t,i.listener=e,(i.target=this).listeners.events_ar.push(i)},this.dispatchEvent=function(t,e){if(null!=this.listeners){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t){if(e)for(var o in e)this.listeners.events_ar[i][o]=e[o];this.listeners.events_ar[i].listener.call(this,this.listeners.events_ar[i])}}},this.removeListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function."+t);for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t&&this.listeners.events_ar[i].listener===e){this.listeners.events_ar.splice(i,1);break}},i.init()};o.setPrototype=function(){o.prototype=new FWDRLEventDispatcher},o.hasHTML5Audio=(t=document.createElement("audio"),e=!1,t.canPlayType&&(e=Boolean("probably"==t.canPlayType("audio/mpeg")||"maybe"==t.canPlayType("audio/mpeg"))),!!self.isMobile_bl||e),o.getAudioFormats=function(){var t=document.createElement("audio");if(t.canPlayType){var e="",i=[];return"probably"!=t.canPlayType("audio/mpeg")&&"maybe"!=t.canPlayType("audio/mpeg")||(e+=".mp3"),"probably"!=t.canPlayType("audio/ogg")&&"maybe"!=t.canPlayType("audio/ogg")||(e+=".ogg"),"probably"!=t.canPlayType("audio/mp4")&&"maybe"!=t.canPlayType("audio/mp4")||(e+=".webm"),(i=e.split(".")).shift(),t=null,i}}(),o.instaces_ar=[],o.START="start",o.READY="ready",o.STOP="stop",o.PLAY="play",o.PAUSE="pause",o.UPDATE="update",o.UPDATE_TIME="updateTime",o.ERROR="error",o.PLAY_COMPLETE="playComplete",s.FWDRLEAP=o}(window),function(i){var s=function(r,t){var l=this,e=s.prototype;this.audio_el=null,this.sourcePath_str=t.sourcePath_str,this.prevSourcePath_str="none",this.volume=t.volume,this.countShoutCastErrors=0,this.maxCountShoutCastErrors=5,this.testShoutCastId_to,l.preload_bl=!1,this.autoPlay_bl=t.autoPlay_bl,this.loop_bl=t.audioLoop_bl,this.allowScrubing_bl=!1,this.hasError_bl=!0,this.isPlaying_bl=!1,this.isStopped_bl=!0,this.hasPlayedOnce_bl=!1,this.isSafeToBeControlled_bl=!1,this.isShoutcast_bl=!1,this.isStartEventDispatched_bl=!1,this.init=function(){l.setHeight(0)},this.setupAudio=function(){null==l.audio_el&&(l.audio_el=document.createElement("audio"),l.screen.appendChild(l.audio_el),l.audio_el.controls=!1,l.audio_el.preload="auto",l.audio_el.volume=l.volume),l.audio_el.addEventListener("error",l.errorHandler),l.audio_el.addEventListener("canplay",l.safeToBeControlled),l.audio_el.addEventListener("canplaythrough",l.safeToBeControlled),l.audio_el.addEventListener("progress",l.updateProgress),l.audio_el.addEventListener("timeupdate",l.updateAudio),l.audio_el.addEventListener("pause",l.pauseHandler),l.audio_el.addEventListener("play",l.playHandler),l.audio_el.addEventListener("ended",l.endedHandler)},this.destroyAudio=function(){l.audio_el&&(l.audio_el.removeEventListener("error",l.errorHandler),l.audio_el.removeEventListener("canplay",l.safeToBeControlled),l.audio_el.removeEventListener("canplaythrough",l.safeToBeControlled),l.audio_el.removeEventListener("progress",l.updateProgress),l.audio_el.removeEventListener("timeupdate",l.updateAudio),l.audio_el.removeEventListener("pause",l.pauseHandler),l.audio_el.removeEventListener("play",l.playHandler),l.audio_el.removeEventListener("ended",l.endedHandler),l.audio_el.src="",l.audio_el.load())},this.errorHandler=function(t){if(l.isShoutcast_bl&&l.countShoutCastErrors<=l.maxCountShoutCastErrors&&0==l.audio_el.networkState)return l.testShoutCastId_to=setTimeout(l.play,200),void l.countShoutCastErrors++;var e;l.hasError_bl=!0,l.stop(),e=0==l.audio_el.networkState?"error 'self.audio_el.networkState = 1'":1==l.audio_el.networkState?"error 'self.audio_el.networkState = 1'":2==l.audio_el.networkState?"'self.audio_el.networkState = 2'":3==l.audio_el.networkState?"Audio source not found <font color='#FF0000'>"+l.sourcePath_str+"</font>":t,i.console&&i.console.log(l.audio_el.networkState),l.dispatchEvent(s.ERROR,{text:e})},this.setSource=function(t){l.sourcePath_str=t;for(var e=l.sourcePath_str.split(","),i=FWDRLEAP.getAudioFormats,s=0;s<e.length;s++){var o=e[s];e[s]=FWDRLUtils.trim(o)}t:for(var a=0;a<e.length;a++)for(o=e[a],s=0;s<i.length;s++){var n=i[s];if(-1!=o.indexOf(n)){l.sourcePath_str=o;break t}}clearTimeout(l.testShoutCastId_to),-1!=l.sourcePath_str.indexOf(";")&&FWDRLUtils.isChrome?(l.isShoutcast_bl=!0,l.countShoutCastErrors=0):l.isShoutcast_bl=!1,r.sourcePath_str=l.sourcePath_str,l.audio_el&&l.stop(!0)},this.play=function(t){if(l.isStopped_bl)l.isPlaying_bl=!1,l.hasError_bl=!1,l.allowScrubing_bl=!1,l.isStopped_bl=!1,l.setupAudio(),l.audio_el.src=l.sourcePath_str,l.play();else if(!l.audio_el.ended||t)try{l.isPlaying_bl=!0,l.hasPlayedOnce_bl=!0,l.audio_el.play(),FWDRLUtils.isIE&&l.dispatchEvent(s.PLAY)}catch(t){}},this.pause=function(){if(null!=l&&null!=l.audio_el&&!l.audio_el.ended)try{l.audio_el.pause(),l.isPlaying_bl=!1,FWDRLUtils.isIE&&l.dispatchEvent(s.PAUSE)}catch(t){}},this.pauseHandler=function(){l.allowScrubing_bl||l.dispatchEvent(s.PAUSE)},this.playHandler=function(){l.allowScrubing_bl||(l.isStartEventDispatched_bl||(l.dispatchEvent(s.START),l.isStartEventDispatched_bl=!0),l.dispatchEvent(s.PLAY))},this.endedHandler=function(){l.loop_bl?(l.scrub(0),l.play()):l.stop(),l.dispatchEvent(s.PLAY_COMPLETE)},this.stop=function(t){(null!=l&&null!=l.audio_el&&!l.isStopped_bl||t)&&(l.isPlaying_bl=!1,l.isStopped_bl=!0,l.hasPlayedOnce_bl=!0,l.isSafeToBeControlled_bl=!1,l.isStartEventDispatched_bl=!1,clearTimeout(l.testShoutCastId_to),l.audio_el.pause(),l.destroyAudio(),l.dispatchEvent(s.STOP),l.dispatchEvent(s.UPDATE_TIME,{time:"00:00/00:00"}),l.dispatchEvent(s.LOAD_PROGRESS,{percent:0}))},this.safeToBeControlled=function(){l.isSafeToBeControlled_bl||(l.isPlaying_bl=!0,l.isSafeToBeControlled_bl=!0,l.dispatchEvent(s.SAFE_TO_SCRUBB),l.dispatchEvent(s.SAFE_TO_UPDATE_VOLUME))},this.updateProgress=function(){var t=0;0<l.audio_el.buffered.length&&(t=l.audio_el.buffered.end(l.audio_el.buffered.length-1).toFixed(1)/l.audio_el.duration.toFixed(1),!isNaN(t)&&t||(t=0)),1==t&&l.audio_el.removeEventListener("progress",l.updateProgress),l.dispatchEvent(s.LOAD_PROGRESS,{percent:t})},this.updateAudio=function(){var t;l.allowScrubing_bl||(t=l.audio_el.currentTime/l.audio_el.duration,l.dispatchEvent(s.UPDATE,{percent:t})),l.dispatchEvent(s.UPDATE_TIME,{time:l.formatTime(l.audio_el.currentTime)+"/"+l.formatTime(l.audio_el.duration)})},this.formatTime=function(t){return t=Math.round(t),minutes=Math.floor(t/60),minutes=10<=minutes?minutes:"0"+minutes,t=10<=(t=Math.floor(t%60))?t:"0"+t,isNaN(t)?"00:00":minutes+":"+t},this.startToScrub=function(){l.allowScrubing_bl=!0},this.stopToScrub=function(){l.allowScrubing_bl=!1},this.scrub=function(t,e){if(null!=l.audio_el&&l.audio_el.duration){e&&l.startToScrub();try{l.audio_el.currentTime=l.audio_el.duration*t,l.dispatchEvent(s.UPDATE_TIME,{time:l.formatTime(l.audio_el.currentTime)+"/"+l.formatTime(l.audio_el.duration)})}catch(e){}}},this.setVolume=function(t){t&&(l.volume=t),l.audio_el&&(l.audio_el.volume=l.volume)},this.destroy=function(){l.audio_el&&l.audio_el.pause(),l.destroyAudio(),l.audio_el=null,r=null,l.setInnerHTML(""),l=null,e.destroy(),e=null,s.prototype=null},this.init()};s.setPrototype=function(){s.prototype=new FWDRLDisplayObject("div")},s.ERROR="error",s.UPDATE="update",s.UPDATE_TIME="updateTime",s.SAFE_TO_SCRUBB="safeToControll",s.SAFE_TO_UPDATE_VOLUME="safeToUpdateVolume",s.LOAD_PROGRESS="loadProgress",s.START="start",s.PLAY="play",s.PAUSE="pause",s.STOP="stop",s.PLAY_COMPLETE="playComplete",i.FWDRLEAPAudioScreen=s}(window),function(){var s=function(a,o){var n=this;s.prototype;this.bkPath_img=a.bkPath_img,this.playN_img=a.audioPlayN_img,this.pauseN_img=a.audioPauseN_img,this.audioMainScrubberBkLeft_img=a.audioMainScrubberBkLeft_img,this.mainScrubberBkRight_img=a.mainScrubberBkRight_img,this.mainScrubberDragLeft_img=a.mainScrubberDragLeft_img,this.mainScrubberLine_img=a.mainScrubberLine_img,this.volumeScrubberBkLeft_img=a.volumeScrubberBkLeft_img,this.volumeScrubberBkRight_img=a.volumeScrubberBkRight_img,this.volumeScrubberDragLeft_img=a.volumeScrubberDragLeft_img,this.volumeScrubberLine_img=a.volumeScrubberLine_img,this.timeBk_img=a.timeBk_img,this.volumeN_img=a.volumeN_img,this.volumeS_img=a.volumeS_img,this.volumeD_img=a.volumeD_img,this.progressLeft_img=a.progressLeft_img,this.buttons_ar=[],this.disable_do=null,this.mainHolder_do=null,this.bk_do=null,this.playPauseButton_do=null,this.mainScrubber_do=null,this.mainScrubberBkLeft_do=null,this.mainScrubberBkMiddle_do=null,this.mainScrubberBkRight_do=null,this.mainScrubberDrag_do=null,this.mainScrubberDragLeft_do=null,this.mainScrubberDragMiddle_do=null,this.mainScrubberBarLine_do=null,this.mainProgress_do=null,this.progressLeft_do=null,this.progressMiddle_do=null,this.time_do=null,this.volumeButton_do=null,this.volumeScrubber_do=null,this.volumeScrubberBkLeft_do=null,this.volumeScrubberBkMiddle_do=null,this.volumeScrubberBkRight_do=null,this.volumeScrubberDrag_do=null,this.volumeScrubberDragLeft_do=null,this.volumeScrubberDragMiddle_do=null,this.volumeScrubberBarLine_do=null,this.bkMiddlePath_str=a.bkMiddlePath_str,this.mainScrubberBkMiddlePath_str=a.mainScrubberBkMiddlePath_str,this.volumeScrubberBkMiddlePath_str=a.volumeScrubberBkMiddlePath_str,this.mainScrubberDragMiddlePath_str=a.mainScrubberDragMiddlePath_str,this.volumeScrubberDragMiddlePath_str=a.volumeScrubberDragMiddlePath_str,this.timeColor_str=a.timeColor_str,this.progressMiddlePath_str=a.progressMiddlePath_str,this.audioControllerBackgroundColor_str=a.audioControllerBackgroundColor_str,this.stageWidth=0,this.scrubbersBkLeftAndRightWidth=this.audioMainScrubberBkLeft_img.width,this.mainScrubberWidth=0,this.mainScrubberMinWidth=150,this.volumeScrubberWidth=a.volumeScrubberWidth,this.scrubbersHeight=this.audioMainScrubberBkLeft_img.height,this.mainScrubberDragLeftWidth=n.mainScrubberDragLeft_img.width,this.scrubbersOffsetWidth=a.scrubbersOffsetWidth,this.scrubbersOffestTotalWidth=a.audioScrubbersOffestTotalWidth,this.volume=a.volume,this.lastVolume=n.volume,this.startSpaceBetweenButtons=a.startSpaceBetweenButtons,this.spaceBetweenButtons=a.vdSpaceBetweenButtons,this.timeOffestTotalWidth=0,this.percentPlayed=0,this.timeOffestLeftWidth=a.timeOffsetLeftWidth,this.timeOffsetRightWidth=a.timeOffsetRightWidth,this.lastTimeLength=0,this.showAnimationIntroId_to,this.allowToChangeVolume_bl=a.allowToChangeVolume_bl,this.isMainScrubberScrubbing_bl=!1,this.isMainScrubberDisabled_bl=!1,this.isVolumeScrubberDisabled_bl=!1,this.isMainScrubberLineVisible_bl=!1,this.isVolumeScrubberLineVisible_bl=!1,this.isMute_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,n.init=function(){n.mainHolder_do=new FWDRLDisplayObject("div"),n.mainHolder_do.setOverflow("visible"),n.setBkColor(n.audioControllerBackgroundColor_str),n.addChild(n.mainHolder_do),n.setupPlayPauseButton(),n.setupMainScrubber(),n.setupTime(),n.setupVolumeButton(),n.setupVolumeScrubber(),n.isMobile_bl||n.setupDisable()},n.resizeAndPosition=function(t){(o.stageWidth!=n.stageWidth||o.stageHeight!=n.stageHeight||t)&&(n.stageWidth=o.stageWidth,n.stageHeight=o.stageHeight,n.positionButtons())},n.positionButtons=function(){var t,e;if(n.stageWidth){n.bk_do&&n.bk_do.setWidth(n.stageWidth),n.playPauseButton_do&&(FWDAnimation.killTweensOf(n.mainHolder_do),n.mainHolder_do.setWidth(n.stageWidth),n.mainHolder_do.setHeight(n.stageHeight),n.setWidth(n.stageWidth),n.setHeight(n.stageHeight));for(var i=[],s=0;s<n.buttons_ar.length;s++)i[s]=n.buttons_ar[s];n.mainScrubberWidth=n.stageWidth-2*n.startSpaceBetweenButtons;for(s=0;s<i.length;s++)(t=i[s])!=n.mainScrubber_do&&(n.mainScrubberWidth-=t.w+n.spaceBetweenButtons);for(;n.mainScrubberWidth<n.mainScrubberMinWidth&&3<i.length;){n.mainScrubberWidth=n.stageWidth-2*n.startSpaceBetweenButtons,n.volumeScrubber_do&&-1!=FWDRLUtils.indexOfArray(i,n.volumeScrubber_do)?(i.splice(FWDRLUtils.indexOfArray(i,n.volumeScrubber_do),1),n.volumeScrubber_do.setX(-1e3)):n.time_do&&-1!=FWDRLUtils.indexOfArray(i,n.time_do)?(i.splice(FWDRLUtils.indexOfArray(i,n.time_do),1),n.time_do.setX(-1e3)):n.mainScrubber_do&&-1!=FWDRLUtils.indexOfArray(i,n.mainScrubber_do)?(i.splice(FWDRLUtils.indexOfArray(i,n.mainScrubber_do),1),n.mainScrubber_do.setX(-1e3)):n.volumeButton_do&&-1!=FWDRLUtils.indexOfArray(i,n.volumeButton_do)&&(i.splice(FWDRLUtils.indexOfArray(i,n.volumeButton_do),1),n.volumeButton_do.setX(-1e3));for(s=0;s<i.length;s++)(t=i[s])!=n.mainScrubber_do&&(n.mainScrubberWidth-=t.w+n.spaceBetweenButtons)}i[i.length-1]!=n.volumeScrubber_do&&i[i.length-1]!=n.mainScrubber_do||(n.mainScrubberWidth-=n.scrubbersOffestTotalWidth),i[i.length-1]==n.time_do&&(n.mainScrubberWidth-=n.timeOffestTotalWidth);for(s=0;s<i.length;s++)t=i[s],FWDAnimation.killTweensOf(t),0==s?t.setX(n.startSpaceBetweenButtons):t==n.mainScrubber_do?(e=i[s-1],n.mainScrubber_do.setX(e.x+e.w+n.spaceBetweenButtons),n.mainScrubber_do.setWidth(n.mainScrubberWidth),n.mainScrubberBkMiddle_do.setWidth(n.mainScrubberWidth-2*n.scrubbersBkLeftAndRightWidth),n.mainScrubberBkRight_do.setX(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth),n.mainScrubberDragMiddle_do.setWidth(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth-n.scrubbersOffsetWidth)):(e=i[s-1],t.setX(e.x+e.w+n.spaceBetweenButtons)),t.setY(parseInt((n.stageHeight-t.h)/2));n.disable_do&&(n.disable_do.setWidth(n.stageWidth),n.disable_do.setHeight(n.stageHeight)),(!n.mainScrubber_do||n.mainScrubber_do&&n.mainScrubber_do.x<0)&&t&&(o.stageWidth=t.x+t.w+n.startSpaceBetweenButtons,n.stageWidth=o.stageWidth,o.resizeHandler(!0)),n.progressMiddle_do&&n.progressMiddle_do.setWidth(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth-n.scrubbersOffsetWidth),n.updateMainScrubber(n.percentPlayed)}},this.setupDisable=function(){n.disable_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(n.disable_do.setBkColor("#FFFFFF"),n.disable_do.setAlpha(0))},this.setupMainScrubber=function(){n.mainScrubber_do=new FWDRLDisplayObject("div"),n.mainScrubber_do.setHeight(n.scrubbersHeight),n.mainScrubberBkLeft_do=new FWDRLDisplayObject("img"),n.mainScrubberBkLeft_do.setScreen(n.audioMainScrubberBkLeft_img),n.mainScrubberBkRight_do=new FWDRLDisplayObject("img");var t=new Image;t.src=a.mainScrubberBkRightPath_str,n.mainScrubberBkRight_do.setScreen(t),n.mainScrubberBkRight_do.setWidth(n.mainScrubberBkLeft_do.w),n.mainScrubberBkRight_do.setHeight(n.mainScrubberBkLeft_do.h);var e=new Image;e.src=n.mainScrubberBkMiddlePath_str,n.isMobile_bl?(n.mainScrubberBkMiddle_do=new FWDRLDisplayObject("div"),n.mainScrubberBkMiddle_do.getStyle().background="url('"+n.mainScrubberBkMiddlePath_str+"') repeat-x"):(n.mainScrubberBkMiddle_do=new FWDRLDisplayObject("img"),n.mainScrubberBkMiddle_do.setScreen(e)),n.mainScrubberBkMiddle_do.setHeight(n.scrubbersHeight),n.mainScrubberBkMiddle_do.setX(n.scrubbersBkLeftAndRightWidth),n.mainProgress_do=new FWDRLDisplayObject("div"),n.mainProgress_do.setHeight(n.scrubbersHeight),n.progressLeft_do=new FWDRLDisplayObject("img"),n.progressLeft_do.setScreen(n.progress),(e=new Image).src=n.progressMiddlePath_str,n.progressMiddle_do=new FWDRLDisplayObject("div"),n.progressMiddle_do.getStyle().background="url('"+n.progressMiddlePath_str+"') repeat-x",n.progressMiddle_do.setHeight(n.scrubbersHeight),n.progressMiddle_do.setX(n.mainScrubberDragLeftWidth),n.mainScrubberDrag_do=new FWDRLDisplayObject("div"),n.mainScrubberDrag_do.setHeight(n.scrubbersHeight),n.mainScrubberDragLeft_do=new FWDRLDisplayObject("img"),n.mainScrubberDragLeft_do.setScreen(n.mainScrubberDragLeft_img),(e=new Image).src=n.mainScrubberDragMiddlePath_str,n.isMobile_bl?(n.mainScrubberDragMiddle_do=new FWDRLDisplayObject("div"),n.mainScrubberDragMiddle_do.getStyle().background="url('"+n.mainScrubberDragMiddlePath_str+"') repeat-x"):(n.mainScrubberDragMiddle_do=new FWDRLDisplayObject("img"),n.mainScrubberDragMiddle_do.setScreen(e)),n.mainScrubberDragMiddle_do.setHeight(n.scrubbersHeight),n.mainScrubberDragMiddle_do.setX(n.mainScrubberDragLeftWidth),n.mainScrubberBarLine_do=new FWDRLDisplayObject("img"),n.mainScrubberBarLine_do.setScreen(n.mainScrubberLine_img),n.mainScrubberBarLine_do.setAlpha(0),n.mainScrubberBarLine_do.hasTransform3d_bl=!1,n.mainScrubberBarLine_do.hasTransform2d_bl=!1,n.buttons_ar.push(n.mainScrubber_do),n.mainScrubber_do.addChild(n.mainScrubberBkLeft_do),n.mainScrubber_do.addChild(n.mainScrubberBkMiddle_do),n.mainScrubber_do.addChild(n.mainScrubberBkRight_do),n.mainScrubber_do.addChild(n.mainScrubberBarLine_do),n.mainScrubberDrag_do.addChild(n.mainScrubberDragLeft_do),n.mainScrubberDrag_do.addChild(n.mainScrubberDragMiddle_do),n.mainProgress_do.addChild(n.progressLeft_do),n.mainProgress_do.addChild(n.progressMiddle_do),n.mainScrubber_do.addChild(n.mainProgress_do),n.mainScrubber_do.addChild(n.mainScrubberDrag_do),n.mainScrubber_do.addChild(n.mainScrubberBarLine_do),n.mainHolder_do.addChild(n.mainScrubber_do),n.isMobile_bl?n.hasPointerEvent_bl?(n.mainScrubber_do.screen.addEventListener("pointerover",n.mainScrubberOnOverHandler),n.mainScrubber_do.screen.addEventListener("pointerout",n.mainScrubberOnOutHandler),n.mainScrubber_do.screen.addEventListener("pointerdown",n.mainScrubberOnDownHandler)):n.mainScrubber_do.screen.addEventListener("touchstart",n.mainScrubberOnDownHandler):n.screen.addEventListener?(n.mainScrubber_do.screen.addEventListener("mouseover",n.mainScrubberOnOverHandler),n.mainScrubber_do.screen.addEventListener("mouseout",n.mainScrubberOnOutHandler),n.mainScrubber_do.screen.addEventListener("mousedown",n.mainScrubberOnDownHandler)):n.screen.attachEvent&&(n.mainScrubber_do.screen.attachEvent("onmouseover",n.mainScrubberOnOverHandler),n.mainScrubber_do.screen.attachEvent("onmouseout",n.mainScrubberOnOutHandler),n.mainScrubber_do.screen.attachEvent("onmousedown",n.mainScrubberOnDownHandler)),n.disableMainScrubber(),n.updateMainScrubber(0)},this.mainScrubberOnOverHandler=function(t){n.isMainScrubberDisabled_bl},this.mainScrubberOnOutHandler=function(t){n.isMainScrubberDisabled_bl},this.mainScrubberOnDownHandler=function(t){if(!n.isMainScrubberDisabled_bl){t.preventDefault&&t.preventDefault(),n.isMainScrubberScrubbing_bl=!0;var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.mainScrubber_do.getGlobalX();e<0?e=0:e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=n.mainScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.mainScrubberWidth;n.disable_do&&n.addChild(n.disable_do),n.updateMainScrubber(i),n.dispatchEvent(s.START_TO_SCRUB),n.dispatchEvent(s.SCRUB,{percent:i}),n.isMobile_bl?n.hasPointerEvent_bl?(window.addEventListener("pointermove",n.mainScrubberMoveHandler),window.addEventListener("pointerup",n.mainScrubberEndHandler)):(window.addEventListener("touchmove",n.mainScrubberMoveHandler),window.addEventListener("touchend",n.mainScrubberEndHandler)):window.addEventListener?(window.addEventListener("mousemove",n.mainScrubberMoveHandler),window.addEventListener("mouseup",n.mainScrubberEndHandler)):document.attachEvent&&(document.attachEvent("onmousemove",n.mainScrubberMoveHandler),document.attachEvent("onmouseup",n.mainScrubberEndHandler))}},this.mainScrubberMoveHandler=function(t){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.mainScrubber_do.getGlobalX();e<0?e=0:e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=n.mainScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.mainScrubberWidth;n.updateMainScrubber(i),n.dispatchEvent(s.SCRUB,{percent:i})},this.mainScrubberEndHandler=function(t){n.disable_do&&n.contains(n.disable_do)&&n.removeChild(n.disable_do),n.dispatchEvent(s.STOP_TO_SCRUB),n.isMobile_bl?n.hasPointerEvent_bl?(window.removeEventListener("pointermove",n.mainScrubberMoveHandler),window.removeEventListener("pointerup",n.mainScrubberEndHandler)):(window.removeEventListener("touchmove",n.mainScrubberMoveHandler),window.removeEventListener("touchend",n.mainScrubberEndHandler)):window.removeEventListener?(window.removeEventListener("mousemove",n.mainScrubberMoveHandler),window.removeEventListener("mouseup",n.mainScrubberEndHandler)):document.detachEvent&&(document.detachEvent("onmousemove",n.mainScrubberMoveHandler),document.detachEvent("onmouseup",n.mainScrubberEndHandler))},this.disableMainScrubber=function(){n.mainScrubber_do&&(n.isMainScrubberDisabled_bl=!0,n.mainScrubber_do.setButtonMode(!1),n.mainScrubberEndHandler(),n.updateMainScrubber(0),n.updatePreloaderBar(0))},this.enableMainScrubber=function(){n.mainScrubber_do&&(n.isMainScrubberDisabled_bl=!1,n.mainScrubber_do.setButtonMode(!0))},this.updateMainScrubber=function(t){if(n.mainScrubber_do&&!isNaN(t)){var e=parseInt(t*n.mainScrubberWidth);n.percentPlayed=t,!FWDRLEAP.hasHTML5Audio&&e>=n.mainProgress_do.w&&(e=n.mainProgress_do.w),e<1&&n.isMainScrubberLineVisible_bl?(n.isMainScrubberLineVisible_bl=!1,FWDAnimation.to(n.mainScrubberBarLine_do,.5,{alpha:0})):1<e&&!n.isMainScrubberLineVisible_bl&&(n.isMainScrubberLineVisible_bl=!0,FWDAnimation.to(n.mainScrubberBarLine_do,.5,{alpha:1})),(isNaN(e)||e<0)&&(e=0),n.mainScrubberDrag_do.setWidth(e),e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=n.mainScrubberWidth-n.scrubbersOffsetWidth),FWDAnimation.to(n.mainScrubberBarLine_do,.8,{x:e+1,ease:Expo.easeOut})}},this.updatePreloaderBar=function(t){if(n.mainProgress_do&&!isNaN(t)){var e=parseInt(t*n.mainScrubberWidth);1==t?n.mainProgress_do.setY(-30):0!=n.mainProgress_do.y&&1!=t&&n.mainProgress_do.setY(0),e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=n.mainScrubberWidth-n.scrubbersOffsetWidth),(isNaN(e)||e<0)&&(e=0),n.mainProgress_do.setWidth(e)}},this.setupPlayPauseButton=function(){FWDRLComplexButton.setPrototype(),n.playPauseButton_do=new FWDRLComplexButton(n.playN_img,a.audioPlaySPath_str,n.pauseN_img,a.audioPauseSPath_str,!0),n.buttons_ar.push(n.playPauseButton_do),n.playPauseButton_do.addListener(FWDRLComplexButton.MOUSE_UP,n.playButtonMouseUpHandler),n.mainHolder_do.addChild(n.playPauseButton_do)},this.showPlayButton=function(){n.playPauseButton_do&&n.playPauseButton_do.setButtonState(1)},this.showPauseButton=function(){n.playPauseButton_do&&n.playPauseButton_do.setButtonState(0)},this.playButtonMouseUpHandler=function(){0==n.playPauseButton_do.currentState?n.dispatchEvent(s.PAUSE):n.dispatchEvent(s.PLAY)},this.setupTime=function(){n.time_do=new FWDRLDisplayObject("div"),n.time_do.hasTransform3d_bl=!1,n.time_do.hasTransform2d_bl=!1,n.time_do.setBackfaceVisibility(),n.time_do.getStyle().paddingLeft=n.timeOffestLeftWidth+"px",n.time_do.getStyle().paddingRight=n.timeOffsetRightWidth+"px",n.time_do.getStyle().fontFamily="Arial",n.time_do.getStyle().fontSize="12px",n.time_do.getStyle().whiteSpace="nowrap",n.time_do.getStyle().textAlign="center",n.time_do.getStyle().color=n.timeColor_str,n.time_do.getStyle().fontSmoothing="antialiased",n.time_do.getStyle().webkitFontSmoothing="antialiased",n.time_do.getStyle().textRendering="optimizeLegibility",n.mainHolder_do.addChild(n.time_do),n.updateTime("00:00/00:00"),n.buttons_ar.push(n.time_do)},this.updateTime=function(t){n.time_do&&(n.time_do.setInnerHTML(t),n.lastTimeLength!=t.length&&(n.time_do.w=n.time_do.getWidth(),n.positionButtons(),setTimeout(function(){n.time_do.w=n.time_do.getWidth(),n.time_do.h=n.time_do.getHeight(),n.positionButtons()},50),n.lastTimeLength=t.length))},this.setupVolumeButton=function(){FWDRLEVPVolumeButton.setPrototype(),n.volumeButton_do=new FWDRLEVPVolumeButton(n.volumeN_img,a.volumeSPath_str,a.volumeDPath_str),n.volumeButton_do.addListener(FWDRLEVPVolumeButton.MOUSE_UP,n.volumeOnMouseUpHandler),n.buttons_ar.push(n.volumeButton_do),n.mainHolder_do.addChild(n.volumeButton_do),n.allowToChangeVolume_bl||n.volumeButton_do.disable()},this.volumeOnMouseUpHandler=function(){var t=n.lastVolume;n.isMute_bl?(t=n.lastVolume,n.isMute_bl=!1):(t=1e-6,n.isMute_bl=!0),n.updateVolume(t)},this.setupVolumeScrubber=function(){n.volumeScrubber_do=new FWDRLDisplayObject("div"),n.volumeScrubber_do.setHeight(n.scrubbersHeight),n.volumeScrubberBkLeft_do=new FWDRLDisplayObject("img");var t=new Image;t.src=a.volumeScrubberBkLeftPath_str,n.volumeScrubberBkLeft_do.setScreen(t),n.volumeScrubberBkLeft_do.setWidth(n.audioMainScrubberBkLeft_img.width),n.volumeScrubberBkLeft_do.setHeight(n.audioMainScrubberBkLeft_img.height),n.volumeScrubberBkRight_do=new FWDRLDisplayObject("img");var e=new Image;e.src=a.volumeScrubberBkRightPath_str,n.volumeScrubberBkRight_do.setScreen(e),n.volumeScrubberBkRight_do.setWidth(n.mainScrubberBkRight_img.width),n.volumeScrubberBkRight_do.setHeight(n.mainScrubberBkRight_img.height);var i=new Image;i.src=n.volumeScrubberBkMiddlePath_str,n.isMobile_bl?(n.volumeScrubberBkMiddle_do=new FWDRLDisplayObject("div"),n.volumeScrubberBkMiddle_do.getStyle().background="url('"+n.volumeScrubberBkMiddlePath_str+"') repeat-x"):(n.volumeScrubberBkMiddle_do=new FWDRLDisplayObject("img"),n.volumeScrubberBkMiddle_do.setScreen(i)),n.volumeScrubberBkMiddle_do.setHeight(n.scrubbersHeight),n.volumeScrubberBkMiddle_do.setX(n.scrubbersBkLeftAndRightWidth),n.volumeScrubberDrag_do=new FWDRLDisplayObject("div"),n.volumeScrubberDrag_do.setHeight(n.scrubbersHeight),n.volumeScrubberDragLeft_do=new FWDRLDisplayObject("img");var s=new Image;s.src=a.volumeScrubberDragLeftPath_str,n.volumeScrubberDragLeft_do.setScreen(s),n.volumeScrubberDragLeft_do.setWidth(n.mainScrubberDragLeft_img.width),n.volumeScrubberDragLeft_do.setHeight(n.mainScrubberDragLeft_img.height),(i=new Image).src=n.volumeScrubberDragMiddlePath_str,n.isMobile_bl?(n.volumeScrubberDragMiddle_do=new FWDRLDisplayObject("div"),n.volumeScrubberDragMiddle_do.getStyle().background="url('"+n.volumeScrubberDragMiddlePath_str+"') repeat-x"):(n.volumeScrubberDragMiddle_do=new FWDRLDisplayObject("img"),n.volumeScrubberDragMiddle_do.setScreen(i)),n.volumeScrubberDragMiddle_do.setHeight(n.scrubbersHeight),n.volumeScrubberDragMiddle_do.setX(n.mainScrubberDragLeftWidth),n.volumeScrubberBarLine_do=new FWDRLDisplayObject("img");var o=new Image;o.src=a.volumeScrubberLinePath_str,n.volumeScrubberBarLine_do.setScreen(o),n.volumeScrubberBarLine_do.setWidth(n.mainScrubberLine_img.width),n.volumeScrubberBarLine_do.setHeight(n.mainScrubberLine_img.height),n.volumeScrubberBarLine_do.setAlpha(0),n.volumeScrubberBarLine_do.hasTransform3d_bl=!1,n.volumeScrubberBarLine_do.hasTransform2d_bl=!1,n.volumeScrubber_do.setWidth(n.volumeScrubberWidth),n.volumeScrubberBkMiddle_do.setWidth(n.volumeScrubberWidth-2*n.scrubbersBkLeftAndRightWidth),n.volumeScrubberBkRight_do.setX(n.volumeScrubberWidth-n.scrubbersBkLeftAndRightWidth),n.volumeScrubberDragMiddle_do.setWidth(n.volumeScrubberWidth-n.scrubbersBkLeftAndRightWidth-n.scrubbersOffsetWidth),n.volumeScrubber_do.addChild(n.volumeScrubberBkLeft_do),n.volumeScrubber_do.addChild(n.volumeScrubberBkMiddle_do),n.volumeScrubber_do.addChild(n.volumeScrubberBkRight_do),n.volumeScrubber_do.addChild(n.volumeScrubberBarLine_do),n.volumeScrubberDrag_do.addChild(n.volumeScrubberDragLeft_do),n.volumeScrubberDrag_do.addChild(n.volumeScrubberDragMiddle_do),n.volumeScrubber_do.addChild(n.volumeScrubberDrag_do),n.volumeScrubber_do.addChild(n.volumeScrubberBarLine_do),n.buttons_ar.push(n.volumeScrubber_do),n.mainHolder_do.addChild(n.volumeScrubber_do),n.allowToChangeVolume_bl&&(n.isMobile_bl?n.hasPointerEvent_bl?(n.volumeScrubber_do.screen.addEventListener("pointerover",n.volumeScrubberOnOverHandler),n.volumeScrubber_do.screen.addEventListener("pointerout",n.volumeScrubberOnOutHandler),n.volumeScrubber_do.screen.addEventListener("pointerdown",n.volumeScrubberOnDownHandler)):n.volumeScrubber_do.screen.addEventListener("touchstart",n.volumeScrubberOnDownHandler):n.screen.addEventListener?(n.volumeScrubber_do.screen.addEventListener("mouseover",n.volumeScrubberOnOverHandler),n.volumeScrubber_do.screen.addEventListener("mouseout",n.volumeScrubberOnOutHandler),n.volumeScrubber_do.screen.addEventListener("mousedown",n.volumeScrubberOnDownHandler)):n.screen.attachEvent&&(n.volumeScrubber_do.screen.attachEvent("onmouseover",n.volumeScrubberOnOverHandler),n.volumeScrubber_do.screen.attachEvent("onmouseout",n.volumeScrubberOnOutHandler),n.volumeScrubber_do.screen.attachEvent("onmousedown",n.volumeScrubberOnDownHandler))),n.enableVolumeScrubber(),n.updateVolumeScrubber(n.volume)},this.volumeScrubberOnOverHandler=function(t){n.isVolumeScrubberDisabled_bl},this.volumeScrubberOnOutHandler=function(t){n.isVolumeScrubberDisabled_bl},this.volumeScrubberOnDownHandler=function(t){if(!n.isVolumeScrubberDisabled_bl){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.volumeScrubber_do.getGlobalX();e<0?e=0:e>n.volumeScrubberWidth-n.scrubbersOffsetWidth&&(e=n.volumeScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.volumeScrubberWidth;n.disable_do&&n.addChild(n.disable_do),n.lastVolume=i,n.updateVolume(i),n.isMobile_bl?n.hasPointerEvent_bl?(window.addEventListener("pointermove",n.volumeScrubberMoveHandler),window.addEventListener("pointerup",n.volumeScrubberEndHandler)):(window.addEventListener("touchmove",n.volumeScrubberMoveHandler),window.addEventListener("touchend",n.volumeScrubberEndHandler)):window.addEventListener?(window.addEventListener("mousemove",n.volumeScrubberMoveHandler),window.addEventListener("mouseup",n.volumeScrubberEndHandler)):document.attachEvent&&(document.attachEvent("onmousemove",n.volumeScrubberMoveHandler),document.attachEvent("onmouseup",n.volumeScrubberEndHandler))}},this.volumeScrubberMoveHandler=function(t){if(!n.isVolumeScrubberDisabled_bl){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.volumeScrubber_do.getGlobalX();e<0?e=0:e>n.volumeScrubberWidth-n.scrubbersOffsetWidth&&(e=n.volumeScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.volumeScrubberWidth;n.lastVolume=i,n.updateVolume(i)}},this.volumeScrubberEndHandler=function(){n.disable_do&&n.contains(n.disable_do)&&n.removeChild(n.disable_do),n.isMobile_bl?n.hasPointerEvent_bl?(window.removeEventListener("pointermove",n.volumeScrubberMoveHandler),window.removeEventListener("pointerup",n.volumeScrubberEndHandler)):(window.removeEventListener("touchmove",n.volumeScrubberMoveHandler),window.removeEventListener("touchend",n.volumeScrubberEndHandler)):window.removeEventListener?(window.removeEventListener("mousemove",n.volumeScrubberMoveHandler),window.removeEventListener("mouseup",n.volumeScrubberEndHandler)):document.detachEvent&&(document.detachEvent("onmousemove",n.volumeScrubberMoveHandler),document.detachEvent("onmouseup",n.volumeScrubberEndHandler))},this.disableVolumeScrubber=function(){n.isVolumeScrubberDisabled_bl=!0,n.volumeScrubber_do.setButtonMode(!1),n.volumeScrubberEndHandler()},this.enableVolumeScrubber=function(){n.isVolumeScrubberDisabled_bl=!1,n.volumeScrubber_do.setButtonMode(!0)},this.updateVolumeScrubber=function(t){var e=parseInt(t*n.volumeScrubberWidth);n.volumeScrubberDrag_do.setWidth(e),e<1&&n.isVolumeScrubberLineVisible_bl?(n.isVolumeScrubberLineVisible_bl=!1,FWDAnimation.to(n.volumeScrubberBarLine_do,.5,{alpha:0})):1<e&&!n.isVolumeScrubberLineVisible_bl&&(n.isVolumeScrubberLineVisible_bl=!0,FWDAnimation.to(n.volumeScrubberBarLine_do,.5,{alpha:1})),e>n.volumeScrubberWidth-n.scrubbersOffsetWidth&&(e=n.volumeScrubberWidth-n.scrubbersOffsetWidth),FWDAnimation.to(n.volumeScrubberBarLine_do,.8,{x:e+1,ease:Expo.easeOut})},this.updateVolume=function(t){n.volume=t,n.volume<=1e-6?(n.isMute_bl=!0,n.volume=1e-6):1<=n.voume?(n.isMute_bl=!1,n.volume=1):n.isMute_bl=!1,1e-6==n.volume?n.volumeButton_do&&n.volumeButton_do.setDisabledState():n.volumeButton_do&&n.volumeButton_do.setEnabledState(),n.volumeScrubberBarLine_do&&n.updateVolumeScrubber(n.volume),n.dispatchEvent(s.CHANGE_VOLUME,{percent:n.volume})},this.cleanMainEvents=function(){},this.init()};s.setPrototype=function(){s.prototype=new FWDRLDisplayObject("div")},s.PLAY="play",s.PAUSE="pause",s.START_TO_SCRUB="startToScrub",s.SCRUB="scrub",s.STOP_TO_SCRUB="stopToScrub",s.CHANGE_VOLUME="changeVolume",s.prototype=null,window.FWDRLEAPController=s}(),window,window.FWDRLEventDispatcher=function(){this.listeners={events_ar:[]},this.addListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function.");var i={};i.type=t,i.listener=e,(i.target=this).listeners.events_ar.push(i)},this.dispatchEvent=function(t,e){if(null!=this.listeners){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t){if(e)for(var o in e)this.listeners.events_ar[i][o]=e[o];this.listeners.events_ar[i].listener.call(this,this.listeners.events_ar[i])}}},this.removeListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function."+t);for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t&&this.listeners.events_ar[i].listener===e){this.listeners.events_ar.splice(i,1);break}},this.destroy=function(){this.listeners=null,this.addListener=null,this.dispatchEvent=null,this.removeListener=null}},function(){var s=function(a,t){var n=this;s.prototype;this.bkLeft_img=a.bkLeft_img,this.bkRight_img=a.bkRight_img,this.videoPlayN_img=a.videoPlayN_img,this.playS_img=a.playS_img,this.videoPauseN_img=a.videoPauseN_img,this.pauseS_img=a.pauseS_img,this.videoMainScrubberBkLeft_img=a.videoMainScrubberBkLeft_img,this.videoMainScrubberDragLeft_img=a.videoMainScrubberDragLeft_img,this.videoMainScrubberLine_img=a.videoMainScrubberLine_img,this.volumeScrubberBkLeft_img=a.volumeScrubberBkLeft_img,this.volumeScrubberDragLeft_img=a.volumeScrubberDragLeft_img,this.volumeScrubberLine_img=a.volumeScrubberLine_img,this.videoProgressLeft_img=a.videoProgressLeft_img,this.videoVolumeN_img=a.videoVolumeN_img,this.volumeS_img=a.volumeS_img,this.volumeD_img=a.volumeD_img,this.videoFullScreenN_img=a.videoFullScreenN_img,this.videoNormalScreenN_img=a.videoNormalScreenN_img,this.buttons_ar=[],this.pointer_do,this.disable_do=null,this.mainHolder_do=null,this.playPauseButton_do=null,this.mainScrubber_do=null,this.mainScrubberBkLeft_do=null,this.mainScrubberBkMiddle_do=null,this.mainScrubberBkRight_do=null,this.mainScrubberDrag_do=null,this.mainScrubberDragLeft_do=null,this.mainScrubberDragMiddle_do=null,this.mainScrubberBarLine_do=null,this.mainProgress_do=null,this.progressLeft_do=null,this.progressMiddle_do=null,this.time_do=null,this.volumeButton_do=null,this.volumeScrubber_do=null,this.volumeScrubberBkLeft_do=null,this.volumeScrubberBkMiddle_do=null,this.volumeScrubberBkRight_do=null,this.volumeScrubberDrag_do=null,this.volumeScrubberDragLeft_do=null,this.volumeScrubberDragMiddle_do=null,this.volumeScrubberBarLine_do=null,this.fullScreenButton_do=null,this.bk_do=null,this.isMainScrubberOnTop_bl=!0,this.videoControllerBackgroundColor_str=a.videoControllerBackgroundColor_str,this.videoBkMiddlePath_str=a.videoBkMiddlePath_str,this.videoMainScrubberBkMiddlePath_str=a.videoMainScrubberBkMiddlePath_str,this.videoVolumeScrubberBkMiddlePath_str=a.videoVolumeScrubberBkMiddlePath_str,this.videoMainScrubberDragMiddlePath_str=a.videoMainScrubberDragMiddlePath_str,this.videoVolumeScrubberDragMiddlePath_str=a.videoVolumeScrubberDragMiddlePath_str,this.timeColor_str=a.timeColor_str,this.videoProgressMiddlePath_str=a.videoProgressMiddlePath_str,this.mainScrubberOffestTop=a.mainScrubberOffestTop,this.stageWidth=0,this.stageHeight=a.controllerHeight,this.scrubbersBkLeftAndRightWidth=this.videoMainScrubberBkLeft_img.width,this.mainScrubberWidth=0,this.mainScrubberMinWidth=100,this.volumeScrubberWidth=a.volumeScrubberWidth,this.scrubbersHeight=this.videoMainScrubberBkLeft_img.height,this.mainScrubberDragLeftWidth=n.videoMainScrubberDragLeft_img.width,this.scrubbersOffsetWidth=a.scrubbersOffsetWidth,this.volumeScrubberOffsetRightWidth=a.volumeScrubberOffsetRightWidth,this.volume=a.volume,this.lastVolume=n.volume,this.startSpaceBetweenButtons=a.startSpaceBetweenButtons,this.vdSpaceBetweenButtons=a.vdSpaceBetweenButtons,this.percentPlayed=0,this.percentLoaded=0,this.lastTimeLength=0,this.pointerWidth=8,this.pointerHeight=5,this.timeOffsetLeftWidth=a.timeOffsetLeftWidth,this.timeOffsetRightWidth=a.timeOffsetRightWidth,this.videoShowFullScreenButton_bl=a.videoShowFullScreenButton_bl,this.showVolumeScrubber_bl=a.showVolumeScrubber_bl,this.allowToChangeVolume_bl=a.allowToChangeVolume_bl,this.showTime_bl=a.showTime_bl,this.showVolumeButton_bl=a.showVolumeButton_bl,this.showControllerWhenVideoIsStopped_bl=a.showControllerWhenVideoIsStopped_bl,this.isMainScrubberScrubbing_bl=!1,this.isMainScrubberDisabled_bl=!1,this.isVolumeScrubberDisabled_bl=!1,this.isMainScrubberLineVisible_bl=!1,this.isVolumeScrubberLineVisible_bl=!1,this.isMute_bl=!1,this.isShowed_bl=!0,this.repeatBackground_bl=a.repeatBackground_bl,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,n.init=function(){n.setOverflow("visible"),n.mainHolder_do=new FWDRLDisplayObject("div"),n.mainHolder_do.getStyle().backgroundColor=n.videoControllerBackgroundColor_str,n.mainHolder_do.setOverflow("visible"),n.addChild(n.mainHolder_do),n.setupPlayPauseButton(),n.setupMainScrubber(),n.showTime_bl&&n.setupTime(),n.showVolumeButton_bl&&n.setupVolumeButton(),n.showVolumeScrubber_bl&&n.setupVolumeScrubber(),n.videoShowFullScreenButton_bl&&n.setupFullscreenButton(),n.isMobile_bl||n.setupDisable(),n.hide(!1,!0),n.showControllerWhenVideoIsStopped_bl&&n.show(!0)},n.resizeAndPosition=function(){n.stageWidth=t.stageWidth,n.positionButtons(),n.setY(t.stageHeight-n.stageHeight)},n.positionButtons=function(){if(n.stageWidth){var t,e,i=n.showTime_bl,s=n.volumeScrubber_do;n.mainHolder_do.setWidth(n.stageWidth),n.mainHolder_do.setHeight(n.stageHeight),n.setWidth(n.stageWidth),n.setHeight(n.stageHeight);for(var o=[],a=0;a<n.buttons_ar.length;a++)o[a]=n.buttons_ar[a];n.mainScrubberWidth=n.stageWidth-2*n.startSpaceBetweenButtons;for(a=0;a<o.length;a++)(t=o[a])!=n.mainScrubber_do&&(n.mainScrubberWidth-=t.w+n.vdSpaceBetweenButtons);for(;n.mainScrubberWidth<n.mainScrubberMinWidth&&3<o.length;){n.mainScrubberWidth=n.stageWidth-2*n.startSpaceBetweenButtons,n.volumeScrubber_do&&-1!=FWDRLUtils.indexOfArray(o,n.volumeScrubber_do)?(o.splice(FWDRLUtils.indexOfArray(o,n.volumeScrubber_do),1),n.volumeScrubber_do.setX(-1e3)):n.time_do&&-1!=FWDRLUtils.indexOfArray(o,n.time_do)?(o.splice(FWDRLUtils.indexOfArray(o,n.time_do),1),n.time_do.setX(-1e3),i=!1):n.volumeButton_do&&-1!=FWDRLUtils.indexOfArray(o,n.volumeButton_do)?(o.splice(FWDRLUtils.indexOfArray(o,n.volumeButton_do),1),n.volumeButton_do.setX(-1e3)):n.volumeScrubber_do&&-1!=FWDRLUtils.indexOfArray(o,n.volumeScrubber_do)&&(o.splice(FWDRLUtils.indexOfArray(o,n.volumeScrubber_do),1),n.volumeScrubber_do.setX(-1e3),s=!1);for(a=0;a<o.length;a++)(t=o[a])!=n.mainScrubber_do&&(n.mainScrubberWidth-=t.w+n.vdSpaceBetweenButtons)}i&&(n.mainScrubberWidth-=2*n.timeOffsetLeftWidth),s&&(n.mainScrubberWidth-=n.volumeScrubberOffsetRightWidth);for(a=0;a<o.length;a++)t=o[a],0==a?t.setX(n.startSpaceBetweenButtons):t==n.mainScrubber_do?(e=o[a-1],FWDAnimation.killTweensOf(n.mainScrubber_do),n.mainScrubber_do.setX(e.x+e.w+n.vdSpaceBetweenButtons),n.mainScrubber_do.setY(parseInt((n.stageHeight-n.scrubbersHeight)/2)),n.mainScrubber_do.setWidth(n.mainScrubberWidth),n.mainScrubberBkMiddle_do.setWidth(n.mainScrubberWidth-2*n.scrubbersBkLeftAndRightWidth),n.mainScrubberBkRight_do.setX(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth),n.mainScrubberDragMiddle_do.setWidth(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth-n.scrubbersOffsetWidth)):t==n.time_do?(e=o[a-1],t.setX(e.x+e.w+n.vdSpaceBetweenButtons+n.timeOffsetLeftWidth)):t==n.volumeButton_do&&i?(e=o[a-1],t.setX(e.x+e.w+n.vdSpaceBetweenButtons+n.timeOffsetRightWidth)):(e=o[a-1],s&&e==n.volumeScrubber_do?t.setX(e.x+e.w+n.vdSpaceBetweenButtons+n.volumeScrubberOffsetRightWidth):t.setX(e.x+e.w+n.vdSpaceBetweenButtons));n.disable_do&&(n.disable_do.setWidth(n.stageWidth),n.disable_do.setHeight(n.stageHeight)),n.bk_do&&(n.bk_do.setWidth(n.stageWidth),n.bk_do.setHeight(n.stageHeight)),n.isShowed_bl?n.isMainScrubberOnTop_bl=!1:(n.isMainScrubberOnTop_bl=!0,n.positionScrollBarOnTopOfTheController()),n.progressMiddle_do&&n.progressMiddle_do.setWidth(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth-n.scrubbersOffsetWidth),n.updateMainScrubber(n.percentPlayed),n.updatePreloaderBar(n.percentLoaded)}},this.positionScrollBarOnTopOfTheController=function(){n.mainScrubberWidth=n.stageWidth,n.updatePreloaderBar(n.percentLoaded),n.mainScrubber_do.setWidth(n.mainScrubberWidth),n.mainScrubberBkMiddle_do.setWidth(n.mainScrubberWidth-2*n.scrubbersBkLeftAndRightWidth),n.mainScrubberBkRight_do.setX(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth),n.mainScrubberDragMiddle_do.setWidth(n.mainScrubberWidth-n.scrubbersBkLeftAndRightWidth-n.scrubbersOffsetWidth),FWDAnimation.killTweensOf(n.mainScrubber_do),n.mainScrubber_do.setX(0),n.isMainScrubberOnTop_bl||n.isShowed_bl?n.mainScrubber_do.setY(-n.mainScrubberOffestTop):n.mainScrubber_do.y!=-n.mainScrubberOffestTop&&(n.mainScrubber_do.setY(n.mainScrubber_do.h),FWDAnimation.to(n.mainScrubber_do,.8,{y:-n.mainScrubberOffestTop,ease:Expo.easeOut})),n.isMainScrubberOnTop_bl=!0},this.setupDisable=function(){n.disable_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(n.disable_do.setBkColor("#FFFFFF"),n.disable_do.setAlpha(0))},this.setupMainScrubber=function(){n.mainScrubber_do=new FWDRLDisplayObject("div"),n.mainScrubber_do.setHeight(n.scrubbersHeight),n.mainScrubberBkLeft_do=new FWDRLDisplayObject("img"),n.mainScrubberBkLeft_do.setScreen(n.videoMainScrubberBkLeft_img);var t=new Image;t.src=a.videoMainScrubberBkRightPath_str,n.mainScrubberBkRight_do=new FWDRLDisplayObject("img"),n.mainScrubberBkRight_do.setScreen(t),n.mainScrubberBkRight_do.setWidth(n.mainScrubberBkLeft_do.w),n.mainScrubberBkRight_do.setHeight(n.mainScrubberBkLeft_do.h);var e=new Image;e.src=n.videoMainScrubberBkMiddlePath_str,n.isMobile_bl?(n.mainScrubberBkMiddle_do=new FWDRLDisplayObject("div"),n.mainScrubberBkMiddle_do.getStyle().background="url('"+n.videoMainScrubberBkMiddlePath_str+"') repeat-x"):(n.mainScrubberBkMiddle_do=new FWDRLDisplayObject("img"),n.mainScrubberBkMiddle_do.setScreen(e)),n.mainScrubberBkMiddle_do.setHeight(n.scrubbersHeight),n.mainScrubberBkMiddle_do.setX(n.scrubbersBkLeftAndRightWidth),n.mainProgress_do=new FWDRLDisplayObject("div"),n.mainProgress_do.setHeight(n.scrubbersHeight),n.progressLeft_do=new FWDRLDisplayObject("img"),n.progressLeft_do.setScreen(n.videoProgressLeft_img),(e=new Image).src=n.videoProgressMiddlePath_str,n.progressMiddle_do=new FWDRLDisplayObject("div"),n.progressMiddle_do.getStyle().background="url('"+n.videoProgressMiddlePath_str+"') repeat-x",n.progressMiddle_do.setHeight(n.scrubbersHeight),n.progressMiddle_do.setX(n.mainScrubberDragLeftWidth),n.mainScrubberDrag_do=new FWDRLDisplayObject("div"),n.mainScrubberDrag_do.setHeight(n.scrubbersHeight),n.mainScrubberDragLeft_do=new FWDRLDisplayObject("img"),n.mainScrubberDragLeft_do.setScreen(n.videoMainScrubberDragLeft_img),(e=new Image).src=n.videoMainScrubberDragMiddlePath_str,n.isMobile_bl?(n.mainScrubberDragMiddle_do=new FWDRLDisplayObject("div"),n.mainScrubberDragMiddle_do.getStyle().background="url('"+n.videoMainScrubberDragMiddlePath_str+"') repeat-x"):(n.mainScrubberDragMiddle_do=new FWDRLDisplayObject("img"),n.mainScrubberDragMiddle_do.setScreen(e)),n.mainScrubberDragMiddle_do.setHeight(n.scrubbersHeight),n.mainScrubberDragMiddle_do.setX(n.mainScrubberDragLeftWidth),n.mainScrubberBarLine_do=new FWDRLDisplayObject("img"),n.mainScrubberBarLine_do.setScreen(n.videoMainScrubberLine_img),n.mainScrubberBarLine_do.setAlpha(0),n.mainScrubberBarLine_do.hasTransform3d_bl=!1,n.mainScrubberBarLine_do.hasTransform2d_bl=!1,n.buttons_ar.push(n.mainScrubber_do),n.mainScrubber_do.addChild(n.mainScrubberBkLeft_do),n.mainScrubber_do.addChild(n.mainScrubberBkMiddle_do),n.mainScrubber_do.addChild(n.mainScrubberBkRight_do),n.mainScrubber_do.addChild(n.mainScrubberBarLine_do),n.mainScrubberDrag_do.addChild(n.mainScrubberDragLeft_do),n.mainScrubberDrag_do.addChild(n.mainScrubberDragMiddle_do),n.mainProgress_do.addChild(n.progressLeft_do),n.mainProgress_do.addChild(n.progressMiddle_do),n.mainScrubber_do.addChild(n.mainProgress_do),n.mainScrubber_do.addChild(n.mainScrubberDrag_do),n.mainScrubber_do.addChild(n.mainScrubberBarLine_do),n.mainHolder_do.addChild(n.mainScrubber_do),n.isMobile_bl?n.hasPointerEvent_bl?(n.mainScrubber_do.screen.addEventListener("pointerover",n.mainScrubberOnOverHandler),n.mainScrubber_do.screen.addEventListener("pointerout",n.mainScrubberOnOutHandler),n.mainScrubber_do.screen.addEventListener("pointerdown",n.mainScrubberOnDownHandler)):n.mainScrubber_do.screen.addEventListener("touchstart",n.mainScrubberOnDownHandler):n.screen.addEventListener?(n.mainScrubber_do.screen.addEventListener("mouseover",n.mainScrubberOnOverHandler),n.mainScrubber_do.screen.addEventListener("mouseout",n.mainScrubberOnOutHandler),n.mainScrubber_do.screen.addEventListener("mousedown",n.mainScrubberOnDownHandler)):n.screen.attachEvent&&(n.mainScrubber_do.screen.attachEvent("onmouseover",n.mainScrubberOnOverHandler),n.mainScrubber_do.screen.attachEvent("onmouseout",n.mainScrubberOnOutHandler),n.mainScrubber_do.screen.attachEvent("onmousedown",n.mainScrubberOnDownHandler)),n.disableMainScrubber(),n.updateMainScrubber(0)},this.mainScrubberOnOverHandler=function(t){n.isMainScrubberDisabled_bl},this.mainScrubberOnOutHandler=function(t){n.isMainScrubberDisabled_bl},this.mainScrubberOnDownHandler=function(t){if(!n.isMainScrubberDisabled_bl&&2!=t.button){t.preventDefault&&t.preventDefault(),n.isMainScrubberScrubbing_bl=!0;var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.mainScrubber_do.getGlobalX();e<0?e=0:e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=n.mainScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.mainScrubberWidth;n.disable_do&&n.addChild(n.disable_do),n.updateMainScrubber(i),n.dispatchEvent(s.START_TO_SCRUB),n.dispatchEvent(s.SCRUB,{percent:i}),n.isMobile_bl?n.hasPointerEvent_bl?(window.addEventListener("pointermove",n.mainScrubberMoveHandler),window.addEventListener("pointerup",n.mainScrubberEndHandler)):(window.addEventListener("touchmove",n.mainScrubberMoveHandler),window.addEventListener("touchend",n.mainScrubberEndHandler)):window.addEventListener?(window.addEventListener("mousemove",n.mainScrubberMoveHandler),window.addEventListener("mouseup",n.mainScrubberEndHandler)):document.attachEvent&&(document.attachEvent("onmousemove",n.mainScrubberMoveHandler),document.attachEvent("onmouseup",n.mainScrubberEndHandler))}},this.mainScrubberMoveHandler=function(t){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.mainScrubber_do.getGlobalX();e<0?e=0:e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=n.mainScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.mainScrubberWidth;n.updateMainScrubber(i),n.dispatchEvent(s.SCRUB,{percent:i})},this.mainScrubberEndHandler=function(t){n.disable_do&&n.contains(n.disable_do)&&n.removeChild(n.disable_do),n.dispatchEvent(s.STOP_TO_SCRUB),n.isMobile_bl?n.hasPointerEvent_bl?(window.removeEventListener("pointermove",n.mainScrubberMoveHandler),window.removeEventListener("pointerup",n.mainScrubberEndHandler)):(window.removeEventListener("touchmove",n.mainScrubberMoveHandler),window.removeEventListener("touchend",n.mainScrubberEndHandler)):window.removeEventListener?(window.removeEventListener("mousemove",n.mainScrubberMoveHandler),window.removeEventListener("mouseup",n.mainScrubberEndHandler)):document.detachEvent&&(document.detachEvent("onmousemove",n.mainScrubberMoveHandler),document.detachEvent("onmouseup",n.mainScrubberEndHandler))},this.disableMainScrubber=function(){n.mainScrubber_do&&(n.isMainScrubberDisabled_bl=!0,n.mainScrubber_do.setButtonMode(!1),n.mainScrubberEndHandler(),n.updateMainScrubber(0),n.updatePreloaderBar(0))},this.enableMainScrubber=function(){n.mainScrubber_do&&(n.isMainScrubberDisabled_bl=!1,n.mainScrubber_do.setButtonMode(!0))},this.updateMainScrubber=function(t){if(n.mainScrubber_do){var e=parseInt(t*n.mainScrubberWidth);isNaN(e)||(n.percentPlayed=t,!FWDRLEVPlayer.hasHTML5Video&&e>=n.mainProgress_do.w&&(e=n.mainProgress_do.w),e<1&&n.isMainScrubberLineVisible_bl?(n.isMainScrubberLineVisible_bl=!1,FWDAnimation.to(n.mainScrubberBarLine_do,.5,{alpha:0})):1<e&&!n.isMainScrubberLineVisible_bl&&(n.isMainScrubberLineVisible_bl=!0,FWDAnimation.to(n.mainScrubberBarLine_do,.5,{alpha:1})),n.mainScrubberDrag_do.setWidth(e),e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=n.mainScrubberWidth-n.scrubbersOffsetWidth),FWDAnimation.to(n.mainScrubberBarLine_do,.8,{x:e+1,ease:Expo.easeOut}))}},this.updatePreloaderBar=function(t){if(n.mainProgress_do){n.percentLoaded=t;var e=parseInt(Math.max(0,n.percentLoaded*n.mainScrubberWidth));.98<=n.percentLoaded?n.mainProgress_do.setY(-30):0!=n.mainProgress_do.y&&1!=n.percentLoaded&&n.mainProgress_do.setY(0),e>n.mainScrubberWidth-n.scrubbersOffsetWidth&&(e=Math.max(0,n.mainScrubberWidth-n.scrubbersOffsetWidth)),e<0&&(e=0),n.mainProgress_do.setWidth(e)}},this.setupPlayPauseButton=function(){FWDRLComplexButton.setPrototype(),n.playPauseButton_do=new FWDRLComplexButton(n.videoPlayN_img,a.videoPlaySPath_str,n.videoPauseN_img,a.videoPauseSPath_str,!0),n.buttons_ar.push(n.playPauseButton_do),n.playPauseButton_do.setY(parseInt((n.stageHeight-n.playPauseButton_do.buttonHeight)/2)),n.playPauseButton_do.addListener(FWDRLComplexButton.MOUSE_UP,n.playButtonMouseUpHandler),n.mainHolder_do.addChild(n.playPauseButton_do)},this.showPlayButton=function(){n.playPauseButton_do&&n.playPauseButton_do.setButtonState(1)},this.showPauseButton=function(){n.playPauseButton_do&&n.playPauseButton_do.setButtonState(0)},this.playButtonMouseUpHandler=function(){0==n.playPauseButton_do.currentState?n.dispatchEvent(s.PAUSE):n.dispatchEvent(s.PLAY)},this.setupFullscreenButton=function(){FWDRLComplexButton.setPrototype(),n.fullScreenButton_do=new FWDRLComplexButton(n.videoFullScreenN_img,a.videoFullScreenSPath_str,n.videoNormalScreenN_img,a.videoNormalScreenSPath_str,!0),n.buttons_ar.push(n.fullScreenButton_do),n.fullScreenButton_do.setY(parseInt((n.stageHeight-n.fullScreenButton_do.buttonHeight)/2)),n.fullScreenButton_do.addListener(FWDRLComplexButton.MOUSE_UP,n.fullScreenButtonMouseUpHandler),n.mainHolder_do.addChild(n.fullScreenButton_do)},this.showFullScreenButton=function(){n.fullScreenButton_do&&n.fullScreenButton_do.setButtonState(1)},this.showNormalScreenButton=function(){n.fullScreenButton_do&&n.fullScreenButton_do.setButtonState(0)},this.setNormalStateToFullScreenButton=function(){n.fullScreenButton_do&&n.fullScreenButton_do.setNormalState()},this.fullScreenButtonMouseUpHandler=function(){1==n.fullScreenButton_do.currentState?n.dispatchEvent(s.FULL_SCREEN):n.dispatchEvent(s.NORMAL_SCREEN)},this.setupTime=function(){n.time_do=new FWDRLDisplayObject("div"),n.time_do.hasTransform3d_bl=!1,n.time_do.hasTransform2d_bl=!1,n.time_do.setBackfaceVisibility(),n.time_do.getStyle().fontFamily="Arial",n.time_do.getStyle().fontSize="12px",n.time_do.getStyle().whiteSpace="nowrap",n.time_do.getStyle().textAlign="center",n.time_do.getStyle().color=n.timeColor_str,n.time_do.getStyle().fontSmoothing="antialiased",n.time_do.getStyle().webkitFontSmoothing="antialiased",n.time_do.getStyle().textRendering="optimizeLegibility",n.mainHolder_do.addChild(n.time_do),n.updateTime("00:00/00:00"),n.buttons_ar.push(n.time_do)},this.updateTime=function(t){n.time_do&&(n.time_do.setInnerHTML(t),n.lastTimeLength!=t.length&&(n.time_do.w=n.time_do.getWidth(),n.positionButtons(),setTimeout(function(){n.time_do.w=n.time_do.getWidth(),n.time_do.h=n.time_do.getHeight(),n.time_do.setY(parseInt((n.stageHeight-n.time_do.h)/2)+1),n.positionButtons()},50),n.lastTimeLength=t.length))},this.setupVolumeButton=function(){FWDRLEVPVolumeButton.setPrototype(),n.volumeButton_do=new FWDRLEVPVolumeButton(n.videoVolumeN_img,a.videoVolumeSPath_str,a.videoVolumeDPath_str),n.volumeButton_do.addListener(FWDRLEVPVolumeButton.MOUSE_UP,n.volumeOnMouseUpHandler),n.volumeButton_do.setY(parseInt((n.stageHeight-n.volumeButton_do.h)/2)),n.buttons_ar.push(n.volumeButton_do),n.mainHolder_do.addChild(n.volumeButton_do),n.allowToChangeVolume_bl||n.volumeButton_do.disable()},this.volumeOnMouseUpHandler=function(){var t=n.lastVolume;n.isMute_bl?(t=n.lastVolume,n.isMute_bl=!1):(t=1e-6,n.isMute_bl=!0),n.updateVolume(t)},this.setupVolumeScrubber=function(){n.volumeScrubber_do=new FWDRLDisplayObject("div"),n.volumeScrubber_do.setHeight(n.scrubbersHeight),n.volumeScrubber_do.setY(parseInt((n.stageHeight-n.scrubbersHeight)/2)),n.volumeScrubberBkLeft_do=new FWDRLDisplayObject("img");var t=new Image;t.src=n.mainScrubberBkLeft_do.screen.src,n.volumeScrubberBkLeft_do.setScreen(t),n.volumeScrubberBkLeft_do.setWidth(n.mainScrubberBkLeft_do.w),n.volumeScrubberBkLeft_do.setHeight(n.mainScrubberBkLeft_do.h);var e=new Image;e.src=a.videoVolumeScrubberBkRightPath_str,n.volumeScrubberBkRight_do=new FWDRLDisplayObject("img"),n.volumeScrubberBkRight_do.setScreen(e),n.volumeScrubberBkRight_do.setWidth(n.volumeScrubberBkLeft_do.w),n.volumeScrubberBkRight_do.setHeight(n.volumeScrubberBkLeft_do.h);var i=new Image;i.src=n.videoVolumeScrubberBkMiddlePath_str,n.isMobile_bl?(n.volumeScrubberBkMiddle_do=new FWDRLDisplayObject("div"),n.volumeScrubberBkMiddle_do.getStyle().background="url('"+n.videoVolumeScrubberBkMiddlePath_str+"') repeat-x"):(n.volumeScrubberBkMiddle_do=new FWDRLDisplayObject("img"),n.volumeScrubberBkMiddle_do.setScreen(i)),n.volumeScrubberBkMiddle_do.setHeight(n.scrubbersHeight),n.volumeScrubberBkMiddle_do.setX(n.scrubbersBkLeftAndRightWidth),n.volumeScrubberDrag_do=new FWDRLDisplayObject("div"),n.volumeScrubberDrag_do.setHeight(n.scrubbersHeight),n.volumeScrubberDragLeft_do=new FWDRLDisplayObject("img");var s=new Image;s.src=n.mainScrubberDragLeft_do.screen.src,n.volumeScrubberDragLeft_do.setScreen(s),n.volumeScrubberDragLeft_do.setWidth(n.mainScrubberDragLeft_do.w),n.volumeScrubberDragLeft_do.setHeight(n.mainScrubberDragLeft_do.h),(i=new Image).src=n.videoVolumeScrubberDragMiddlePath_str,n.isMobile_bl?(n.volumeScrubberDragMiddle_do=new FWDRLDisplayObject("div"),n.volumeScrubberDragMiddle_do.getStyle().background="url('"+n.videoVolumeScrubberDragMiddlePath_str+"') repeat-x"):(n.volumeScrubberDragMiddle_do=new FWDRLDisplayObject("img"),n.volumeScrubberDragMiddle_do.setScreen(i)),n.volumeScrubberDragMiddle_do.setHeight(n.scrubbersHeight),n.volumeScrubberDragMiddle_do.setX(n.mainScrubberDragLeftWidth),n.volumeScrubberBarLine_do=new FWDRLDisplayObject("img");var o=new Image;o.src=n.mainScrubberBarLine_do.screen.src,n.volumeScrubberBarLine_do.setScreen(o),n.volumeScrubberBarLine_do.setWidth(n.mainScrubberBarLine_do.w),n.volumeScrubberBarLine_do.setHeight(n.mainScrubberBarLine_do.h),n.volumeScrubberBarLine_do.setAlpha(0),n.volumeScrubberBarLine_do.hasTransform3d_bl=!1,n.volumeScrubberBarLine_do.hasTransform2d_bl=!1,n.volumeScrubber_do.setWidth(n.volumeScrubberWidth),n.volumeScrubberBkMiddle_do.setWidth(n.volumeScrubberWidth-2*n.scrubbersBkLeftAndRightWidth),n.volumeScrubberBkRight_do.setX(n.volumeScrubberWidth-n.scrubbersBkLeftAndRightWidth),n.volumeScrubberDragMiddle_do.setWidth(n.volumeScrubberWidth-n.scrubbersBkLeftAndRightWidth-n.scrubbersOffsetWidth),n.volumeScrubber_do.addChild(n.volumeScrubberBkLeft_do),n.volumeScrubber_do.addChild(n.volumeScrubberBkMiddle_do),n.volumeScrubber_do.addChild(n.volumeScrubberBkRight_do),n.volumeScrubber_do.addChild(n.volumeScrubberBarLine_do),n.volumeScrubberDrag_do.addChild(n.volumeScrubberDragLeft_do),n.volumeScrubberDrag_do.addChild(n.volumeScrubberDragMiddle_do),n.volumeScrubber_do.addChild(n.volumeScrubberDrag_do),n.volumeScrubber_do.addChild(n.volumeScrubberBarLine_do),n.buttons_ar.push(n.volumeScrubber_do),n.mainHolder_do.addChild(n.volumeScrubber_do),n.allowToChangeVolume_bl&&(n.isMobile_bl?n.hasPointerEvent_bl?(n.volumeScrubber_do.screen.addEventListener("pointerover",n.volumeScrubberOnOverHandler),n.volumeScrubber_do.screen.addEventListener("pointerout",n.volumeScrubberOnOutHandler),n.volumeScrubber_do.screen.addEventListener("pointerdown",n.volumeScrubberOnDownHandler)):n.volumeScrubber_do.screen.addEventListener("touchstart",n.volumeScrubberOnDownHandler):n.screen.addEventListener?(n.volumeScrubber_do.screen.addEventListener("mouseover",n.volumeScrubberOnOverHandler),n.volumeScrubber_do.screen.addEventListener("mouseout",n.volumeScrubberOnOutHandler),n.volumeScrubber_do.screen.addEventListener("mousedown",n.volumeScrubberOnDownHandler)):n.screen.attachEvent&&(n.volumeScrubber_do.screen.attachEvent("onmouseover",n.volumeScrubberOnOverHandler),n.volumeScrubber_do.screen.attachEvent("onmouseout",n.volumeScrubberOnOutHandler),n.volumeScrubber_do.screen.attachEvent("onmousedown",n.volumeScrubberOnDownHandler))),n.enableVolumeScrubber(),n.updateVolumeScrubber(n.volume)},this.volumeScrubberOnOverHandler=function(t){n.isVolumeScrubberDisabled_bl},this.volumeScrubberOnOutHandler=function(t){n.isVolumeScrubberDisabled_bl},this.volumeScrubberOnDownHandler=function(t){if(!n.isVolumeScrubberDisabled_bl&&2!=t.button){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.volumeScrubber_do.getGlobalX();e<0?e=0:e>n.volumeScrubberWidth-n.scrubbersOffsetWidth&&(e=n.volumeScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.volumeScrubberWidth;n.disable_do&&n.addChild(n.disable_do),n.lastVolume=i,n.updateVolume(i),n.isMobile_bl?n.hasPointerEvent_bl?(window.addEventListener("pointermove",n.volumeScrubberMoveHandler),window.addEventListener("pointerup",n.volumeScrubberEndHandler)):(window.addEventListener("touchmove",n.volumeScrubberMoveHandler),window.addEventListener("touchend",n.volumeScrubberEndHandler)):window.addEventListener?(window.addEventListener("mousemove",n.volumeScrubberMoveHandler),window.addEventListener("mouseup",n.volumeScrubberEndHandler)):document.attachEvent&&(document.attachEvent("onmousemove",n.volumeScrubberMoveHandler),document.attachEvent("onmouseup",n.volumeScrubberEndHandler))}},this.volumeScrubberMoveHandler=function(t){if(!n.isVolumeScrubberDisabled_bl){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t).screenX-n.volumeScrubber_do.getGlobalX();e<0?e=0:e>n.volumeScrubberWidth-n.scrubbersOffsetWidth&&(e=n.volumeScrubberWidth-n.scrubbersOffsetWidth);var i=e/n.volumeScrubberWidth;n.lastVolume=i,n.updateVolume(i)}},this.volumeScrubberEndHandler=function(){n.disable_do&&n.contains(n.disable_do)&&n.removeChild(n.disable_do),n.isMobile_bl?n.hasPointerEvent_bl?(window.removeEventListener("pointermove",n.volumeScrubberMoveHandler),window.removeEventListener("pointerup",n.volumeScrubberEndHandler)):(window.removeEventListener("touchmove",n.volumeScrubberMoveHandler),window.removeEventListener("touchend",n.volumeScrubberEndHandler)):window.removeEventListener?(window.removeEventListener("mousemove",n.volumeScrubberMoveHandler),window.removeEventListener("mouseup",n.volumeScrubberEndHandler)):document.detachEvent&&(document.detachEvent("onmousemove",n.volumeScrubberMoveHandler),document.detachEvent("onmouseup",n.volumeScrubberEndHandler))},this.disableVolumeScrubber=function(){n.isVolumeScrubberDisabled_bl=!0,n.volumeScrubber_do.setButtonMode(!1),n.volumeScrubberEndHandler()},this.enableVolumeScrubber=function(){n.isVolumeScrubberDisabled_bl=!1,n.volumeScrubber_do.setButtonMode(!0)},this.updateVolumeScrubber=function(t){var e=parseInt(t*n.volumeScrubberWidth);n.volumeScrubberDrag_do.setWidth(e),e<1&&n.isVolumeScrubberLineVisible_bl?(n.isVolumeScrubberLineVisible_bl=!1,FWDAnimation.to(n.volumeScrubberBarLine_do,.5,{alpha:0})):1<e&&!n.isVolumeScrubberLineVisible_bl&&(n.isVolumeScrubberLineVisible_bl=!0,FWDAnimation.to(n.volumeScrubberBarLine_do,.5,{alpha:1})),e>n.volumeScrubberWidth-n.scrubbersOffsetWidth&&(e=n.volumeScrubberWidth-n.scrubbersOffsetWidth),FWDAnimation.to(n.volumeScrubberBarLine_do,.8,{x:e+1,ease:Expo.easeOut})},this.updateVolume=function(t,e){n.showVolumeScrubber_bl&&(n.volume=t,n.volume<=1e-6?(n.isMute_bl=!0,n.volume=1e-6):1<=n.voume?(n.isMute_bl=!1,n.volume=1):n.isMute_bl=!1,1e-6==n.volume?n.volumeButton_do&&n.volumeButton_do.setDisabledState():n.volumeButton_do&&n.volumeButton_do.setEnabledState(),n.volumeScrubberBarLine_do&&n.updateVolumeScrubber(n.volume),e||n.dispatchEvent(s.CHANGE_VOLUME,{percent:n.volume}))},this.show=function(t){n.isShowed_bl||(n.isShowed_bl=!0,t?FWDAnimation.to(n.mainHolder_do,.8,{y:0,ease:Expo.easeInOut}):(FWDAnimation.killTweensOf(n.mainHolder_do),n.mainHolder_do.setY(0)),setTimeout(n.positionButtons,200))},this.hide=function(t,e){if(n.isShowed_bl||e){n.isShowed_bl=!1;var i=0;e&&(i=n.mainScrubberOffestTop),t?FWDAnimation.to(n.mainHolder_do,.8,{y:n.stageHeight+i,ease:Expo.easeInOut}):(FWDAnimation.killTweensOf(n.mainHolder_do),n.mainHolder_do.setY(n.stageHeight+i))}},this.init()};s.setPrototype=function(){s.prototype=new FWDRLDisplayObject("div")},s.FACEBOOK_SHARE="share",s.FULL_SCREEN="fullScreen",s.NORMAL_SCREEN="normalScreen",s.PLAY="play",s.PAUSE="pause",s.START_TO_SCRUB="startToScrub",s.SCRUB="scrub",s.STOP_TO_SCRUB="stopToScrub",s.CHANGE_VOLUME="changeVolume",s.prototype=null,window.FWDRLEVPController=s}(),function(i){var t,e,s=function(t,e){var o=this;o.displayType=s.AFTER_PARENT,o.init=function(){this.mustHaveHolderDiv_bl=!1,i.RLVideoPlayer=this,o.instanceName_str="RLVideoPlayer",o.displayType==s.AFTER_PARENT&&(o.mustHaveHolderDiv_bl=!0),this.body=document.getElementsByTagName("body")[0],this.stageContainer=t,this.data=e,this.listeners={events_ar:[]},this.main_do=null,this.preloader_do=null,this.controller_do=null,this.videoScreen_do=null,this.flash_do=null,this.flashObject=null,this.videoPoster_do=null,this.largePlayButton_do=null,this.hider=null,this.backgroundColor_str="#000000",this.videoBackgroundColor_str="#000000",this.flashObjectMarkup_str=null,this.lastX=0,this.lastY=0,this.stageWidth=0,this.stageHeight=0,this.firstTapX,this.firstTapY,this.curTime,this.totalTime,this.videoSourcePath_str,this.prevVideoSourcePath_str,this.posterPath_str,this.videoType_str,this.videoStartBehaviour_str,this.prevVideoSource_str,this.prevPosterSource_str,this.finalVideoPath_str,this.resizeHandlerId_to,this.hidePreloaderId_to,this.orientationChangeId_to,this.disableClickId_to,this.clickDelayId_to,this.secondTapId_to,this.isVideoPlayingWhenOpenWindows_bl=!1,this.isSpaceDown_bl=!1,this.isPlaying_bl=!1,this.firstTapPlaying_bl=!1,this.stickOnCurrentInstanceKey_bl=!1,this.isFullScreen_bl=!1,this.isFlashScreenReady_bl=!1,this.orintationChangeComplete_bl=!0,this.disableClick_bl=!1,this.isAPIReady_bl=!1,this.isInstantiate_bl=!0,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.setupMainDo(),this.setupNormalVideoPlayers()},o.setupMainDo=function(){o.main_do=new FWDRLDisplayObject("div"),o.main_do.getStyle().msTouchAction="none",o.main_do.getStyle().webkitTapHighlightColor="rgba(0, 0, 0, 0)",o.main_do.getStyle().webkitFocusRingColor="rgba(0, 0, 0, 0)",o.main_do.getStyle().width="100%",o.main_do.getStyle().height="100%",o.main_do.setBackfaceVisibility(),o.main_do.setBkColor(o.backgroundColor_str),(!FWDRLUtils.isMobile||FWDRLUtils.isMobile&&FWDRLUtils.hasPointerEvent)&&o.main_do.setSelectable(!1),o.stageContainer.style.overflow="visible",o.stageContainer.appendChild(o.main_do.screen),setTimeout(o.resizeHandler,300)},o.resizeHandler=function(){if(o.isFullScreen_bl||o.displayType==s.FULL_SCREEN){var t=FWDRLUtils.getViewportSize();o.main_do.setX(0),o.main_do.setY(0),o.stageWidth=t.w,o.stageHeight=t.h}else o.stageWidth=o.stageContainer.offsetWidth,o.stageHeight=o.stageContainer.offsetHeight;o.main_do.setWidth(o.stageWidth),o.main_do.setHeight(o.stageHeight),o.isFlashScreenReady_bl&&o.videoType_str==s.VIDEO&&(o.flash_do.setWidth(o.stageWidth),o.flash_do.setHeight(o.stageHeight)),o.controller_do&&o.controller_do.resizeAndPosition(),o.videoScreen_do&&o.videoType_str==s.VIDEO&&o.videoScreen_do.resizeAndPosition(o.stageWidth,o.stageHeight),o.preloader_do&&o.positionPreloader(),o.dumyClick_do&&(o.dumyClick_do.setWidth(o.stageWidth),o.isMobile_bl,o.dumyClick_do.setHeight(o.stageHeight)),o.largePlayButton_do&&o.positionLargePlayButton(),o.videoPoster_do&&o.videoPoster_do.allowToShow_bl&&o.videoPoster_do.positionAndResize()},this.setupClickScreen=function(){o.dumyClick_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(o.dumyClick_do.setBkColor("#00FF00"),o.dumyClick_do.setAlpha(1e-4)),o.dumyClick_do.screen.addEventListener?o.dumyClick_do.screen.addEventListener("click",o.playPauseClickHandler):o.dumyClick_do.screen.attachEvent&&o.dumyClick_do.screen.attachEvent("onclick",o.playPauseClickHandler),o.hideClickScreen(),o.main_do.addChild(o.dumyClick_do)},this.playPauseClickHandler=function(t){2!=t.button&&(o.disableClick_bl||(o.firstTapPlaying_bl=o.isPlaying_bl,0!=(s.keyboardCurInstance=o).controller_do.mainHolder_do.y&&o.isMobile_bl||(s.hasHTML5Video?o.videoScreen_do&&o.videoScreen_do.togglePlayPause():o.isFlashScreenReady_bl&&o.flashObject.togglePlayPause())))},this.showClickScreen=function(){o.dumyClick_do.setVisible(!0)},this.hideClickScreen=function(){o.dumyClick_do.setVisible(!1)},this.disableClick=function(){o.disableClick_bl=!0,clearTimeout(o.disableClickId_to),o.disableClickId_to=setTimeout(function(){o.disableClick_bl=!1},500)},this.addDoubleClickSupport=function(){!o.isMobile_bl&&o.dumyClick_do.screen.addEventListener?(o.dumyClick_do.screen.addEventListener("mousedown",o.onFirstDown),FWDRLUtils.isIEWebKit&&o.dumyClick_do.screen.addEventListener("dblclick",o.onSecondDown)):o.isMobile_bl?o.dumyClick_do.screen.addEventListener("touchstart",o.onFirstDown):o.dumyClick_do.screen.addEventListener&&o.dumyClick_do.screen.addEventListener("mousedown",o.onFirstDown)},this.onFirstDown=function(t){if(2!=t.button){o.isFullscreen_bl&&t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t);o.firstTapX=e.screenX,o.firstTapY=e.screenY,o.firstTapPlaying_bl=o.isPlaying_bl,FWDRLUtils.isIEWebKit||(o.isMobile_bl?(o.dumyClick_do.screen.addEventListener("touchstart",o.onSecondDown),o.dumyClick_do.screen.removeEventListener("touchstart",o.onFirstDown)):o.dumyClick_do.screen.addEventListener&&(o.dumyClick_do.screen.addEventListener("mousedown",o.onSecondDown),o.dumyClick_do.screen.removeEventListener("mousedown",o.onFirstDown)),clearTimeout(o.secondTapId_to),o.secondTapId_to=setTimeout(o.doubleTapExpired,250))}},this.doubleTapExpired=function(){clearTimeout(o.secondTapId_to),o.isMobile_bl?(o.dumyClick_do.screen.removeEventListener("touchstart",o.onSecondDown),o.dumyClick_do.screen.addEventListener("touchstart",o.onFirstDown)):o.dumyClick_do.screen.addEventListener&&(o.dumyClick_do.screen.removeEventListener("mousedown",o.onSecondDown),o.dumyClick_do.screen.addEventListener("mousedown",o.onFirstDown))},this.onSecondDown=function(t){t.preventDefault&&t.preventDefault();var e,i,s=FWDRLUtils.getViewportMouseCoordinates(t);FWDRLUtils.isIEWebKit&&(o.firstTapPlaying_bl=o.isPlaying_bl),t.touches&&1!=t.touches.length||(e=Math.abs(s.screenX-o.firstTapX),i=Math.abs(s.screenY-o.firstTapY),o.isMobile_bl&&(10<e||10<i)||!o.isMobile_bl&&(2<e||2<i)||(o.switchFullScreenOnDoubleClick(),FWDRLUtils.isIEWebKit||(o.firstTapPlaying_bl?o.play():o.pause())))},this.switchFullScreenOnDoubleClick=function(){o.disableClick(),o.isFullScreen_bl?o.goNormalScreen():o.goFullScreen()},this.setupNormalVideoPlayers=function(){o.setupPreloader(),s.hasHTML5Video?(o.isAPIReady_bl=!0,o.setupVideoScreen(),o.setupVideoPoster(),o.main_do.addChild(o.preloader_do),o.setupClickScreen(),o.addDoubleClickSupport(),o.setupController(),o.setupLargePlayPauseButton(),o.setupHider(),o.dispatchEvent(s.READY),o.setPosterSource(o.posterPath_str)):o.setupFlashScreen(),o.resizeHandler()},this.setupPreloader=function(){FWDRLPreloader.setPrototype(),o.preloader_do=new FWDRLPreloader(o.data.videoMainPreloader_img,30,30,30,40),o.preloader_do.show(!0),o.main_do.addChild(o.preloader_do)},this.positionPreloader=function(){o.preloader_do.setX(parseInt((o.stageWidth-o.preloader_do.w)/2)),o.preloader_do.setY(parseInt((o.stageHeight-o.preloader_do.h)/2))},this.setupVideoPoster=function(){FWDRLEVPPoster.setPrototype(),o.videoPoster_do=new FWDRLEVPPoster(o,o.data.videoPosterBackgroundColor_str,o.data.show),o.main_do.addChild(o.videoPoster_do)},this.setupLargePlayPauseButton=function(){FWDRLSimpleButton.setPrototype(!0),o.largePlayButton_do=new FWDRLSimpleButton(o.data.videoLargePlayN_img,o.data.videoLargePlayS_str),o.largePlayButton_do.addListener(FWDRLSimpleButton.MOUSE_UP,o.largePlayButtonUpHandler),o.largePlayButton_do.setOverflow("visible"),o.largePlayButton_do.hide(!1),o.main_do.addChild(o.largePlayButton_do)},this.largePlayButtonUpHandler=function(){o.disableClick(),o.largePlayButton_do.hide(),o.play()},this.positionLargePlayButton=function(){o.largePlayButton_do.setX(parseInt((o.stageWidth-o.largePlayButton_do.w)/2)),o.largePlayButton_do.setY(parseInt((o.stageHeight-o.largePlayButton_do.h)/2))},this.setupController=function(){FWDRLEVPController.setPrototype(),o.controller_do=new FWDRLEVPController(o.data,o),o.controller_do.addListener(FWDRLEVPController.PLAY,o.controllerOnPlayHandler),o.controller_do.addListener(FWDRLEVPController.PAUSE,o.controllerOnPauseHandler),o.controller_do.addListener(FWDRLEVPController.START_TO_SCRUB,o.controllerStartToScrubbHandler),o.controller_do.addListener(FWDRLEVPController.SCRUB,o.controllerScrubbHandler),o.controller_do.addListener(FWDRLEVPController.STOP_TO_SCRUB,o.controllerStopToScrubbHandler),o.controller_do.addListener(FWDRLEVPController.CHANGE_VOLUME,o.controllerChangeVolumeHandler),o.controller_do.addListener(FWDRLEVPController.FULL_SCREEN,o.controllerFullScreenHandler),o.controller_do.addListener(FWDRLEVPController.NORMAL_SCREEN,o.controllerNormalScreenHandler),o.main_do.addChild(o.controller_do)},this.controllerOnPlayHandler=function(t){o.play()},this.controllerOnPauseHandler=function(t){o.pause()},this.controllerStartToScrubbHandler=function(t){o.startToScrub()},this.controllerScrubbHandler=function(t){o.scrub(t.percent)},this.controllerStopToScrubbHandler=function(t){o.stopToScrub()},this.controllerChangeVolumeHandler=function(t){o.setVolume(t.percent)},this.controllerFullScreenHandler=function(){o.goFullScreen()},this.controllerNormalScreenHandler=function(){o.goNormalScreen()},this.setupVideoScreen=function(){FWDRLEVPVideoScreen.setPrototype(),o.videoScreen_do=new FWDRLEVPVideoScreen(o,o.backgroundColor_str,o.data.volume),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.ERROR,o.videoScreenErrorHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.SAFE_TO_SCRUBB,o.videoScreenSafeToScrubbHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.STOP,o.videoScreenStopHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.PLAY,o.videoScreenPlayHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.PAUSE,o.videoScreenPauseHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.UPDATE,o.videoScreenUpdateHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.UPDATE_TIME,o.videoScreenUpdateTimeHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.LOAD_PROGRESS,o.videoScreenLoadProgressHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.START_TO_BUFFER,o.videoScreenStartToBuferHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.STOP_TO_BUFFER,o.videoScreenStopToBuferHandler),o.videoScreen_do.addListener(FWDRLEVPVideoScreen.PLAY_COMPLETE,o.videoScreenPlayCompleteHandler),o.main_do.addChild(o.videoScreen_do)},this.videoScreenErrorHandler=function(t){var e;o.isPlaying_bl=!1,e=t.text,i.console&&console.log(t.text),o.controller_do&&(o.controller_do.disableMainScrubber(),o.data.showControllerWhenVideoIsStopped_bl||o.controller_do.hide(!o.isMobile_bl,!0),o.largePlayButton_do.hide(),o.hideClickScreen(),o.hider.stop()),FWDRLUtils.isIphone&&o.videoScreen_do&&o.videoScreen_do.setX(-5e3),o.preloader_do.hide(!1),o.showCursor(),o.stop(),o.dispatchEvent(s.ERROR,{error:e})},this.videoScreenSafeToScrubbHandler=function(){o.controller_do&&(o.controller_do.enableMainScrubber(),o.controller_do.show(!0),o.hider.start()),o.data.addKeyboardSupport_bl&&o.addKeyboardSupport(),o.showClickScreen()},this.videoScreenStopHandler=function(t){o.videoPoster_do.allowToShow_bl=!0,o.isPlaying_bl=!1,o.controller_do&&(o.controller_do.disableMainScrubber(),o.controller_do.showPlayButton(),o.data.showControllerWhenVideoIsStopped_bl?o.controller_do.show(!o.isMobile_bl):o.controller_do.hide(!o.isMobile_bl,!0),o.hider.stop()),o.hideClickScreen(),o.hider.reset(),o.showCursor(),o.dispatchEvent(s.STOP)},this.videoScreenPlayHandler=function(){(s.keyboardCurInstance=o).isPlaying_bl=!0,o.controller_do&&(o.controller_do.showPauseButton(),o.controller_do.show(!0)),o.largePlayButton_do.hide(),o.hider.start(),o.showCursor(),o.dispatchEvent(s.PLAY)},this.videoScreenPauseHandler=function(){o.isPlaying_bl=!1,o.controller_do&&o.controller_do.showPlayButton(),FWDRLUtils.isIphone||o.largePlayButton_do.show(),o.controller_do.show(!0),o.hider.stop(),o.hider.reset(),o.showCursor(),o.showClickScreen(),o.dispatchEvent(s.PAUSE)},this.videoScreenUpdateHandler=function(t){var e;e=s.hasHTML5Video?t.percent:t,o.controller_do&&o.controller_do.updateMainScrubber(e),o.dispatchEvent(s.UPDATE,{percent:e})},this.videoScreenUpdateTimeHandler=function(t,e){var i;s.hasHTML5Video?(o.curTime=t.curTime,o.totalTime=t.totalTime,i=o.curTime+"/"+o.totalTime):(o.curTime=t,o.totalTime=e,i=o.curTime+"/"+o.totalTime,null!=t&&null!=e||(i="00:00/00:00")),o.controller_do&&o.controller_do.updateTime(i),o.dispatchEvent(s.UPDATE_TIME,{currentTime:o.curTime,totalTime:o.totalTime})},this.videoScreenLoadProgressHandler=function(t){s.hasHTML5Video?o.controller_do&&o.controller_do.updatePreloaderBar(t.percent):o.controller_do&&o.controller_do.updatePreloaderBar(t)},this.videoScreenStartToBuferHandler=function(){o.preloader_do.show()},this.videoScreenStopToBuferHandler=function(){o.preloader_do.hide(!0)},this.videoScreenPlayCompleteHandler=function(){o.data.videoLoop_bl?(o.scrub(0),o.play()):o.stop(),o.hider.reset(),o.dispatchEvent(s.PLAY_COMPLETE)},this.setupFlashScreen=function(){if(!o.flash_do)if(FWDRLFlashTest.hasFlashPlayerVersion("9.0.18"))o.flash_do=new FWDRLDisplayObject("div"),o.flash_do.setBackfaceVisibility(),o.flash_do.setResizableSizeAfterParent(),o.main_do.addChild(o.flash_do),o.flashObjectMarkup_str='<object id="'+o.instanceName_str+'"classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100%" height="100%"><param name="movie" value="'+o.data.flashPath_str+'"/><param name="wmode" value="opaque"/><param name="scale" value="noscale"/><param name=FlashVars value="instanceName='+o.instanceName_str+"&volume="+o.data.volume+"&bkColor_str="+o.videoBackgroundColor_str+'"/><object type="application/x-shockwave-flash" data="'+o.data.flashPath_str+'" width="100%" height="100%"><param name="movie" value="'+o.data.flashPath_str+'"/><param name="wmode" value="opaque"/><param name="scale" value="noscale"/><param name=FlashVars value="instanceName='+o.instanceName_str+"&volume="+o.data.volume+"&bkColor_str="+o.videoBackgroundColor_str+'"/></object></object>',o.flash_do.screen.innerHTML=o.flashObjectMarkup_str,o.flashObject=o.flash_do.screen.firstChild,FWDRLUtils.isIE||(o.flashObject=o.flashObject.getElementsByTagName("object")[0]);else{o.dispatchEvent(s.ERROR,{error:"Please install Adobe flash player! <a href='http://www.adobe.com/go/getflashplayer'>Click here to install.</a>"})}},this.flashScreenIsReady=function(){console&&console.dir("flash video ready "+o.instanceName_str),o.isFlashScreenReady_bl=!0,o.isAPIReady_bl=!0,o.setupVideoPoster(),o.main_do.addChild(o.preloader_do),o.setupClickScreen(),o.addDoubleClickSupport(),o.setupController(),o.setupLargePlayPauseButton(),o.setupHider(),o.setPosterSource(o.posterPath_str),o.dispatchEvent(s.READY)},this.flashScreenFail=function(){o.dispatchEvent(s.ERROR,{error:error})},this.addKeyboardSupport=function(){document.addEventListener?(document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler)):document.attachEvent&&(document.attachEvent("onkeydown",this.onKeyDownHandler),document.attachEvent("onkeyup",this.onKeyUpHandler))},this.removeKeyboardSupport=function(){document.removeEventListener?(document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)):document.detachEvent&&(document.detachEvent("onkeydown",this.onKeyDownHandler),document.detachEvent("onkeyup",this.onKeyUpHandler))},this.onKeyDownHandler=function(t){if(!o.isSpaceDown_bl&&(o.isSpaceDown_bl=!0,32==t.keyCode)){if(o!=s.keyboardCurInstance&&("pause"==s.videoStartBehaviour||"none"==s.videoStartBehaviour))return;if(o.stickOnCurrentInstanceKey_bl=!0,s.hasHTML5Video){if(!o.videoScreen_do.isSafeToBeControlled_bl)return;o.videoScreen_do.togglePlayPause()}else o.isFlashScreenReady_bl&&o.flashObject.togglePlayPause();return t.preventDefault&&t.preventDefault(),!1}},this.onKeyUpHandler=function(t){o.isSpaceDown_bl=!1},this.setupHider=function(){FWDRLHider.setPrototype(),o.hider=new FWDRLHider(o.main_do,o.data.controllerHideDelay),o.hider.addListener(FWDRLHider.SHOW,o.hiderShowHandler),o.hider.addListener(FWDRLHider.HIDE,o.hiderHideHandler),o.hider.addListener(FWDRLHider.HIDE_COMPLETE,o.hiderHideCompleteHandler)},this.hiderShowHandler=function(){o.isPlaying_bl&&o.controller_do.show(!0),o.showCursor()},this.hiderHideHandler=function(){FWDRLUtils.isIphone||(FWDRLUtils.hitTest(o.controller_do.screen,o.hider.globalX,o.hider.globalY)?o.hider.reset():(o.controller_do.hide(!0),o.isFullScreen_bl&&o.hideCursor()))},this.hiderHideCompleteHandler=function(){o.controller_do.positionScrollBarOnTopOfTheController()},this.play=function(){o.isAPIReady_bl&&(FWDRLUtils.isIphone&&o.videoScreen_do.setX(0),s.hasHTML5Video?o.videoScreen_do&&o.videoScreen_do.play():o.isFlashScreenReady_bl&&o.flashObject.playVideo(),(s.keyboardCurInstance=o).videoPoster_do.allowToShow_bl=!1,o.largePlayButton_do.hide(),o.videoPoster_do.hide())},this.pause=function(){o.isAPIReady_bl&&(FWDRLUtils.isIphone&&o.videoScreen_do.setX(0),s.hasHTML5Video?o.videoScreen_do&&o.videoScreen_do.pause():o.isFlashScreenReady_bl&&o.flashObject.pauseVideo())},this.resume=function(){o.isAPIReady_bl&&(FWDRLUtils.isIphone&&o.videoScreen_do.setX(0),s.hasHTML5Video&&o.videoScreen_do&&o.videoScreen_do.resume())},this.stop=function(t){o.isAPIReady_bl&&(o.isPlaying_bl=!1,o.hider.reset(),FWDRLUtils.isIphone&&o.videoScreen_do.setX(-5e3),s.hasHTML5Video?o.videoScreen_do.stop():o.isFlashScreenReady_bl&&o.flashObject.stopVideo(),o.isMobile_bl?t&&-1!=t.indexOf(".")?(o.data.showControllerWhenVideoIsStopped_bl&&o.controller_do.show(!0),o.videoPoster_do.show(),o.largePlayButton_do.show()):t||(o.videoPoster_do.show(),o.largePlayButton_do.show()):(o.data.showControllerWhenVideoIsStopped_bl&&o.controller_do.show(!0),o.videoPoster_do.show(),o.largePlayButton_do.show()),o.data.addKeyboardSupport_bl&&o.removeKeyboardSupport())},this.startToScrub=function(){o.isAPIReady_bl&&(s.hasHTML5Video?o.videoScreen_do&&o.videoScreen_do.startToScrub():o.isFlashScreenReady_bl&&o.flashObject.startToScrub())},this.stopToScrub=function(){o.isAPIReady_bl&&(s.hasHTML5Video?o.videoScreen_do&&o.videoScreen_do.stopToScrub():o.isFlashScreenReady_bl&&o.flashObject.stopToScrub())},this.scrub=function(t){o.isAPIReady_bl&&(isNaN(t)||(t<0?t=0:1<t&&(t=1),s.hasHTML5Video?o.videoScreen_do&&o.videoScreen_do.scrub(t):o.isFlashScreenReady_bl&&o.flashObject.scrub(t)))},this.setVolume=function(t){o.isAPIReady_bl&&!o.isMobile_bl&&(o.controller_do.updateVolume(t,!0),s.hasHTML5Video&&o.videoScreen_do&&o.videoScreen_do.setVolume(t),o.isFlashScreenReady_bl&&o.flashObject.setVolume(t),o.dispatchEvent(s.VOLUME_SET,{volume:t}))},this.setPosterSource=function(t){if(o.isAPIReady_bl&&t){var e=t.split(",");t=o.isMobile_bl&&null!=e[1]?e[1]:e[0],o.posterPath_str=t,o.videoPoster_do.setPoster(o.posterPath_str),o.prevPosterSource_str!=t&&o.dispatchEvent(s.UPDATE_POSTER_SOURCE),o.prevPosterSource_str=t}},this.setVideoSource=function(t,e){if(o.isAPIReady_bl&&(t!=o.prevVideoSource_str||e))if(o.prevVideoSource_str=t){o.stop(t),o.videoSourcePath_str=t,o.finalVideoPath_str=t,o.videoType_str=s.VIDEO;var i=t.split(",");t=o.isMobile_bl&&null!=i[1]?i[1]:i[0],o.finalVideoPath_str=t,s.hasHTML5Video&&o.videoType_str==s.VIDEO?(o.setPosterSource(o.posterPath_str),o.videoPoster_do.show(),o.largePlayButton_do.show(),FWDRLUtils.isIphone&&o.videoScreen_do.setX(-5e3),o.videoScreen_do.setVisible(!0),o.videoScreen_do&&(o.videoScreen_do.setSource(t),o.data.videoAutoPlay_bl&&o.play())):o.isFlashScreenReady_bl&&o.videoType_str==s.VIDEO&&(-1==t.indexOf("://")&&1!=t.indexOf("/")&&(t=t.substr(t.indexOf("/")+1)),o.videoPoster_do.show(),o.largePlayButton_do.show(),o.flashObject.setSource(t),o.data.videoAutoPlay_bl&&o.play()),o.prevVideoSourcePath_str=o.videoSourcePath_str,o.resizeHandler(),o.getVideoSource()&&o.dispatchEvent(s.UPDATE_VIDEO_SOURCE)}else o.dispatchEvent(s.ERROR,{error:"Video source is not defined!"})},this.goFullScreen=function(){if(o.isAPIReady_bl){document.addEventListener&&(document.addEventListener("fullscreenchange",o.onFullScreenChange),document.addEventListener("mozfullscreenchange",o.onFullScreenChange),document.addEventListener("webkitfullscreenchange",o.onFullScreenChange),document.addEventListener("MSFullscreenChange",o.onFullScreenChange)),o.main_do.screen.requestFullScreen?o.main_do.screen.requestFullScreen():o.main_do.screen.mozRequestFullScreen?o.main_do.screen.mozRequestFullScreen():o.main_do.screen.webkitRequestFullScreen?o.main_do.screen.webkitRequestFullScreen():o.main_do.screen.msRequestFullscreen&&o.main_do.screen.msRequestFullscreen(),o.disableClick(),document.documentElement.style.overflow="hidden",o.main_do.getStyle().zIndex=1e19,o.stageContainer.style.overflow="visible",o.isFullScreen_bl=!0,o.controller_do.showNormalScreenButton(),o.controller_do.setNormalStateToFullScreenButton();var t=FWDRLUtils.getScrollOffsets();o.lastX=t.x,o.lastY=t.y,o.isMobile_bl&&i.addEventListener("touchmove",o.disableFullScreenOnMobileHandler),o.dispatchEvent(s.GO_FULLSCREEN),setTimeout(o.resizeHandler,50)}},this.disableFullScreenOnMobileHandler=function(t){t.preventDefault&&t.preventDefault()},this.goNormalScreen=function(){o.isAPIReady_bl&&(document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),o.addMainDoToTheOriginalParent(),o.isFullScreen_bl=!1)},this.addMainDoToTheOriginalParent=function(){o.isFullScreen_bl&&(document.removeEventListener&&(document.removeEventListener("fullscreenchange",o.onFullScreenChange),document.removeEventListener("mozfullscreenchange",o.onFullScreenChange),document.removeEventListener("webkitfullscreenchange",o.onFullScreenChange),document.removeEventListener("MSFullscreenChange",o.onFullScreenChange)),o.controller_do.setNormalStateToFullScreenButton(),FWDRLUtils.isIEAndLessThen9?document.documentElement.style.overflow="auto":document.documentElement.style.overflow="visible",o.main_do.getStyle().position="relative",o.main_do.getStyle().zIndex=0,o.controller_do.showFullScreenButton(),i.scrollTo(o.lastX,o.lastY),setTimeout(function(){o.resizeHandler()},50),o.isMobile_bl&&i.removeEventListener("touchmove",o.disableFullScreenOnMobileHandler),o.dispatchEvent(s.GO_NORMALSCREEN))},this.onFullScreenChange=function(t){document.fullScreen||document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msieFullScreen||(o.controller_do.showNormalScreenButton(),o.addMainDoToTheOriginalParent(),o.isFullScreen_bl=!1)},this.getVideoSource=function(){if(o.isAPIReady_bl)return o.finalVideoPath_str},this.getPosterSource=function(){if(o.isAPIReady_bl)return o.posterPath_str},this.getCurrentTime=function(){return o.curTime?o.curTime:"00:00"},this.getTotalTime=function(){return o.totalTime?o.totalTime:"00:00"},this.hideCursor=function(){document.documentElement.style.cursor="none",document.getElementsByTagName("body")[0].style.cursor="none"},this.showCursor=function(){document.documentElement.style.cursor="auto",document.getElementsByTagName("body")[0].style.cursor="auto"},this.addListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function.");var i={};i.type=t,i.listener=e,(i.target=this).listeners.events_ar.push(i)},this.dispatchEvent=function(t,e){if(null!=this.listeners){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t){if(e)for(var o in e)this.listeners.events_ar[i][o]=e[o];this.listeners.events_ar[i].listener.call(this,this.listeners.events_ar[i])}}},this.removeListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function."+t);for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t&&this.listeners.events_ar[i].listener===e){this.listeners.events_ar.splice(i,1);break}},o.init()};s.setPrototype=function(){s.prototype=new FWDRLEventDispatcher},s.hasHTML5Video=(t=document.createElement("video"),e=!1,t.canPlayType&&(e=Boolean("probably"==t.canPlayType("video/mp4")||"maybe"==t.canPlayType("video/mp4")),s.canPlayMp4=Boolean("probably"==t.canPlayType("video/mp4")||"maybe"==t.canPlayType("video/mp4"))),!!self.isMobile_bl||e),s.instaces_ar=[],s.curInstance=null,s.keyboardCurInstance=null,s.areInstancesCreated_bl=null,s.PAUSE_ALL_VIDEOS="pause",s.STOP_ALL_VIDEOS="stop",s.DO_NOTHING="none",s.VIDEO="video",s.READY="ready",s.STOP="stop",s.PLAY="play",s.PAUSE="pause",s.UPDATE="update",s.UPDATE_TIME="updateTime",s.UPDATE_VIDEO_SOURCE="updateVideoSource",s.UPDATE_POSTER_SOURCE="udpatePosterSource",s.ERROR="error",s.PLAY_COMPLETE="playComplete",s.VOLUME_SET="volumeSet",s.GO_FULLSCREEN="goFullScreen",s.GO_NORMALSCREEN="goNormalScreen",s.RESPONSIVE="responsive",s.FULL_SCREEN="fullscreen",s.AFTER_PARENT="afterparent",i.FWDRLEVPlayer=s}(window),function(t){var i=function(s,t,e){var o=this;i.prototype;this.img_img=new Image,this.img_do=null,this.imgW=0,this.imgH=0,this.finalW=0,this.finalH=0,this.finalX=0,this.finalY=0,this.curPath_str,this.backgroundColor_str=t,this.isTransparent_bl=!1,this.showPoster_bl=e,this.showOrLoadOnMobile_bl=!1,this.isShowed_bl=!0,this.allowToShow_bl=!0,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){o.img_img=new Image,o.img_do=new FWDRLDisplayObject("img"),o.hide(),o.setBkColor(o.backgroundColor_str)},this.positionAndResize=function(){if(s.stageWidth&&(o.setWidth(s.stageWidth),o.setHeight(s.stageHeight),o.imgW)){var t,e=s.stageWidth/o.imgW,i=s.stageHeight/o.imgH;t=e<=i?e:i,o.finalW=Math.round(t*o.imgW),o.finalH=Math.round(t*o.imgH),o.finalX=parseInt((s.stageWidth-o.finalW)/2),o.finalY=parseInt((s.stageHeight-o.finalH)/2),o.img_do.setX(o.finalX),o.img_do.setY(o.finalY),o.img_do.setWidth(o.finalW),o.img_do.setHeight(o.finalH)}},this.setPoster=function(t){return t&&""==FWDRLUtils.trim(t)||"none"==t?(o.showOrLoadOnMobile_bl=!0,o.isTransparent_bl=!0,void o.show()):"youtubemobile"==t?(o.isTransparent_bl=!1,o.showOrLoadOnMobile_bl=!1,o.img_img.src=null,void(o.imgW=0)):t==o.curPath_str?(o.isTransparent_bl=!1,o.showOrLoadOnMobile_bl=!0,void o.show()):(o.isTransparent_bl=!1,o.showOrLoadOnMobile_bl=!0,o.curPath_str=t,o.allowToShow_bl&&(o.isShowed_bl=!1),void(t&&(o.img_do&&(o.img_do.src=""),o.img_img.onload=o.posterLoadHandler,o.img_img.src=o.curPath_str)))},this.posterLoadHandler=function(t){o.imgW=o.img_img.width,o.imgH=o.img_img.height,o.img_do.setScreen(o.img_img),o.addChild(o.img_do),o.show(),o.positionAndResize()},this.show=function(t){o.allowToShow_bl&&!o.isShowed_bl&&o.showOrLoadOnMobile_bl&&(o.isShowed_bl=!0,o.isTransparent_bl?0!=o.alpha&&o.setAlpha(0):1!=o.alpha&&o.setAlpha(1),o.setVisible(!0),o.isMobile_bl||o.isTransparent_bl||(FWDAnimation.killTweensOf(o),o.setAlpha(0),FWDAnimation.to(o,.6,{alpha:1,delay:.4})),o.positionAndResize())},this.hide=function(){o.isShowed_bl&&(o.isShowed_bl=!1,o.setVisible(!1))},this.init()};i.setPrototype=function(){i.prototype=new FWDRLDisplayObject("div")},i.prototype=null,t.FWDRLEVPPoster=i}(window),function(s){var o=function(e,t,i){var n=this;o.prototype;this.video_el=null,this.sourcePath_str=null,this.backgroundColor_str=t,this.controllerHeight=e.data.controllerHeight,this.stageWidth=0,this.stageHeight=0,this.lastPercentPlayed=0,this.volume=i,this.curDuration=0,this.countNormalMp3Errors=0,this.countShoutCastErrors=0,this.maxShoutCastCountErrors=5,this.maxNormalCountErrors=1,this.disableClickForAWhileId_to,this.disableClick_bl=!1,this.allowScrubing_bl=!1,this.hasError_bl=!0,this.isPlaying_bl=!1,this.isStopped_bl=!0,this.hasPlayedOnce_bl=!1,this.isStartEventDispatched_bl=!1,this.isSafeToBeControlled_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){n.setupVideo(),n.setBkColor(n.backgroundColor_str)},this.setupVideo=function(){null==n.video_el&&(n.video_el=document.createElement("video"),n.screen.appendChild(n.video_el),n.video_el.controls=!1,n.video_el.volume=n.volume,n.video_el.style.position="relative",n.video_el.style.left="0px",n.video_el.style.top="0px",n.video_el.style.width="100%",n.video_el.style.height="100%",n.video_el.style.margin="0px",n.video_el.style.padding="0px",n.video_el.style.maxWidth="none",n.video_el.style.maxHeight="none",n.video_el.style.border="none",n.video_el.style.lineHeight="0",n.video_el.style.msTouchAction="none",n.screen.appendChild(n.video_el)),n.video_el.addEventListener("error",n.errorHandler),n.video_el.addEventListener("canplay",n.safeToBeControlled),n.video_el.addEventListener("canplaythrough",n.safeToBeControlled),n.video_el.addEventListener("progress",n.updateProgress),n.video_el.addEventListener("timeupdate",n.updateVideo),n.video_el.addEventListener("pause",n.pauseHandler),n.video_el.addEventListener("play",n.playHandler),FWDRLUtils.isIE||n.video_el.addEventListener("waiting",n.startToBuffer),n.video_el.addEventListener("playing",n.stopToBuffer),n.video_el.addEventListener("ended",n.endedHandler),n.resizeAndPosition()},this.destroyVideo=function(){n.video_el&&(n.video_el.removeEventListener("error",n.errorHandler),n.video_el.removeEventListener("canplay",n.safeToBeControlled),n.video_el.removeEventListener("canplaythrough",n.safeToBeControlled),n.video_el.removeEventListener("progress",n.updateProgress),n.video_el.removeEventListener("timeupdate",n.updateVideo),n.video_el.removeEventListener("pause",n.pauseHandler),n.video_el.removeEventListener("play",n.playHandler),FWDRLUtils.isIE||n.video_el.removeEventListener("waiting",n.startToBuffer),n.video_el.removeEventListener("playing",n.stopToBuffer),n.video_el.removeEventListener("ended",n.endedHandler),n.isMobile_bl?(n.screen.removeChild(n.video_el),n.video_el=null):(n.video_el.style.visibility="hidden",n.video_el.src="",n.video_el.load()))},this.startToBuffer=function(t){n.dispatchEvent(o.START_TO_BUFFER)},this.stopToBuffer=function(){n.dispatchEvent(o.STOP_TO_BUFFER)},this.errorHandler=function(t){var e;n.hasError_bl=!0,e=0==n.video_el.networkState?"error 'self.video_el.networkState = 0'":1==n.video_el.networkState?"error 'self.video_el.networkState = 1'":2==n.video_el.networkState?"'self.video_el.networkState = 2'":3==n.video_el.networkState?"Video source not found <font color='#FF0000'>"+n.sourcePath_str+"</font>":t,s.console&&s.console.log(n.video_el.networkState),n.dispatchEvent(o.ERROR,{text:e})},this.resizeAndPosition=function(t,e){t&&(n.stageWidth=t,n.stageHeight=e),n.setWidth(n.stageWidth),FWDRLUtils.isIphone?n.setHeight(n.stageHeight-n.controllerHeight):n.setHeight(n.stageHeight)},this.setSource=function(t){n.sourcePath_str=t,n.video_el&&n.stop()},this.play=function(t){if(FWDRLEVPlayer.curInstance=e,n.isStopped_bl)n.isPlaying_bl=!1,n.hasError_bl=!1,n.allowScrubing_bl=!1,n.isStopped_bl=!1,n.setupVideo(),n.setVolume(),n.video_el.src=n.sourcePath_str,n.play(),n.startToBuffer(!0),n.isPlaying_bl=!0;else if(!n.video_el.ended||t)try{n.isPlaying_bl=!0,n.hasPlayedOnce_bl=!0,n.video_el.play(),FWDRLUtils.isIE&&n.dispatchEvent(o.PLAY)}catch(t){}},this.pause=function(){if(null!=n&&!n.isStopped_bl&&!n.hasError_bl&&!n.video_el.ended)try{n.video_el.pause(),n.isPlaying_bl=!1,FWDRLUtils.isIE&&n.dispatchEvent(o.PAUSE)}catch(t){}},this.togglePlayPause=function(){null!=n&&n.isSafeToBeControlled_bl&&(n.isPlaying_bl?n.pause():n.play())},this.pauseHandler=function(){n.allowScrubing_bl||n.dispatchEvent(o.PAUSE)},this.playHandler=function(){n.allowScrubing_bl||(n.isStartEventDispatched_bl||(n.dispatchEvent(o.START),n.isStartEventDispatched_bl=!0),n.dispatchEvent(o.PLAY))},this.endedHandler=function(){n.dispatchEvent(o.PLAY_COMPLETE)},this.resume=function(){n.isStopped_bl||n.play()},this.stop=function(t){(null!=n&&null!=n.video_el&&!n.isStopped_bl||t)&&(n.isPlaying_bl=!1,n.isStopped_bl=!0,n.hasPlayedOnce_bl=!0,n.isSafeToBeControlled_bl=!1,n.isStartEventDispatched_bl=!1,n.destroyVideo(),n.dispatchEvent(o.LOAD_PROGRESS,{percent:0}),n.dispatchEvent(o.UPDATE_TIME,{curTime:"00:00",totalTime:"00:00"}),n.dispatchEvent(o.STOP),n.stopToBuffer())},this.safeToBeControlled=function(){n.stopToScrub(),n.isSafeToBeControlled_bl||(n.hasHours_bl=0<Math.floor(n.video_el.duration/3600),n.isPlaying_bl=!0,n.isSafeToBeControlled_bl=!0,n.video_el.style.visibility="visible",n.dispatchEvent(o.SAFE_TO_SCRUBB))},this.updateProgress=function(){var t=0;0<n.video_el.buffered.length&&(t=n.video_el.buffered.end(n.video_el.buffered.length-1).toFixed(1)/n.video_el.duration.toFixed(1),!isNaN(t)&&t||(t=0)),1==t&&n.video_el.removeEventListener("progress",n.updateProgress),n.dispatchEvent(o.LOAD_PROGRESS,{percent:t})},this.updateVideo=function(){var t;n.allowScrubing_bl||(t=n.video_el.currentTime/n.video_el.duration,n.dispatchEvent(o.UPDATE,{percent:t}));var e=n.formatTime(n.video_el.duration),i=n.formatTime(n.video_el.currentTime);isNaN(n.video_el.duration)?n.dispatchEvent(o.UPDATE_TIME,{curTime:"00:00",totalTime:"00:00"}):n.dispatchEvent(o.UPDATE_TIME,{curTime:i,totalTime:e}),n.lastPercentPlayed=t,n.curDuration=i},this.startToScrub=function(){n.allowScrubing_bl=!0},this.stopToScrub=function(){n.allowScrubing_bl=!1},this.scrub=function(t,e){e&&n.startToScrub();try{n.video_el.currentTime=n.video_el.duration*t;var i=n.formatTime(n.video_el.duration),s=n.formatTime(n.video_el.currentTime);n.dispatchEvent(o.UPDATE_TIME,{curTime:s,totalTime:i})}catch(e){}},this.replay=function(){n.scrub(0),n.play()},this.setVolume=function(t){t&&(n.volume=t),n.video_el&&(n.video_el.volume=n.volume)},this.formatTime=function(t){var e=Math.floor(t/3600),i=t%3600,s=Math.floor(i/60),o=i%60,a=Math.ceil(o);return s=10<=s?s:"0"+s,a=10<=a?a:"0"+a,isNaN(a)?"00:00":n.hasHours_bl?e+":"+s+":"+a:s+":"+a},this.init()};o.setPrototype=function(){o.prototype=new FWDRLDisplayObject("div")},o.ERROR="error",o.UPDATE="update",o.UPDATE_TIME="updateTime",o.SAFE_TO_SCRUBB="safeToControll",o.LOAD_PROGRESS="loadProgress",o.START="start",o.PLAY="play",o.PAUSE="pause",o.STOP="stop",o.PLAY_COMPLETE="playComplete",o.START_TO_BUFFER="startToBuffer",o.STOP_TO_BUFFER="stopToBuffer",s.FWDRLEVPVideoScreen=o}(window),function(t){var a=function(t,e,i){var s=this,o=a.prototype;this.nImg=t,this.sPath_str=e,this.dPath_str=i,this.n_sdo,this.s_sdo,this.d_sdo,this.toolTipLabel_str,this.totalWidth=this.nImg.width,this.totalHeight=this.nImg.height,this.isSetToDisabledState_bl=!1,this.isDisabled_bl=!1,this.isSelectedFinal_bl=!1,this.isActive_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.allowToCreateSecondButton_bl=!s.isMobile_bl||s.hasPointerEvent_bl,s.init=function(){s.setupMainContainers()},s.setupMainContainers=function(){if(s.n_sdo=new FWDRLDisplayObject("img"),s.n_sdo.setScreen(s.nImg),s.addChild(s.n_sdo),s.allowToCreateSecondButton_bl){var t=new Image;if(t.src=s.sPath_str,s.s_sdo=new FWDRLDisplayObject("img"),s.s_sdo.setScreen(t),s.s_sdo.setWidth(s.totalWidth),s.s_sdo.setHeight(s.totalHeight),s.s_sdo.setAlpha(0),s.addChild(s.s_sdo),s.dPath_str){var e=new Image;e.src=s.dPath_str,s.d_sdo=new FWDRLDisplayObject("img"),s.d_sdo.setScreen(e),s.d_sdo.setWidth(s.totalWidth),s.d_sdo.setHeight(s.totalHeight),s.isMobile_bl?s.d_sdo.setX(-100):s.d_sdo.setAlpha(0),s.addChild(s.d_sdo)}}s.setWidth(s.totalWidth),s.setHeight(s.totalHeight),s.setButtonMode(!0),s.isMobile_bl?s.hasPointerEvent_bl?(s.screen.addEventListener("pointerdown",s.onMouseUp),s.screen.addEventListener("pointerover",s.onMouseOver),s.screen.addEventListener("pointerout",s.onMouseOut)):s.screen.addEventListener("touchend",s.onMouseUp):s.screen.addEventListener?(s.screen.addEventListener("mouseover",s.onMouseOver),s.screen.addEventListener("mouseout",s.onMouseOut),s.screen.addEventListener("mousedown",s.onMouseUp)):s.screen.attachEvent&&(s.screen.attachEvent("onmouseover",s.onMouseOver),s.screen.attachEvent("onmouseout",s.onMouseOut),s.screen.attachEvent("onmousedown",s.onMouseUp))},s.onMouseOver=function(t){if(!t.pointerType||t.pointerType==t.MSPOINTER_TYPE_MOUSE){if(s.isDisabled_bl||s.isSelectedFinal_bl)return;s.dispatchEvent(a.MOUSE_OVER,{e:t}),FWDAnimation.killTweensOf(s.s_sdo),FWDAnimation.to(s.s_sdo,.5,{alpha:1,delay:.1,ease:Expo.easeOut})}},s.onMouseOut=function(t){if(!t.pointerType||t.pointerType==t.MSPOINTER_TYPE_MOUSE){if(s.isDisabled_bl||s.isSelectedFinal_bl)return;s.dispatchEvent(a.MOUSE_OUT,{e:t}),FWDAnimation.killTweensOf(s.s_sdo),FWDAnimation.to(s.s_sdo,.5,{alpha:0,ease:Expo.easeOut})}},s.onMouseUp=function(t){t.preventDefault&&t.preventDefault(),s.isDisabled_bl||2==t.button||s.isSelectedFinal_bl||s.dispatchEvent(a.MOUSE_UP,{e:t})},s.setSelctedFinal=function(){s.isSelectedFinal_bl=!0,FWDAnimation.killTweensOf(s.s_sdo),FWDAnimation.to(s.s_sdo,.8,{alpha:1,ease:Expo.easeOut}),s.setButtonMode(!1)},s.setUnselctedFinal=function(){s.isSelectedFinal_bl=!1,FWDAnimation.to(s.s_sdo,.8,{alpha:0,delay:.1,ease:Expo.easeOut}),s.setButtonMode(!0)},this.setDisabledState=function(){s.isSetToDisabledState_bl||(s.isSetToDisabledState_bl=!0,s.isMobile_bl?s.d_sdo.setX(0):(FWDAnimation.killTweensOf(s.d_sdo),FWDAnimation.to(s.d_sdo,.8,{alpha:1,ease:Expo.easeOut})))},this.setEnabledState=function(){s.isSetToDisabledState_bl&&(s.isSetToDisabledState_bl=!1,s.isMobile_bl?s.d_sdo.setX(-100):(FWDAnimation.killTweensOf(s.d_sdo),FWDAnimation.to(s.d_sdo,.8,{alpha:0,delay:.1,ease:Expo.easeOut})))},this.disable=function(){s.isDisabled_bl=!0,s.setButtonMode(!1)},this.enable=function(){s.isDisabled_bl=!1,s.setButtonMode(!0)},s.destroy=function(){s.isMobile_bl?s.hasPointerEvent_bl?(s.screen.removeEventListener("pointerdown",s.onMouseUp),s.screen.removeEventListener("pointerover",s.onMouseOver),s.screen.removeEventListener("pointerout",s.onMouseOut)):s.screen.removeEventListener("touchend",s.onMouseUp):s.screen.removeEventListener?(s.screen.removeEventListener("mouseover",s.onMouseOver),s.screen.removeEventListener("mouseout",s.onMouseOut),s.screen.removeEventListener("mousedown",s.onMouseUp)):s.screen.detachEvent&&(s.screen.detachEvent("onmouseover",s.onMouseOver),s.screen.detachEvent("onmouseout",s.onMouseOut),s.screen.detachEvent("onmousedown",s.onMouseUp)),FWDAnimation.killTweensOf(s.s_sdo),s.n_sdo.destroy(),s.s_sdo.destroy(),s.d_sdo&&(FWDAnimation.killTweensOf(s.d_sdo),s.d_sdo.destroy()),s.nImg=null,s.sImg=null,s.dImg=null,s.n_sdo=null,s.s_sdo=null,s.d_sdo=null,sImg=t=null,dImg=null,s.toolTipLabel_str=null,s.init=null,s.setupMainContainers=null,s.onMouseOver=null,s.onMouseOut=null,s.onClick=null,s.onMouseDown=null,s.setSelctedFinal=null,s.setUnselctedFinal=null,s.setInnerHTML(""),o.destroy(),o=s=null,a.prototype=null},s.init()};a.setPrototype=function(){a.prototype=null,a.prototype=new FWDRLDisplayObject("div")},a.CLICK="onClick",a.MOUSE_OVER="onMouseOver",a.MOUSE_OUT="onMouseOut",a.MOUSE_UP="onMouseDown",a.prototype=null,t.FWDRLEVPVolumeButton=a}(window),function(a){var n=function(t){var o=this;n.prototype;this.appId=t;o.init=function(){o.checkFBRoot(),a.fbAsyncInit||o.connect()},this.checkFBRoot=function(){var t=Boolean(document.getElementById("fb-root"));t||((t=document.createElement("div")).id="fb-root",document.getElementsByTagName("body")[0].appendChild(t))},this.connect=function(){var t,e,i,s;o.hasStartedToConnect_bl||(o.hasStartedToConnect_bl=!0,o.isAPIReadyId_to=setTimeout(function(){o.dispatchEvent(n.API_ERROR,{error:"Error loading Faceboook API!"})},6e3),a.fbAsyncInit=function(){FB.init({appId:o.appId,xfbml:!0,cookie:!0,status:!0,version:"v2.4"}),clearTimeout(o.isAPIReadyId_to),o.dispatchEvent(n.API_READY)},t=document,e="facebook-jssdk",s=t.getElementsByTagName("script")[0],t.getElementById(e)||((i=t.createElement("script")).id=e,i.src="https://connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(i,s)))},this.share=function(t,e,i){i&&e?FB.ui({method:"feed",link:t,caption:i,picture:e},function(t){}):i?FB.ui({method:"feed",link:t,caption:i},function(t){}):e?FB.ui({method:"feed",link:t,picture:e},function(t){}):FB.ui({method:"feed",link:t},function(t){})},o.init()};n.setPrototype=function(){n.prototype=new FWDRLEventDispatcher},n.prototype=null,n.API_READY="facebookAPIReady",n.API_ERROR="facebookAPIError",a.FWDRLFacebookShare=n}(window);var FWDRLFlashTest=function(){var h="undefined",u="object",c="Shockwave Flash",_="application/x-shockwave-flash",m=window,b=document,f=navigator,s=function(){var t=typeof b.getElementById!=h&&typeof b.getElementsByTagName!=h&&typeof b.createElement!=h,e=f.userAgent.toLowerCase(),i=f.platform.toLowerCase(),s=/win/.test(i||e),o=/mac/.test(i||e),a=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),n=!1,r=[0,0,0],l=null;if(typeof f.plugins!=h&&typeof f.plugins[c]==u)!(l=f.plugins[c].description)||typeof f.mimeTypes!=h&&f.mimeTypes[_]&&!f.mimeTypes[_].enabledPlugin||(n=!!0,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),r[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),r[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),r[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof m.ActiveXObject!=h)try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");d&&(l=d.GetVariable("$version"))&&(n=!0,l=l.split(" ")[1].split(","),r=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}catch(t){}return{w3:t,pv:r,wk:a,ie:n,win:s,mac:o}}();function t(t){var e=s.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}return{hasFlashPlayerVersion:t}}();!function(s){var o=function(t,e){var i=this;o.prototype;this.screenToTest=t,this.hideDelay=e,this.globalX=0,this.globalY=0,this.currentTime,this.checkIntervalId_int,this.hideCompleteId_to,this.hasInitialTestEvents_bl=!1,this.addSecondTestEvents_bl=!1,this.dispatchOnceShow_bl=!0,this.dispatchOnceHide_bl=!1,this.isStopped_bl=!0,this.isHidden_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,i.init=function(){},i.start=function(){i.currentTime=(new Date).getTime(),clearInterval(i.checkIntervalId_int),i.checkIntervalId_int=setInterval(i.update,100),i.addMouseOrTouchCheck(),i.isStopped_bl=!1},i.stop=function(){clearInterval(i.checkIntervalId_int),i.isStopped_bl=!0,i.removeMouseOrTouchCheck(),i.removeMouseOrTouchCheck2()},i.addMouseOrTouchCheck=function(){i.hasInitialTestEvents_bl||(i.hasInitialTestEvents_bl=!0,i.isMobile_bl?i.hasPointerEvent_bl?(i.screenToTest.screen.addEventListener("pointerdown",i.onMouseOrTouchUpdate),i.screenToTest.screen.addEventListener("pointermove",i.onMouseOrTouchUpdate)):i.screenToTest.screen.addEventListener("touchstart",i.onMouseOrTouchUpdate):s.addEventListener?s.addEventListener("mousemove",i.onMouseOrTouchUpdate):document.attachEvent&&document.attachEvent("onmousemove",i.onMouseOrTouchUpdate))},i.removeMouseOrTouchCheck=function(){i.hasInitialTestEvents_bl&&(i.hasInitialTestEvents_bl=!1,i.isMobile_bl?i.hasPointerEvent_bl?(i.screenToTest.screen.removeEventListener("pointerdown",i.onMouseOrTouchUpdate),i.screenToTest.screen.removeEventListener("pointermove",i.onMouseOrTouchUpdate)):i.screenToTest.screen.removeEventListener("touchstart",i.onMouseOrTouchUpdate):s.removeEventListener?s.removeEventListener("mousemove",i.onMouseOrTouchUpdate):document.detachEvent&&document.detachEvent("onmousemove",i.onMouseOrTouchUpdate))},i.addMouseOrTouchCheck2=function(){i.addSecondTestEvents_bl||(i.addSecondTestEvents_bl=!0,i.screenToTest.screen.addEventListener?i.screenToTest.screen.addEventListener("mousemove",i.secondTestMoveDummy):i.screenToTest.screen.attachEvent&&i.screenToTest.screen.attachEvent("onmousemove",i.secondTestMoveDummy))},i.removeMouseOrTouchCheck2=function(){i.addSecondTestEvents_bl&&(i.addSecondTestEvents_bl=!1,i.screenToTest.screen.removeEventListener?i.screenToTest.screen.removeEventListener("mousemove",i.secondTestMoveDummy):i.screenToTest.screen.detachEvent&&i.screenToTest.screen.detachEvent("onmousemove",i.secondTestMoveDummy))},this.secondTestMoveDummy=function(){i.removeMouseOrTouchCheck2(),i.addMouseOrTouchCheck()},i.onMouseOrTouchUpdate=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);i.globalX!=e.screenX&&i.globalY!=e.screenY&&(i.currentTime=(new Date).getTime()),i.globalX=e.screenX,i.globalY=e.screenY,i.isMobile_bl||FWDRLUtils.hitTest(i.screenToTest.screen,i.globalX,i.globalY)||(i.removeMouseOrTouchCheck(),i.addMouseOrTouchCheck2())},i.update=function(t){(new Date).getTime()>i.currentTime+i.hideDelay?i.dispatchOnceShow_bl&&(i.dispatchOnceHide_bl=!0,i.dispatchOnceShow_bl=!1,i.isHidden_bl=!0,i.dispatchEvent(o.HIDE),clearTimeout(i.hideCompleteId_to),i.hideCompleteId_to=setTimeout(function(){i.dispatchEvent(o.HIDE_COMPLETE)},1e3)):i.dispatchOnceHide_bl&&(clearTimeout(i.hideCompleteId_to),i.dispatchOnceHide_bl=!1,i.dispatchOnceShow_bl=!0,i.isHidden_bl=!1,i.dispatchEvent(o.SHOW))},i.reset=function(){i.isHidden_bl=!1,clearTimeout(i.hideCompleteId_to),i.currentTime=(new Date).getTime(),i.dispatchEvent(o.SHOW)},i.init()};o.HIDE="hide",o.SHOW="show",o.HIDE_COMPLETE="hideComplete",o.setPrototype=function(){o.prototype=new FWDRLEventDispatcher},s.FWDRLHider=o}(window),function(s){var o=function(t,e){var i=this;o.prototype;this.textHolder_do=null,this.img_do,this.warningIconPath_str=e,this.show_to=null,this.isShowed_bl=!1,this.isShowedOnce_bl=!1,this.allowToRemove_bl=!0,this.init=function(){i.setResizableSizeAfterParent(),i.getStyle().width="80%",i.textHolder_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIEAndLessThen9||(i.textHolder_do.getStyle().font="Arial"),i.textHolder_do.getStyle().wordWrap="break-word",i.textHolder_do.getStyle().padding="10px",i.textHolder_do.getStyle().paddingLeft="42px",i.textHolder_do.getStyle().lineHeight="18px",i.textHolder_do.setBkColor("#EEEEEE");var t=new Image;t.src=this.warningIconPath_str,this.img_do=new FWDRLDisplayObject("img"),this.img_do.setScreen(t),this.img_do.setWidth(28),this.img_do.setHeight(28),i.addChild(i.textHolder_do),i.addChild(i.img_do)},this.showText=function(t){i.isShowedOnce_bl||(s.addEventListener("click",i.closeWindow),i.isShowedOnce_bl=!0),i.textHolder_do.setInnerHTML(t),clearTimeout(i.show_to),i.show()},this.show=function(){i.isShowed_bl=!0,i.setVisible(!0),setTimeout(function(){i.positionAndResize()},60)},this.positionAndResize=function(){i.setHeight(i.textHolder_do.getHeight()),i.img_do.setX(6),i.img_do.setY(parseInt((i.h-i.img_do.h)/2))},this.closeWindow=function(){if(i.allowToRemove_bl){i.isShowed_bl=!1,clearTimeout(i.show_to);try{t.main_do.removeChild(i)}catch(t){}}},this.init()};o.setPrototype=function(){o.prototype=new FWDRLDisplayObject("div","relative")},o.prototype=null,s.FWDRLInfo=o}(window),function(t){var r=function(t,e,i,s,o,a){var n=this;r.prototype;this.imageSource_img=t,this.image_sdo=null,this.segmentWidth=e,this.segmentHeight=i,this.totalSegments=s,this.animDelay=o||300,this.count=0,this.delayTimerId_int,this.isShowed_bl=!0,this.skipFirstFrame_bl=a,n.init=function(){n.getStyle().pointerEvents="none",n.setWidth(n.segmentWidth),n.setHeight(n.segmentHeight),n.image_sdo=new FWDRLDisplayObject("img"),n.image_sdo.setScreen(n.imageSource_img),n.image_sdo.hasTransform3d_bl=!1,n.image_sdo.hasTransform2d_bl=!1,n.addChild(n.image_sdo),n.hide(!1)},n.start=function(){null!=n&&(clearInterval(n.delayTimerId_int),n.delayTimerId_int=setInterval(n.updatePreloader,n.animDelay))},n.stop=function(){clearInterval(n.delayTimerId_int),n.image_sdo.setX(0)},n.updatePreloader=function(){if(null!=n){n.count++,n.count>n.totalSegments-1&&(n.skipFirstFrame_bl?n.count=1:n.count=0);var t=n.count*n.segmentWidth;n.image_sdo.setX(-t)}},n.show=function(){n.setVisible(!0),n.start(),FWDAnimation.killTweensOf(n),FWDAnimation.to(n,.8,{alpha:1,ease:Quart.easeOut}),n.isShowed_bl=!0},n.hide=function(t){n.isShowed_bl&&(FWDAnimation.killTweensOf(n),t?FWDAnimation.to(n,.8,{alpha:0,onComplete:n.onHideComplete,ease:Quart.easeOut}):(n.setVisible(!1),n.setAlpha(0)),n.isShowed_bl=!1)},n.onHideComplete=function(){n.stop(),n.setVisible(!1),n.dispatchEvent(r.HIDE_COMPLETE)},n.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div")},r.HIDE_COMPLETE="hideComplete",r.prototype=null,t.FWDRLPreloader=r}(window),function(t){var a=function(t,e,i,s){var o=this;a.prototype;this.nImg=t,this.sPath_str=e,this.dPath_str=i,this.buttonsHolder_do,this.n_sdo,this.s_sdo,this.d_sdo,this.toolTipLabel_str,this.totalWidth=this.nImg.width,this.totalHeight=this.nImg.height,this.isShowed_bl=!0,this.isSetToDisabledState_bl=!1,this.isDisabled_bl=!1,this.isDisabledForGood_bl=!1,this.isSelectedFinal_bl=!1,this.isActive_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.allowToCreateSecondButton_bl=!o.isMobile_bl||o.hasPointerEvent_bl||s,o.init=function(){o.setupMainContainers()},o.setupMainContainers=function(){if(o.setBackfaceVisibility(),o.hasTransform3d_bl=!1,o.hasTransform2d_bl=!1,o.buttonsHolder_do=new FWDRLDisplayObject("div"),o.buttonsHolder_do.setOverflow("visible"),o.buttonsHolder_do.setBackfaceVisibility(),o.buttonsHolder_do.hasTransform3d_bl=!1,o.buttonsHolder_do.hasTransform2d_bl=!1,o.n_sdo=new FWDRLDisplayObject("img"),o.n_sdo.setScreen(o.nImg),o.n_sdo.setBackfaceVisibility(),o.n_sdo.hasTransform3d_bl=!1,o.n_sdo.hasTransform2d_bl=!1,o.buttonsHolder_do.addChild(o.n_sdo),o.allowToCreateSecondButton_bl){var t=new Image;if(t.src=o.sPath_str,o.s_sdo=new FWDRLDisplayObject("img"),o.s_sdo.setScreen(t),o.s_sdo.setWidth(o.totalWidth),o.s_sdo.setHeight(o.totalHeight),o.s_sdo.setAlpha(0),o.s_sdo.setBackfaceVisibility(),o.s_sdo.hasTransform3d_bl=!1,o.s_sdo.hasTransform2d_bl=!1,o.buttonsHolder_do.addChild(o.s_sdo),o.dPath_str){var e=new Image;e.src=o.dPath_str,o.d_sdo=new FWDRLDisplayObject("img"),o.d_sdo.setScreen(e),o.d_sdo.setWidth(o.totalWidth),o.d_sdo.setHeight(o.totalHeight),o.d_sdo.setX(-100),o.d_sdo.setBackfaceVisibility(),o.d_sdo.hasTransform3d_bl=!1,o.d_sdo.hasTransform2d_bl=!1,o.buttonsHolder_do.addChild(o.d_sdo)}}o.setWidth(o.totalWidth),o.setHeight(o.totalHeight),o.setButtonMode(!0),o.screen.style.yellowOverlayPointerEvents="none",o.addChild(o.buttonsHolder_do),o.isMobile_bl?o.hasPointerEvent_bl?(o.screen.addEventListener("pointerup",o.onMouseUp),o.screen.addEventListener("pointerover",o.onMouseOver),o.screen.addEventListener("pointerout",o.onMouseOut)):o.screen.addEventListener("touchend",o.onMouseUp):o.screen.addEventListener?(o.screen.addEventListener("mouseover",o.onMouseOver),o.screen.addEventListener("mouseout",o.onMouseOut),o.screen.addEventListener("mouseup",o.onMouseUp)):o.screen.attachEvent&&(o.screen.attachEvent("onmouseover",o.onMouseOver),o.screen.attachEvent("onmouseout",o.onMouseOut),o.screen.attachEvent("onmouseup",o.onMouseUp))},o.onMouseOver=function(t){if(o.dispatchEvent(a.SHOW_TOOLTIP,{e:t}),!(o.isDisabledForGood_bl||t.pointerType&&t.pointerType!=t.MSPOINTER_TYPE_MOUSE&&"mouse"!=t.pointerType)){if(o.isDisabled_bl||o.isSelectedFinal_bl)return;o.dispatchEvent(a.MOUSE_OVER,{e:t}),o.setSelectedState()}},o.onMouseOut=function(t){if(!(o.isDisabledForGood_bl||t.pointerType&&t.pointerType!=t.MSPOINTER_TYPE_MOUSE&&"mouse"!=t.pointerType)){if(o.isDisabled_bl||o.isSelectedFinal_bl)return;o.dispatchEvent(a.MOUSE_OUT,{e:t}),o.setNormalState()}},o.onMouseUp=function(t){o.isDisabledForGood_bl||(t.preventDefault&&t.preventDefault(),o.isDisabled_bl||2==t.button||o.dispatchEvent(a.MOUSE_UP,{e:t}))},o.setSelected=function(){o.isSelectedFinal_bl=!0,o.s_sdo&&(FWDAnimation.killTweensOf(o.s_sdo),FWDAnimation.to(o.s_sdo,.8,{alpha:1,ease:Expo.easeOut}))},o.setUnselected=function(){o.isSelectedFinal_bl=!1,o.s_sdo&&FWDAnimation.to(o.s_sdo,.8,{alpha:0,delay:.1,ease:Expo.easeOut})},this.setNormalState=function(){o.s_sdo&&(FWDAnimation.killTweensOf(o.s_sdo),FWDAnimation.to(o.s_sdo,.5,{alpha:0,ease:Expo.easeOut}))},this.setSelectedState=function(){o.s_sdo&&(FWDAnimation.killTweensOf(o.s_sdo),FWDAnimation.to(o.s_sdo,.5,{alpha:1,delay:.1,ease:Expo.easeOut}))},this.setDisabledState=function(){o.isSetToDisabledState_bl||(o.isSetToDisabledState_bl=!0,o.d_sdo&&o.d_sdo.setX(0))},this.setEnabledState=function(){o.isSetToDisabledState_bl&&(o.isSetToDisabledState_bl=!1,o.d_sdo&&o.d_sdo.setX(-100))},this.disable=function(t){o.isDisabledForGood_bl||o.isDisabled_bl||(o.isDisabled_bl=!0,o.setButtonMode(!1),FWDAnimation.to(o,.6,{alpha:.4}),t||o.setNormalState())},this.enable=function(){!o.isDisabledForGood_bl&&o.isDisabled_bl&&(o.isDisabled_bl=!1,o.setButtonMode(!0),FWDAnimation.to(o,.6,{alpha:1}))},this.disableForGood=function(){o.isDisabledForGood_bl=!0,o.setButtonMode(!1)},this.showDisabledState=function(){0!=o.d_sdo.x&&o.d_sdo.setX(0)},this.hideDisabledState=function(){-100!=o.d_sdo.x&&o.d_sdo.setX(-100)},this.show=function(){o.isShowed_bl||(o.isShowed_bl=!0,FWDAnimation.killTweensOf(o),FWDRLUtils.isIEAndLessThen9?(FWDRLUtils.isIEAndLessThen9||(o.setAlpha(0),FWDAnimation.to(o,.4,{alpha:1,delay:.4})),o.setVisible(!0)):FWDRLUtils.isIEWebKit?(FWDAnimation.killTweensOf(o.n_sdo),o.n_sdo.setScale2(0),FWDAnimation.to(o.n_sdo,.8,{scale:1,delay:.4,onStart:function(){o.setVisible(!0)},ease:Elastic.easeOut})):(o.setScale2(0),FWDAnimation.to(o,.8,{scale:1,delay:.4,onStart:function(){o.setVisible(!0)},ease:Elastic.easeOut})))},this.hide=function(t){o.isShowed_bl&&(o.isShowed_bl=!1,FWDAnimation.killTweensOf(o),FWDAnimation.killTweensOf(o.n_sdo),o.setVisible(!1))},o.init()};a.setPrototype=function(t){a.prototype=null,a.prototype=t?new FWDRLTransformDisplayObject("div"):new FWDRLDisplayObject("div")},a.CLICK="onClick",a.MOUSE_OVER="onMouseOver",a.SHOW_TOOLTIP="showTooltip",a.MOUSE_OUT="onMouseOut",a.MOUSE_UP="onMouseDown",a.prototype=null,t.FWDRLSimpleButton=a}(window),function(t){var n=function(t,e,i,s,o){var a=this;n.prototype;this.imageSource_img=t,this.image_do=null,this.tweenObj={currentPos:0},this.segmentWidth=e,this.segmentHeight=i,this.totalSegments=s,this.duration=o/1e3,this.delayTimerId_int,a.init=function(){a.setWidth(a.segmentWidth),a.setHeight(a.segmentHeight),a.image_do=new FWDRLDisplayObject("img"),a.image_do.setScreen(a.imageSource_img),a.addChild(a.image_do),a.onUpdateHandler()},a.animShow=function(){FWDAnimation.killTweensOf(a.tweenObj),a.currentPos=0,FWDAnimation.to(a.tweenObj,a.duration,{currentPos:1,ease:Linear.easeNone,onUpdate:a.onUpdateHandler})},a.animHide=function(){FWDAnimation.killTweensOf(a.tweenObj),FWDAnimation.to(a.tweenObj,.8,{currentPos:0,onUpdate:a.onUpdateHandler})},a.animReset=function(){FWDAnimation.killTweensOf(a.tweenObj),a.tweenObj.currentPos=0,a.onUpdateHandler()},a.onUpdateHandler=function(){var t=Math.round(a.tweenObj.currentPos/1*(a.totalSegments-1))*a.segmentWidth;a.image_do.setX(-t)},a.show=function(){a.setVisible(!0),"opacity"==a.opacityType?(FWDAnimation.killTweensOf(a.image_do),FWDAnimation.to(a.image_do,1,{alpha:1})):a.setWidth(a.segmentWidth)},a.hide=function(t){t?"opacity"==a.opacityType?(FWDAnimation.killTweensOf(a.image_do),FWDAnimation.to(a.image_do,1,{alpha:0,onComplete:hideCompleteHandler})):a.setWidth(0):(a.setVisible(!1),"opacity"==a.opacityType?(FWDAnimation.killTweensOf(a.image_do),a.image_do.setAlpha(0)):a.setWidth(0))},a.hideCompleteHandler=function(){a.setVisible(!1)},a.init()};n.setPrototype=function(){n.prototype=new FWDRLDisplayObject("div")},n.prototype=null,t.FWDRLSlideShowPreloader=n}(window),function(f){var p=function(r,t,e,i,s,o,a,n,l,d,h,u,c,_){var m=this,b=p.prototype;this.background_do=null,this.image_do=null,this.overlay_do=null,this.icon_do=null,this.iconImg_img=null,this.borderNormalColor_str=n||data.thumbnailBorderNormalColor_str,this.borderSelectedColor_str=l||data.thumbnailBorderSelectedColor_str,this.thumbnailsOverlayColor_str=d,this.iconPath_str=u,this.thumbnailsHoverEffect_str=h,this.id=t,this.borderSize=s,this.borderRadius=o,this.thumbnailH=e,this.thumbnailsOffsetBottom=i,this.overlayOpacity=a,this.isSelected_bl=!0,this.isDisabled_bl=!1,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.isMobile_bl=FWDRLUtils.isMobile,this.showOverlay_bl=c,this.isMobile_bl&&(this.showOverlay_bl=!1),this.showIcon_bl=_,this.isMobile_bl&&(this.showIcon_bl=!1),m.init=function(){m.setButtonMode(!0),m.setupScreen()},m.setupScreen=function(){m.background_do=new FWDRLDisplayObject("div"),m.borderRadius&&(m.getStyle().borderRadius=m.borderRadius+"px"),m.setNormalState(!1),0!=m.borderRadius&&(m.background_do.getStyle().borderRadius=m.borderRadius+"px"),m.addChild(m.background_do)},m.setImage=function(t){m.image_do=new FWDRLDisplayObject("img"),m.image_do.setScreen(t);var e=t.width,i=t.height,s=m.thumbnailH-2*m.borderSize,o=s/i,a=parseInt(s+2*m.borderSize),n=parseInt(e*o+2*m.borderSize);m.background_do&&(m.background_do.setWidth(n),m.background_do.setHeight(a)),m.image_do.setX(m.borderSize),m.image_do.setY(m.borderSize),m.image_do.setWidth(parseInt(n-2*m.borderSize)),m.image_do.setHeight(s),m.setWidth(n),m.setHeight(a),m.isMobile_bl?(m.hasPointerEvent_bl&&m.screen.addEventListener("pointerup",m.onMouseClickHandler),m.screen.addEventListener("click",m.onMouseClickHandler)):m.screen.addEventListener?(m.screen.addEventListener("mouseover",m.onMouseOverHandler),m.screen.addEventListener("click",m.onMouseClickHandler)):m.screen.attachEvent&&(m.screen.attachEvent("onmouseover",m.onMouseOverHandler),m.screen.attachEvent("onclick",m.onMouseClickHandler)),m.addChild(m.image_do),m.isMobile_bl||(m.showOverlay_bl&&(m.overlay_do=new FWDRLDisplayObject("div"),m.overlay_do.setX(m.borderSize),m.overlay_do.setY(m.borderSize),m.overlay_do.setWidth(n-2*m.borderSize),m.overlay_do.setHeight(a-2*m.borderSize),m.overlay_do.setBkColor(this.thumbnailsOverlayColor_str),m.addChild(m.overlay_do),setTimeout(function(){m&&m.overlay_do.setAlpha(0)},50)),m.showIcon_bl&&(m.icon_do=new FWDRLTransformDisplayObject("img"),m.iconImg_img=new Image,m.iconImg_img.onload=function(){m.icon_do.setScreen(m.iconImg_img),m.icon_do.setX(parseInt((n-m.icon_do.w)/2)),m.icon_do.setY(parseInt((a-m.icon_do.h)/2)),m.addChild(m.icon_do),setTimeout(function(){m&&m.icon_do.setAlpha(0)},50)},m.iconImg_img.src=m.iconPath_str)),m.hide(!1),m.show(!0),r.id==m.id&&m.disable()},m.onMouseOverHandler=function(t){m.dispatchEvent(p.HOVER),m.isDisabled_bl||(t.pointerType&&t.pointerType!=t.MSPOINTER_TYPE_MOUSE||m.setSelectedState(!0),m.startToCheckTest())},m.startToCheckTest=function(){f.addEventListener?f.addEventListener("mousemove",m.checkHitTest):document.attachEvent&&(document.detachEvent("onmousemove",m.checkHitTest),document.attachEvent("onmousemove",m.checkHitTest))},m.stopToCheckTest=function(){f.removeEventListener?f.removeEventListener("mousemove",m.checkHitTest):document.detachEvent&&document.detachEvent("onmousemove",m.checkHitTest)},m.checkHitTest=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);FWDRLUtils.hitTest(m.screen,e.screenX,e.screenY)||(m.onMouseOutHandler(t),m.stopToCheckTest())},m.onMouseOutHandler=function(t){m.isDisabled_bl||t.pointerType&&t.pointerType!=t.MSPOINTER_TYPE_MOUSE||m.setNormalState(!0)},m.onMouseClickHandler=function(t){m.isDisabled_bl||m.dispatchEvent(p.CLICK,{id:m.id})},m.setNormalState=function(t){m.isSelected_bl&&(m.isSelected_bl=!1,FWDAnimation.killTweensOf(m.background_do.screen),m.overlay_do&&m.showOverlay_bl&&FWDAnimation.to(m.overlay_do,.8,{alpha:0,ease:Expo.easeOut}),m.icon_do&&m.showIcon_bl&&(FWDAnimation.killTweensOf(m.icon_do),m.icon_do.hasTransform2d_bl&&"scale"==m.thumbnailsHoverEffect_str?FWDAnimation.to(m.icon_do,.5,{scale:1,alpha:0,ease:Expo.easeOut}):FWDAnimation.to(m.icon_do,.8,{alpha:0,ease:Expo.easeOut})),t?0!=m.borderSize&&FWDAnimation.to(m.background_do.screen,.8,{css:{backgroundColor:m.borderNormalColor_str},ease:Expo.easeOut}):0!=m.borderSize&&(m.background_do.getStyle().backgroundColor=m.borderNormalColor_str))},m.setSelectedState=function(t){m.isSelected_bl||(m.isSelected_bl=!0,m.overlay_do&&m.showOverlay_bl&&FWDAnimation.to(m.overlay_do,.8,{alpha:m.overlayOpacity,ease:Expo.easeOut}),m.icon_do&&m.showIcon_bl&&(FWDAnimation.killTweensOf(m.icon_do),m.icon_do.hasTransform2d_bl&&"scale"==m.thumbnailsHoverEffect_str?(m.icon_do.setAlpha(0),m.icon_do.setScale2(3),FWDAnimation.to(m.icon_do,.5,{scale:1,alpha:1,ease:Expo.easeInOut})):FWDAnimation.to(m.icon_do,.8,{alpha:1,ease:Expo.easeOut})),t?0!=m.borderSize&&FWDAnimation.to(m.background_do.screen,.8,{css:{backgroundColor:m.borderSelectedColor_str},ease:Expo.easeOut}):0!=m.borderSize&&(m.background_do.getStyle().backgroundColor=m.borderSelectedColor_str))},m.show=function(t){FWDAnimation.killTweensOf(m),t?FWDAnimation.to(m,.8,{y:0,ease:Expo.easeInOut}):m.setY(0)},m.hide=function(t){FWDAnimation.killTweensOf(m),t?FWDAnimation.to(m,.8,{y:m.thumbnailsOffsetBottom+m.thumbnailH+2}):m.setY(m.thumbnailsOffsetBottom+m.thumbnailH+2)},m.enable=function(){m.isDisabled_bl&&(m.isDisabled_bl=!1,FWDAnimation.to(m.background_do,.8,{alpha:1,ease:Quint.easeOut}),m.icon_do&&FWDAnimation.to(m.icon_do,.8,{alpha:1,ease:Quint.easeOut}),m.image_do&&FWDAnimation.to(m.image_do,.8,{alpha:1,ease:Quint.easeOut}),m.overlay_do&&FWDAnimation.to(m.overlay_do,.8,{alpha:0,ease:Quint.easeOut}),m.setNormalState(!0),m.setButtonMode(!0))},m.disable=function(){m.isDisabled_bl=!0,FWDAnimation.to(m.background_do,.8,{alpha:.4,ease:Quint.easeOut}),m.setSelectedState(!0),m.icon_do&&FWDAnimation.to(m.icon_do,.8,{alpha:0,ease:Quint.easeOut}),m.image_do&&FWDAnimation.to(m.image_do,.8,{alpha:.4,ease:Quint.easeOut}),m.overlay_do&&FWDAnimation.to(m.overlay_do,.8,{alpha:0,ease:Quint.easeOut}),m.stopToCheckTest(),m.setButtonMode(!1)},m.destroy=function(){m.iconImg_img&&(m.iconImg_img.onload=null,m.iconImg_img.onerror=null),FWDAnimation.killTweensOf(m.background_do),m.background_do.destroy(),m.image_do&&(FWDAnimation.killTweensOf(m.image_do),m.image_do.destroy()),m.overlay_do&&(FWDAnimation.killTweensOf(m.overlay_do),m.overlay_do.destroy()),m.icon_do&&(FWDAnimation.killTweensOf(m.icon_do),m.icon_do.destroy()),m.isMobile_bl?m.hasPointerEvent_bl?(m.screen.removeEventListener("pointerover",m.onMouseOverHandler),m.screen.removeEventListener("pointerup",m.onMouseClickHandler)):m.screen.removeEventListener("touchend",m.onMouseClickHandler):m.screen.removeEventListener?(m.screen.removeEventListener("mouseover",m.onMouseOverHandler),m.screen.removeEventListener("click",m.onMouseClickHandler),f.removeEventListener("mousemove",m.checkHitTest)):m.screen.detachEvent&&(m.screen.detachEvent("onmouseover",m.onMouseOverHandler),m.screen.detachEvent("onclick",m.onMouseClickHandler),document.detachEvent("onmousemove",m.checkHitTest)),m.iconImg_img=null,m.background_do=null,m.image_do=null,m.overlay_do=null,m.icon_do=null,m.setInnerHTML(""),b.destroy(),m=b=null,p.prototype=null},m.init()};p.setPrototype=function(){p.prototype=new FWDRLDisplayObject("div")},p.HOVER="onHover",p.CLICK="onClick",p.IFRAME="iframe",p.IMAGE="image",p.FLASH="flash",p.AUDIO="audio",p.VIDEO="video",p.VIMEO="vimeo",p.YOUTUBE="youtube",p.MAPS="maps",p.AJAX="ajax",p.HTML="html",p.prototype=null,f.FWDRLThumb=p}(window),function(i){var t=function(o){var a=this;t.prototype;this.playlist_ar=null,this.thumbs_ar=null,this.mainHolder_do=null,this.thumbnailsHolder_do=null,this.thumbnailsBorderNormalColor_str=o.thumbnailsBorderNormalColor_str,this.thumbnailsBorderSelectedColor_str=o.thumbnailsBorderSelectedColor_str,this.thumbnailsOverlayColor_str=o.thumbnailsOverlayColor_str,this.thumbnailsHoverEffect_str=o.thumbnailsHoverEffect_str,this.stageWidth=0,this.stageHeight=o.thumbnailH,this.thumbnailsBorderSize=o.thumbnailsBorderSize,this.thumbnailsBorderRadius=o.thumbnailsBorderRadius,this.thumbnailsOffsetBottom=o.thumbnailsOffsetBottom,this.thumbnailH=o.thumbnailH-this.thumbnailsOffsetBottom,this.spaceBetweenThumbnails=o.spaceBetweenThumbnails,this.totalW=0,this.spaceBetweenThumbnails=o.spaceBetweenThumbnails,this.thumbnailsOverlayOpacity=o.thumbnailsOverlayOpacity,this.vx=0,this.vx2=0,this.friction=.9,this.lastPresedX=0,this.totalThumbnails=0,this.countLoadedThumbs=0,this.id=0,this.loadWithDelayId_to,this.disableOnMoveId_to,this.updateMobileScrollBarId_int,this.showThumbnailsOverlay_bl=o.showThumbnailsOverlay_bl,this.showThumbnailsSmallIcon_bl=o.showThumbnailsSmallIcon_bl,this.areThumbnailTouched_bl=!1,this.isScrolling_bl=!1,this.isShowed_bl=!1,this.areButtonsPositioned_bl=!1,this.areThumbnailsCreated_bl=!1,this.hasSupportForDesktopScroll_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,a.init=function(){a.setOverflow("visible"),a.mainHolder_do=new FWDRLDisplayObject("div"),a.mainHolder_do.setOverflow("visible"),a.thumbnailsHolder_do=new FWDRLDisplayObject("div"),a.thumbnailsHolder_do.setOverflow("visible"),a.mainHolder_do.addChild(a.thumbnailsHolder_do),a.addChild(a.mainHolder_do)},a.positionAndResize=function(){a.areButtonsPositioned_bl=!1,a.stageWidth=o.stageWidth,a.setY(o.stageHeight),a.mainHolder_do.setWidth(a.stageWidth),a.mainHolder_do.setHeight(a.stageHeight),a.areThumbnailsCreated_bl&&a.positionThumbnails(!1)},a.setupThumbnails=function(){a.areThumbnailsCreated_bl=!0,a.areButtonsPositioned_bl=!1,a.thumbs_ar=[],a.playlist_ar=o.playlist_ar,a.totalThumbnails=a.playlist_ar.length,a.countLoadedThumbs=0,a.loadThumbnails(),a.isMobile_bl&&a.addMobileScrollSupport()},a.loadThumbnails=function(){a.countLoadedThumbs>a.totalThumbnails-1||(a.image_img=new Image,a.image_img.onload=a.onThumbnailLoadComplete,a.image_img.src=a.playlist_ar[a.countLoadedThumbs].thumbnailPath_str)},a.onThumbnailLoadComplete=function(t){var e,i=o.playlist_ar[a.countLoadedThumbs].iconType_str;i==FWDRLThumb.IMAGE?e=o.data.imageIconPath_str:i==FWDRLThumb.FLASH?e=o.data.flashIconPath_str:i==FWDRLThumb.AUDIO?e=o.data.audioIconPath_str:i==FWDRLThumb.VIDEO?e=o.data.videoIconPath_str:i==FWDRLThumb.VIMEO?e=o.data.vimeoIconPath_str:i==FWDRLThumb.YOUTUBE?e=o.data.youtubeIconPath_str:i==FWDRLThumb.MAPS?e=o.data.mapsIconPath_str:i==FWDRLThumb.AJAX?e=o.data.ajaxIconPath_str:i==FWDRLThumb.HTML?e=o.data.htmlIconPath_str:i==FWDRLThumb.IFRAME&&(e=o.data.iframeIconPath_str),FWDRLThumb.setPrototype();var s=new FWDRLThumb(a,a.countLoadedThumbs,a.thumbnailH,a.thumbnailsOffsetBottom,a.thumbnailsBorderSize,a.thumbnailsBorderRadius,a.thumbnailsOverlayOpacity,a.thumbnailsBorderNormalColor_str,a.thumbnailsBorderSelectedColor_str,a.thumbnailsOverlayColor_str,a.thumbnailsHoverEffect_str,e,a.showThumbnailsOverlay_bl,a.showThumbnailsSmallIcon_bl);(a.thumbs_ar[a.countLoadedThumbs]=s).addListener(FWDRLThumb.HOVER,a.thumbHoverHandler),s.addListener(FWDRLThumb.CLICK,a.thumbClickHandler),s.setImage(a.image_img),a.totalW+=s.w+a.spaceBetweenThumbnails,a.countLoadedThumbs==a.totalThumbnails-1&&(a.totalW-=a.spaceBetweenThumbnails),0!=a.countLoadedThumbs&&s.setX(a.thumbs_ar[a.countLoadedThumbs-1].x+a.thumbs_ar[a.countLoadedThumbs-1].w+a.spaceBetweenThumbnails),0==a.countLoadedThumbs&&a.thumbnailsHolder_do.setX(parseInt(a.stageWidth-s.w)/2),a.thumbnailsHolder_do.addChild(s),a.isScrolling_bl||a.areThumbnailTouched_bl||a.positionThumbnails(!0),a.totalW>o.stageWidth&&!a.areButtonsPositioned_bl&&o.buttonsAlignment_str!=FWDRL.BUTTONS_IN&&(o.positionButtons(!0),a.areButtonsPositioned_bl=!0),a.countLoadedThumbs++,a.loadWithDelayId_to=setTimeout(a.loadThumbnails,100)},a.stopToLoadThumbanils=function(){a.image_img&&(a.image_img.onload=null,a.image_img.onerror=null,a.image_img.src="",a.image_img=null),clearTimeout(a.loadWithDelayId_to)},a.thumbClickHandler=function(t){o.isShowed_bl&&a.dispatchEvent(FWDRLThumb.CLICK,{id:t.id})},a.thumbHoverHandler=function(){o.isShowed_bl&&a.addDesktopScrollSupport()},a.positionThumbnails=function(t){if(!(!a.areThumbnailsCreated_bl&&o.showThumbnails_bl||a.isScrolling_bl)){a.finalX;var e=a.thumbs_ar[a.id],i=a.thumbs_ar[a.thumbs_ar.length-1];a.totalW<=a.stageWidth?a.finalX=parseInt((a.stageWidth-a.totalW)/2):(a.finalX=e?parseInt(-e.x+(a.stageWidth-e.w)/2):parseInt(-i.x+(a.stageWidth-i.w)/2),0<a.finalX?a.finalX=0:a.finalX<a.stageWidth-a.totalW&&(a.finalX=a.stageWidth-a.totalW)),FWDAnimation.killTweensOf(a.thumbnailsHolder_do),t?FWDAnimation.to(a.thumbnailsHolder_do,.7,{x:a.finalX,ease:Expo.easeOut}):a.thumbnailsHolder_do.setX(a.finalX)}},a.addMobileScrollSupport=function(){a.hasPointerEvent_bl?a.mainHolder_do.screen.addEventListener("pointerdown",a.scrollBarTouchStartHandler):a.mainHolder_do.screen.addEventListener("touchstart",a.scrollBarTouchStartHandler),a.mainHolder_do.screen.addEventListener("mousedown",a.scrollBarTouchStartHandler),a.updateMobileScrollBarId_int=setInterval(a.updateMobileScrollBar,16)},a.removeMobileScrollSupport=function(){a.hasPointerEvent_bl?(a.mainHolder_do.screen.removeEventListener("pointerdown",a.scrollBarTouchStartHandler),i.removeEventListener("pointerup",a.scrollBarTouchEndHandler),i.removeEventListener("pointermove",a.scrollBarTouchMoveHandler)):(a.mainHolder_do.screen.removeEventListener("touchstart",a.scrollBarTouchStartHandler),i.removeEventListener("touchend",a.scrollBarTouchEndHandler),i.removeEventListener("touchmove",a.scrollBarTouchMoveHandler)),clearInterval(a.updateMobileScrollBarId_int),clearInterval(a.updateMoveMobileScrollbarId_int)},a.scrollBarTouchStartHandler=function(t){if(!(a.stageWidth>a.totalW)){var e=FWDRLUtils.getViewportMouseCoordinates(t);a.areThumbnailTouched_bl=!0,FWDAnimation.killTweensOf(a.thumbnailsHolder_do),a.isScrolling_bl=!0,a.finalX=a.thumbnailsHolder_do.x,a.lastPresedX=e.screenX,a.hasPointerEvent_bl?(i.addEventListener("pointerup",a.scrollBarTouchEndHandler),i.addEventListener("pointermove",a.scrollBarTouchMoveHandler)):(i.addEventListener("touchend",a.scrollBarTouchEndHandler),i.addEventListener("touchmove",a.scrollBarTouchMoveHandler)),clearInterval(a.updateMoveMobileScrollbarId_int),a.updateMoveMobileScrollbarId_int=setInterval(a.updateMoveMobileScrollbar,16)}},a.scrollBarTouchMoveHandler=function(t){if(t.preventDefault&&t.preventDefault(),!(a.stageWidth>a.totalW)){var e=FWDRLUtils.getViewportMouseCoordinates(t),i=e.screenX-a.lastPresedX;a.finalX+=i,a.finalX=Math.round(a.finalX),a.lastPresedX=e.screenX,a.vx=2*i,o.showDisable()}},a.scrollBarTouchEndHandler=function(t){a.isScrolling_bl=!1,o.hider.globalY<o.stageHeight-a.stageHeight&&(a.areThumbnailTouched_bl=!1),clearInterval(a.updateMoveMobileScrollbarId_int),clearTimeout(a.disableOnMoveId_to),a.disableOnMoveId_to=setTimeout(function(){o.hideDisable()},100),a.hasPointerEvent_bl?(i.removeEventListener("pointerup",a.scrollBarTouchEndHandler),i.removeEventListener("pointermove",a.scrollBarTouchMoveHandler)):(i.removeEventListener("touchend",a.scrollBarTouchEndHandler),i.removeEventListener("touchmove",a.scrollBarTouchMoveHandler))},a.updateMoveMobileScrollbar=function(){a.thumbnailsHolder_do.setX(a.finalX)},a.updateMobileScrollBar=function(t){a.stageWidth>a.totalW||a.finalX==a.prevX||a.isScrolling_bl||(a.vx*=a.friction,a.finalX+=a.vx,0<a.finalX?(a.vx2=.3*(0-a.finalX),a.vx*=a.friction,a.finalX+=a.vx2):a.finalX<a.stageWidth-a.totalW&&(a.vx2=.3*(a.stageWidth-a.totalW-a.finalX),a.vx*=a.friction,a.finalX+=a.vx2),a.finalX=Math.round(a.finalX),a.prevX=a.thumbnailsHolder_do.x,FWDAnimation.killTweensOf(a.thumbnailsHolder_do),FWDAnimation.to(a.thumbnailsHolder_do,.3,{x:a.finalX,ease:Expo.easeOut}))},a.addDesktopScrollSupport=function(){a.hasSupportForDesktopScroll_bl||a.totalW<a.stageWidth||(a.hasSupportForDesktopScroll_bl=!0,a.isScrolling_bl=!0,i.addEventListener?i.addEventListener("mousemove",a.checkHitTest):document.attachEvent&&(document.detachEvent("onmousemove",a.checkHitTest),document.attachEvent("onmousemove",a.checkHitTest)))},a.removeDesktopScrollSupport=function(){a.hasSupportForDesktopScroll_bl&&(a.hasSupportForDesktopScroll_bl=!1,i.removeEventListener?i.removeEventListener("mousemove",a.checkHitTest):document.detachEvent&&document.detachEvent("onmousemove",a.checkHitTest))},a.checkHitTest=function(t){FWDRLUtils.getViewportMouseCoordinates(t);a.scrollOnDesktop(),o.hider.globalY<o.stageHeight-a.stageHeight&&(a.isScrolling_bl=!1,a.removeDesktopScrollSupport(),a.positionThumbnails(!0))},a.scrollOnDesktop=function(){var t=(o.hider.globalX-100)/(a.stageWidth-200);t<0?t=0:1<t&&(t=1),a.finalX=parseInt((a.stageWidth-a.totalW)*t),FWDAnimation.killTweensOf(a.thumbnailsHolder_do),FWDAnimation.to(a.thumbnailsHolder_do,.4,{x:a.finalX,ease:Expo.easeOut})},a.disableOrEnableThumbnails=function(){if(a.id=o.id,a.thumbs_ar){for(var t,e=a.thumbs_ar.length,i=0;i<e;i++)t=a.thumbs_ar[i],i==o.id?t.disable():t.enable();a.positionThumbnails(!0)}},a.destoryThumbnails=function(){if(a.areThumbnailsCreated_bl||a.thumbs_ar){var t;a.areThumbnailsCreated_bl=!1,a.areThumbnailTouched_bl=!1;for(var e=a.thumbs_ar.length,i=0;i<e;i++)t=a.thumbs_ar[i],FWDAnimation.killTweensOf(t),a.thumbnailsHolder_do.removeChild(t),t.destroy();a.thumbs_ar=null,a.totalW=0,a.stopToLoadThumbanils(),a.removeDesktopScrollSupport(),a.isMobile_bl&&a.removeMobileScrollSupport()}},a.show=function(t){a.isShowed_bl=!0,FWDAnimation.killTweensOf(a.mainHolder_do),t?FWDAnimation.to(a.mainHolder_do,.8,{y:-a.stageHeight,ease:Expo.easeInOut}):a.mainHolder_do.setY(-a.stageHeight)},a.hide=function(t){a.isShowed_bl=!1,FWDAnimation.killTweensOf(a.mainHolder_do),t?FWDAnimation.to(a.mainHolder_do,.8,{y:0,ease:Expo.easeInOut}):a.mainHolder_do.setY(0)},a.hideForGood=function(){a.mainHolder_do.setY(-5e3)},a.init()};t.setPrototype=function(){t.prototype=new FWDRLDisplayObject("div","relative")},t.prototype=null,i.FWDRLThumbnailsManager=t}(window),function(t){var i=function(t){var e=this;i.prototype;this.timeOutId,this.delay=t,this.isStopped_bl=!0,e.stop=function(){e.isStopped_bl||(e.pause(),e.isStopped_bl=!0,e.dispatchEvent(i.STOP))},e.start=function(){e.isStopped_bl&&(e.isStopped_bl=!1,e.timeOutId=setTimeout(e.onTimeHanlder,e.delay),e.dispatchEvent(i.START))},e.pause=function(){e.isStopped_bl||(clearTimeout(e.timeOutId),e.dispatchEvent(i.PAUSE))},e.resume=function(){e.isStopped_bl||(clearTimeout(e.timeOutId),e.timeOutId=setTimeout(e.onTimeHanlder,e.delay),e.dispatchEvent(i.RESUME))},e.onTimeHanlder=function(){e.dispatchEvent(i.TIME)}};i.setProtptype=function(){i.prototype=new FWDRLEventDispatcher},i.START="start",i.STOP="stop",i.RESUME="resume",i.PAUSE="pause",i.TIME="time",i.prototype=null,t.FWDRLTimerManager=i}(window),window.FWDRLTransformDisplayObject=function(t,e,i,s){this.listeners={events_ar:[]};var o=this;if("div"!=t&&"img"!=t&&"canvas"!=t)throw Error("Type is not valid! "+t);this.type=t,this.children_ar=[],this.style,this.screen,this.numChildren,this.transform,this.position=e||"absolute",this.overflow=i||"hidden",this.display=s||"block",this.visible=!0,this.buttonMode,this.x=0,this.y=0,this.scale=1,this.rotation=0,this.w=0,this.h=0,this.rect,this.alpha=1,this.innerHTML="",this.opacityType="",this.isHtml5_bl=!1,this.hasTransform2d_bl=FWDRLUtils.hasTransform2d,this.init=function(){this.setScreen()},this.getTransform=function(){for(var t,e=["transform","msTransform","WebkitTransform","MozTransform","OTransform"];t=e.shift();)if(void 0!==this.screen.style[t])return t;return!1},this.getOpacityType=function(){return void 0!==this.screen.style.opacity?"opacity":"filter"},this.setScreen=function(t){"img"==this.type&&t?this.screen=t:this.screen=document.createElement(this.type),this.setMainProperties()},this.setMainProperties=function(){this.transform=this.getTransform(),this.setPosition(this.position),this.setOverflow(this.overflow),this.opacityType=this.getOpacityType(),"opacity"==this.opacityType&&(this.isHtml5_bl=!0),"filter"==o.opacityType&&(o.screen.style.filter="inherit"),this.screen.style.left="0px",this.screen.style.top="0px",this.screen.style.margin="0px",this.screen.style.padding="0px",this.screen.style.maxWidth="none",this.screen.style.maxHeight="none",this.screen.style.border="none",this.screen.style.lineHeight="1",this.screen.style.backgroundColor="transparent",this.screen.style.backfaceVisibility="hidden",this.screen.style.webkitBackfaceVisibility="hidden",this.screen.style.MozBackfaceVisibility="hidden","img"==t&&(this.setWidth(this.screen.width),this.setHeight(this.screen.height),this.screen.onmousedown=function(t){return!1})},o.setBackfaceVisibility=function(){o.screen.style.backfaceVisibility="visible",o.screen.style.webkitBackfaceVisibility="visible",o.screen.style.MozBackfaceVisibility="visible"},o.removeBackfaceVisibility=function(){o.screen.style.backfaceVisibility="hidden",o.screen.style.webkitBackfaceVisibility="hidden",o.screen.style.MozBackfaceVisibility="hidden"},this.setSelectable=function(t){if(!t){try{this.screen.style.userSelect="none"}catch(t){}try{this.screen.style.MozUserSelect="none"}catch(t){}try{this.screen.style.webkitUserSelect="none"}catch(t){}try{this.screen.style.khtmlUserSelect="none"}catch(t){}try{this.screen.style.oUserSelect="none"}catch(t){}try{this.screen.style.msUserSelect="none"}catch(t){}try{this.screen.msUserSelect="none"}catch(t){}this.screen.ondragstart=function(t){return!1},this.screen.onselectstart=function(){return!1},this.screen.style.webkitTouchCallout="none"}},this.getScreen=function(){return o.screen},this.setVisible=function(t){this.visible=t,1==this.visible?this.screen.style.visibility="visible":this.screen.style.visibility="hidden"},this.getVisible=function(){return this.visible},this.setResizableSizeAfterParent=function(){this.screen.style.width="100%",this.screen.style.height="100%"},this.getStyle=function(){return this.screen.style},this.setOverflow=function(t){o.overflow=t,o.screen.style.overflow=o.overflow},this.setPosition=function(t){o.position=t,o.screen.style.position=o.position},this.setDisplay=function(t){this.display=t,this.screen.style.display=this.display},this.setButtonMode=function(t){this.buttonMode=t,1==this.buttonMode?this.screen.style.cursor="pointer":this.screen.style.cursor="default"},this.setBkColor=function(t){o.screen.style.backgroundColor=t},this.setInnerHTML=function(t){o.innerHTML=t,o.screen.innerHTML=o.innerHTML},this.getInnerHTML=function(){return o.innerHTML},this.getRect=function(){return o.screen.getBoundingClientRect()},this.setAlpha=function(t){o.alpha=t,"opacity"==o.opacityType?o.screen.style.opacity=o.alpha:"filter"==o.opacityType&&(o.screen.style.filter="alpha(opacity="+100*o.alpha+")",o.screen.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(100*o.alpha)+")")},this.getAlpha=function(){return o.alpha},this.getRect=function(){return this.screen.getBoundingClientRect()},this.getGlobalX=function(){return this.getRect().left},this.getGlobalY=function(){return this.getRect().top},this.setX=function(t){o.x=t,o.hasTransform2d_bl?o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+" , "+o.scale+") rotate("+o.rotation+"deg)":o.screen.style.left=o.x+"px"},this.getX=function(){return o.x},this.setY=function(t){o.y=t,o.hasTransform2d_bl?o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+" , "+o.scale+") rotate("+o.rotation+"deg)":o.screen.style.top=o.y+"px"},this.getY=function(){return o.y},this.setScale2=function(t){o.scale=t,o.hasTransform2d_bl&&(o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+" , "+o.scale+") rotate("+o.rotation+"deg)")},this.getScale=function(){return o.scale},this.setRotation=function(t){o.rotation=t,o.hasTransform2d_bl&&(o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+" , "+o.scale+") rotate("+o.rotation+"deg)")},this.setWidth=function(t){o.w=t,"img"==o.type?o.screen.width=o.w:o.screen.style.width=o.w+"px"},this.getWidth=function(){return"div"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:o.w:"img"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:0!=o.screen.width?o.screen.width:o._w:"canvas"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:o.w:void 0},this.setHeight=function(t){o.h=t,"img"==o.type?o.screen.height=o.h:o.screen.style.height=o.h+"px"},this.getHeight=function(){return"div"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:o.h:"img"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:0!=o.screen.height?o.screen.height:o.h:"canvas"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:o.h:void 0},this.getNumChildren=function(){return o.children_ar.length},this.addChild=function(t){this.contains(t)&&this.children_ar.splice(FWDRLUtils.indexOfArray(this.children_ar,t),1),this.children_ar.push(t),this.screen.appendChild(t.screen)},this.removeChild=function(t){if(!this.contains(t))throw Error("##removeChild()## Child doesn't exist, it can't be removed!");this.children_ar.splice(FWDRLUtils.indexOfArray(this.children_ar,t),1),this.screen.removeChild(t.screen)},this.contains=function(t){return-1!=FWDRLUtils.indexOfArray(this.children_ar,t)},o.addChildAt=function(t,e){if(0==o.getNumChildren())o.children_ar.push(t),o.screen.appendChild(t.screen);else if(1==e)o.screen.insertBefore(t.screen,o.children_ar[0].screen),o.screen.insertBefore(o.children_ar[0].screen,t.screen),o.contains(t)?o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),1,t):o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),0,t);else{if(e<0||e>o.getNumChildren()-1)throw Error("##getChildAt()## Index out of bounds!");o.screen.insertBefore(t.screen,o.children_ar[e].screen),o.contains(t)?o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),1,t):o.children_ar.splice(FWDRLUtils.indexOfArray(o.children_ar,t),0,t)}},this.getChildAt=function(t){if(t<0||t>this.numChildren-1)throw Error("##getChildAt()## Index out of bounds!");if(0==this.numChildren)throw Errror("##getChildAt## Child dose not exist!");return this.children_ar[t]},this.removeChildAtZero=function(){this.screen.removeChild(this.children_ar[0].screen),this.children_ar.shift()},this.addListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function.");var i={};i.type=t,i.listener=e,(i.target=this).listeners.events_ar.push(i)},this.dispatchEvent=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t){if(e)for(var o in e)this.listeners.events_ar[i][o]=e[o];this.listeners.events_ar[i].listener.call(this,this.listeners.events_ar[i]);break}},this.removeListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function."+t);for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t&&this.listeners.events_ar[i].listener===e){this.listeners.events_ar.splice(i,1);break}},this.disposeImage=function(){"img"==this.type&&(this.screen.src=null)},this.destroy=function(){try{this.screen.parentNode.removeChild(this.screen)}catch(t){}this.screen.onselectstart=null,this.screen.ondragstart=null,this.screen.ontouchstart=null,this.screen.ontouchmove=null,this.screen.ontouchend=null,this.screen.onmouseover=null,this.screen.onmouseout=null,this.screen.onmouseup=null,this.screen.onmousedown=null,this.screen.onmousemove=null,this.screen.onclick=null,delete this.screen,delete this.style,delete this.rect,delete this.selectable,delete this.buttonMode,delete this.position,delete this.overflow,delete this.visible,delete this.innerHTML,delete this.numChildren,delete this.x,delete this.y,delete this.w,delete this.h,delete this.opacityType,delete this.isHtml5_bl,delete this.hasTransform2d_bl,this.children_ar=null,this.style=null,this.screen=null,this.numChildren=null,this.transform=null,this.position=null,this.overflow=null,this.display=null,this.visible=null,this.buttonMode=null,this.globalX=null,this.globalY=null,this.x=null,this.y=null,this.w=null,this.h=null,this.rect=null,this.alpha=null,this.innerHTML=null,this.opacityType=null,this.isHtml5_bl=null,this.hasTransform3d_bl=null,this.hasTransform2d_bl=null,o=null},this.init()},function(e){var o=function(t){var s=this;this.init=function(){FWDTweenLite.ticker.useRAF(!1),this.props_obj=t,this.listeners={events_ar:[]},this.mustHaveHolderDiv_bl=!1,this.instanceName_str=this.props_obj.instanceName,s.props_obj.gridType?(s.gridType_str=s.props_obj.gridType||"dynamicvertical",s.gridType_str=String(s.gridType_str).toLowerCase(),"dynamicvertical"==s.gridType_str||"dynamichorizontal"==s.gridType_str||"classicvertical"==s.gridType_str||"classichorizontal"==s.gridType_str||"masonryvertical"==s.gridType_str||"masonryhorizontal"==s.gridType_str||"flexiblevertical"==s.gridType_str||"flexiblehorizontal"==s.gridType_str?this.props_obj.instanceName?e[this.instanceName_str]?alert("FWDUGP instance name "+this.instanceName_str+" is already defined and contains a different instance reference, set a different instance name."):(e[this.instanceName_str]=this).props_obj?this.props_obj.parentId||!this.mustHaveHolderDiv_bl?!this.mustHaveHolderDiv_bl||FWDRLUtils.getChildById(s.props_obj.parentId)?(this.displayType=this.props_obj.displayType||o.RESPONSIVE,this.displayType=this.displayType.toLowerCase(),s.displayType.toLowerCase()!=o.RESPONSIVE&&s.displayType.toLowerCase()!=o.FULL_SCREEN&&s.displayType.toLowerCase()!=o.FLUID_WIDTH&&s.displayType.toLowerCase()!=o.AFTER_PARENT&&(this.displayType=o.RESPONSIVE),this.body=document.getElementsByTagName("body")[0],this.displayType==o.FULL_SCREEN?this.stageContainer=s.body:this.stageContainer=FWDRLUtils.getChildById(this.props_obj.parentId),this.customContextMenu,this.info_do,this.main_do,this.preloader_do,this.menu_do,this.thumbnailManager_do,this.lighBox_do,this.rect,this.backgroundColor_str=this.props_obj.backgroundColor||"transparent",this.lightBoxBackgroundColor_str=this.props_obj.lightMainBoxBackgroundColor||"transparent",this.zIndex=parseInt(t.zIndex)||0,this.stageWidth=0,this.stageHeight=0,this.pageXOffset=e.pageXOffset,this.pageYOffset=e.pageYOffset,this.catId_ar=-1,this.maxWidth=this.props_obj.maxWidth||640,this.maxHeight=this.props_obj.maxHeight||380,this.thumbnailsVOffset=this.props_obj.thumbnailsVerticalOffset||0,this.resizeHandlerId1_to,this.resizeHandlerId2_to,this.scrollEndId_to,this.orientationChangeId_to,this.isVerticalType_bl=!0,this.isDataLoaded_bl=!1,this.autoScale_bl="yes"==this.props_obj.autoScale,this.showFullScreenButton_bl="yes"==this.props_obj.showFullScreenButton,this.orintationChanceComplete_bl=!0,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.isReady_bl=!1,this.setupMainDo(),this.setupData(),this.setupInfo()):alert("FWDUGP parent div is not found, please make sure that the div exsists and the id is correct! "+s.props_obj.parentId):alert("Property parentId is not defined in the FWDUGP constructor, self property represents the div id into which the megazoom is added as a child!"):alert("FWDUGP constructor properties object is not defined!"):alert("FWDUGP instance name is required please make sure that the instanceName parameter exsists and it's value is uinique."):alert("FWDUGP grid type value is not valid!")):alert("FWDUGP grid type is required please make sure that the gridType parameter is defined in the contructor function!")},this.setupMainDo=function(){this.main_do=new FWDRLDisplayObject("div","relative"),this.main_do.getStyle().webkitTapHighlightColor="rgba(0, 0, 0, 0)",this.main_do.getStyle().webkitFocusRingColor="rgba(0, 0, 0, 0)",this.main_do.getStyle().width="100%",this.main_do.getStyle().height="100%",(!FWDRLUtils.isMobile||FWDRLUtils.isMobile&&FWDRLUtils.hasPointerEvent)&&this.main_do.setSelectable(!1),"dynamichorizontal"==s.gridType_str||"classichorizontal"==s.gridType_str||"masonryhorizontal"==s.gridType_str||"flexiblehorizontal"==s.gridType_str?(this.main_do.getStyle().msTouchAction="none",this.displayType==o.FULL_SCREEN||this.displayType==o.FLUID_WIDTH?(this.main_do.getStyle().position="absolute",this.stageContainer.appendChild(this.main_do.screen),this.main_do.getStyle().zIndex=s.zIndex):this.stageContainer.appendChild(this.main_do.screen)):this.stageContainer.appendChild(this.main_do.screen),this.stageContainer.style.overflow="hidden",this.startResizeHandler()},this.setupInfo=function(){FWDRLInfo.setPrototype(),this.info_do=new FWDRLInfo(s,s.data.warningIconPath_str)},this.startResizeHandler=function(){e.addEventListener?(e.addEventListener("resize",s.onResizeHandler),e.addEventListener("scroll",s.onScrollHandler)):e.attachEvent&&(e.attachEvent("onresize",s.onResizeHandler),e.attachEvent("onscroll",s.onScrollHandler)),s.resizeHandler(),s.resizeHandlerId2_to=setTimeout(function(){s.resizeHandler(),s.positionPreloader()},400)},this.onResizeHandler=function(t){clearTimeout(s.resizeHandlerId2_to),s.resizeHandlerId2_to=setTimeout(function(){s.resizeHandler()},100)},s.onScrollHandler=function(t){s.scrollOffsets=FWDRLUtils.getScrollOffsets(),s.thumbnailManager_do&&(o.globalY=s.thumbnailManager_do.getGlobalY())},this.resizeHandler=function(){s.scrollOffsets=FWDRLUtils.getScrollOffsets();var t,e=FWDRLUtils.getViewportSize(),i=0;o.viewportHeight=e.h,s.pageXOffset=s.scrollOffsets.x,s.pageYOffset=s.scrollOffsets.y,"dynamicvertical"==s.gridType_str||"classicvertical"==s.gridType_str||"masonryvertical"==s.gridType_str||"flexiblevertical"==s.gridType_str?(s.stageWidth=s.stageContainer.offsetWidth,s.main_do.setWidth(s.stageWidth),s.globalX=s.main_do.getGlobalX(),s.globalY=s.main_do.getGlobalY(),clearTimeout(s.resizeGridId_to),s.resizeGridId_to=setTimeout(function(){s.menu_do&&s.menu_do.isShowed_bl&&s.menu_do.resizeAndPosition(s.stageWidth),s.thumbnailManager_do&&(s.thumbnailManager_do.resizeAndPosition(),o.globalY=s.thumbnailManager_do.getGlobalY()),s.setFinalSize()},100)):"dynamichorizontal"!=s.gridType_str&&"classichorizontal"!=s.gridType_str&&"masonryhorizontal"!=s.gridType_str&&"flexiblehorizontal"!=s.gridType_str||(s.menu_do&&s.menu_do.isShowed_bl&&(s.stageHeight=s.menu_do.h),s.isFullScreen_bl||s.displayType==o.FULL_SCREEN?(s.main_do.setX(s.scrollOffsets.x),s.main_do.setY(s.scrollOffsets.y),s.stageWidth=e.w,s.stageHeight=e.h,s.main_do.setWidth(s.stageWidth),s.main_do.setHeight(s.stageHeight)):s.displayType==o.FLUID_WIDTH?(s.stageWidth=e.w,s.stageHeight=e.h,s.autoScale_bl?(t=Math.min(s.stageWidth/s.maxWidth,1),s.stageHeight=Math.min(parseInt(t*s.maxHeight),s.maxHeight),s.stageHeight<500&&(s.stageHeight=500)):s.stageHeight=s.maxHeight,s.stageContainer.style.height=s.stageHeight+"px",s.menu_do&&(s.menu_do.isShowed_bl?(s.menu_do.resizeAndPosition(s.stageWidth),i=s.menu_do.h):(s.menu_do.resizeAndPosition(0),i=0)),s.main_do.setX(s.pageXOffset),s.main_do.setY(Math.round(s.stageContainer.getBoundingClientRect().top+s.pageYOffset)),s.main_do.setWidth(s.stageWidth),s.main_do.setHeight(s.stageHeight),s.stageContainer.style.height=s.stageHeight+"px"):s.displayType==o.RESPONSIVE?(s.stageContainer.style.width="100%",s.stageContainer.offsetWidth>s.maxWidth&&(s.stageContainer.style.width=s.maxWidth+"px"),s.stageWidth=s.stageContainer.offsetWidth,s.menu_do&&(s.menu_do.isShowed_bl?(s.menu_do.resizeAndPosition(s.stageWidth),i=s.menu_do.h):(s.menu_do.resizeAndPosition(0),i=0)),s.autoScale_bl?s.stageHeight=parseInt(s.maxHeight*(s.stageWidth/s.maxWidth))+2*s.thumbnailsVOffset:s.stageHeight=s.maxHeight,s.main_do.setX(0),s.main_do.setY(0),s.stageHeight+=i,s.isDataLoaded_bl||(s.stageHeight=150),s.main_do.setWidth(s.stageWidth),s.main_do.setHeight(s.stageHeight),s.stageContainer.style.height=s.stageHeight+"px"):s.displayType==o.AFTER_PARENT?(s.stageWidth=s.stageContainer.offsetWidth,s.stageHeight=s.stageContainer.offsetHeight,s.menu_do&&(s.menu_do.isShowed_bl?(s.menu_do.resizeAndPosition(s.stageWidth),i=s.menu_do.h):(s.menu_do.resizeAndPosition(0),i=0)),s.main_do.setWidth(s.stageWidth),s.main_do.setHeight(s.stageHeight)):(s.main_do.setX(0),s.main_do.setY(0),s.stageWidth=e.w,s.stageHeight=e.h)),s.menu_do&&(s.menu_do.isShowed_bl?s.menu_do.resizeAndPosition(s.stageWidth):s.menu_do.setHeight(0)),s.thumbnailManager_do&&s.thumbnailManager_do.resizeAndPosition(),s.fullScreenButton_do&&s.positionFullScreenButton()},this.setFinalSize=function(){s.stageWidth=s.stageContainer.offsetWidth,s.isReady_bl?s.stageHeight=0:(s.stageHeight=84,s.main_do.setHeight(s.stageHeight)),s.menu_do&&(s.menu_do.isShowed_bl?s.stageHeight=s.menu_do.h:s.menu_do.setHeight(0)),s.thumbnailManager_do&&(s.stageHeight+=s.thumbnailManager_do.totalHeight),s.main_do&&s.prevStageHeight!=s.stageHeight&&s.main_do.setWidth(s.stageWidth),s.prevStageHeight=s.stageHeight},this.setupContextMenu=function(){this.customContextMenu_do=new FWDRLContextMenu(this.main_do,s.data.rightClickContextMenu_str)},this.setupData=function(){FWDUGPData.setPrototype(),this.data=new FWDUGPData(this.props_obj,this),this.data.addListener(FWDUGPData.PRELOADER_LOAD_DONE,this.onPreloaderLoadDone),this.data.addListener(FWDUGPData.LIGHBOX_CLOSE_BUTTON_LOADED,this.onLightBoxCloseButtonLoadDone),this.data.addListener(FWDUGPData.LOAD_ERROR,this.dataLoadError),this.data.addListener(FWDUGPData.LOAD_DONE,this.dataLoadComplete)},this.onLightBoxCloseButtonLoadDone=function(){},this.onPreloaderLoadDone=function(){s.setupPreloader(),s.positionPreloader(),s.resizeHandler()},this.dataLoadError=function(t,e){s.main_do.addChild(s.info_do),s.info_do.showText(t.text)},this.dataLoadComplete=function(t){s.isReady_bl=!0,s.main_do.getStyle().height="100%",s.catId_ar=s.data.startAtCategory,s.setupLightBox(),s.data.showMenu_bl&&s.setupMenu(),s.main_do.addChild(s.preloader_do),s.isMobile_bl||s.setupContextMenu(),s.setupThumbanilsManager(),s.showFullScreenButton_bl&&s.setupFullScreenButton(),s.isDataLoaded_bl=!0,s.resizeHandler(),s.preloader_do.hide(!0),setTimeout(s.resizeHandler,200),s.dispatchEvent(o.READY)},this.setupPreloader=function(){FWDRLPreloader.setPrototype(),this.preloader_do=new FWDRLPreloader(this.data.mainPreloader_img,38,38,30,36),this.preloader_do.addListener(FWDRLPreloader.HIDE_COMPLETE,this.onPreloaderHideCompleteHandler),this.preloader_do.show(!0),this.main_do.addChild(this.preloader_do)},this.positionPreloader=function(){this.preloader_do&&0!=s.stageHeight&&(this.preloader_do.setX(parseInt((this.stageWidth-this.preloader_do.w)/2)),this.preloader_do.setY(parseInt((this.stageHeight-this.preloader_do.h)/2)))},this.onPreloaderHideCompleteHandler=function(){s.main_do.removeChild(s.preloader_do)},this.setupMenu=function(){FWDUGPMenu.setPrototype(),this.menu_do=new FWDUGPMenu(s.data,s),this.menu_do.addListener(FWDUGPMenu.MOUSE_UP,this.menuOnMouseUpHandler),this.main_do.addChild(this.menu_do),this.menu_do.addListener(FWDUGPMenu.SEARCH,this.searchHandler)},this.menuOnMouseUpHandler=function(t){s.updateCategory(t.id)},this.searchHandler=function(t){s.thumbnailManager_do.search(t.searchValue)},this.setupThumbanilsManager=function(t){"dynamicvertical"==s.gridType_str?(s.data.isVerticalType_bl=!0,FWDUGPVerticalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPVerticalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPVerticalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPVerticalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)):"dynamichorizontal"==s.gridType_str?(s.data.isVerticalType_bl=!1,FWDUGPHorizontalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPHorizontalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPHorizontalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPHorizontalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)):"classicvertical"==s.gridType_str?(s.data.isVerticalType_bl=!0,FWDUGPClassicVerticalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPClassicVerticalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPClassicVerticalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPClassicVerticalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)):"classichorizontal"==s.gridType_str?(s.data.isVerticalType_bl=!1,FWDUGPClassicHorizontalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPClassicHorizontalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPClassicHorizontalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPClassicHorizontalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)):"masonryvertical"==s.gridType_str?(s.data.isVerticalType_bl=!0,FWDUGPMasonryVerticalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPMasonryVerticalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPMasonryVerticalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPMasonryVerticalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)):"masonryhorizontal"==s.gridType_str?(s.data.isVerticalType_bl=!1,FWDUGPMasonryHorizontalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPMasonryHorizontalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPMasonryHorizontalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPMasonryHorizontalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)):"flexiblevertical"==s.gridType_str?(s.data.isVerticalType_bl=!0,FWDUGPFlexibleVerticalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPFlexibleVerticalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPFlexibleVerticalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPFlexibleVerticalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)):"flexiblehorizontal"==s.gridType_str&&(s.data.isVerticalType_bl=!1,FWDUGPFlexibleHorizontalThumbnailsManager.setPrototype(),this.thumbnailManager_do=new FWDUGPFlexibleHorizontalThumbnailsManager(this.data,this),this.thumbnailManager_do.addListener(FWDUGPFlexibleHorizontalThumbnailsManager.CATEGORY_UPDATE,this.onTMCategoryUpdate),this.thumbnailManager_do.addListener(FWDUGPFlexibleHorizontalThumbnailsManager.OPEN_LIGHTBOX,this.openLightbox)),this.main_do.addChild(this.thumbnailManager_do),o.globalY=s.thumbnailManager_do.getGlobalY()},this.onThumbsManagerLoadError=function(t){s.main_do.addChild(s.info_do),s.info_do.showText(t.text)},this.onTMCategoryUpdate=function(t){},this.openLightbox=function(t){e.rlobj_curObj=s.data.lightboxPlaylist_ar,FWDRL.show("rlobj_curObj",t.id),e.rlobj_curObj=null},this.setupLightBox=function(){new FWDRL({mainFolderPath:s.data.mainFolderPath_str,skinPath:s.data.lightboxSkinPath_str,facebookAppId:s.data.facebookAppId_str,rightClickContextMenu:s.data.rightClickContextMenu_str,buttonsAlignment:s.data.buttonsAlignment_str,useDeepLinking:"no",useAsModal:s.data.useAsModal_str,slideShowAutoPlay:s.data.slideShowAutoPlay_str,addKeyboardSupport:s.data.addKeyboardSupport_str,showCloseButton:s.data.showCloseButton_str,showShareButton:s.data.showShareButton_str,showZoomButton:s.data.showZoomButton_str,showSlideShowButton:s.data.showSlideShowButton_str,showSlideShowAnimation:s.data.showSlideShowAnimation_str,showNextAndPrevButtons:s.data.showNextAndPrevButtons_str,showNextAndPrevButtonsOnMobile:s.data.showNextAndPrevButtonsOnMobile_str,buttonsHideDelay:s.data.buttonsHideDelay,slideShowDelay:s.data.slideShowDelay,defaultItemWidth:s.data.defaultItemWidth,defaultItemHeight:s.data.defaultItemHeight,itemOffsetHeight:s.data.itemOffsetHeight,spaceBetweenButtons:s.data.spaceBetweenButtons,buttonsOffsetIn:s.data.buttonsOffsetIn,buttonsOffsetOut:s.data.buttonsOffsetOut,itemBorderSize:s.data.itemBorderSize,itemBorderRadius:s.data.itemBorderRadius,backgroundOpacity:s.data.backgroundOpacity,itemBoxShadow:s.data.itemBoxShadow_str,itemBackgroundColor:s.data.itemBackgroundColor_str,itemBorderColor:s.data.itemBorderColor_str,backgroundColor:s.data.lightBoxBackgroundColor_str,showThumbnails:"no",showThumbnailsHideOrShowButton:"yes",showThumbnailsByDefault:"yes",showThumbnailsOverlay:"yes",showThumbnailsSmallIcon:"yes",thumbnailsHoverEffect:"scale",thumbnailsImageHeight:80,thumbnailsBorderSize:4,thumbnailsBorderRadius:0,spaceBetweenThumbnailsAndItem:0,thumbnailsOffsetBottom:0,spaceBetweenThumbnails:2,thumbnailsOverlayOpacity:.6,thumbnailsOverlayColor:"#FFFFFF",thumbnailsBorderNormalColor:"#FFFFFF",thumbnailsBorderSelectedColor:"#FFFFFF",showDescriptionButton:s.data.showDescriptionButton_str,showDescriptionByDefault:s.data.showDescriptionByDefault_str,descriptionWindowAnimationType:s.data.descriptionWindowAnimationType_str,descriptionWindowPosition:s.data.descriptionWindowPosition_str,descriptionWindowBackgroundColor:s.data.descriptionWindowBackgroundColor_str,descriptionWindowBackgroundOpacity:s.data.descriptionWindowBackgroundOpacity,useVideo:"yes",useAudio:"yes",videoShowFullScreenButton:s.data.videoShowFullScreenButton_str,addVideoKeyboardSupport:"yes",nextVideoOrAudioAutoPlay:s.data.nextVideoOrAudioAutoPlay_str,videoAutoPlay:s.data.videoAutoPlay_str,videoLoop:s.data.videoLoop_str,audioAutoPlay:s.data.audioAutoPlay_str,audioLoop:s.data.audioLoop_str,videoControllerHideDelay:3,videoControllerHeight:41,audioControllerHeight:44,startSpaceBetweenButtons:7,vdSpaceBetweenButtons:9,mainScrubberOffestTop:14,scrubbersOffsetWidth:1,audioScrubbersOffestTotalWidth:4,timeOffsetLeftWidth:5,timeOffsetRightWidth:3,volumeScrubberWidth:80,volumeScrubberOffsetRightWidth:0,videoControllerBackgroundColor:s.data.videoControllerBackgroundColor_str,videoPosterBackgroundColor:s.data.videoPosterBackgroundColor_str,videoPosterBackgroundColor:s.data.videoPosterBackgroundColor_str,audioControllerBackgroundColor:s.data.audioControllerBackgroundColor_str,timeColor:s.data.timeColor_str}),FWDRL.addListener(FWDRL.SHOW_START,s.RLShowStart),FWDRL.addListener(FWDRL.SHOW_COMPLETE,s.RLShowComplete),FWDRL.addListener(FWDRL.HIDE_START,s.RLHideStart),FWDRL.addListener(FWDRL.HIDE_COMPLETE,s.RLhideComplete)},this.RLShowStart=function(){s.dispatchEvent(o.LIGHTBOX_SHOW_START)},this.RLShowComplete=function(){s.dispatchEvent(o.LIGHTBOX_SHOW_COMPLETE)},this.RLHideStart=function(){s.dispatchEvent(o.LIGHTBOX_HIDE_START)},this.RLhideComplete=function(){s.dispatchEvent(o.LIGHTBOX_HIDE_COMPLETE)},this.addListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function.");var i={};i.type=t,i.listener=e,(i.target=this).listeners.events_ar.push(i)},this.dispatchEvent=function(t,e){if(null!=this.listeners){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t){if(e)for(var o in e)this.listeners.events_ar[i][o]=e[o];this.listeners.events_ar[i].listener.call(this,this.listeners.events_ar[i])}}},this.removeListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function."+t);for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t&&this.listeners.events_ar[i].listener===e){this.listeners.events_ar.splice(i,1);break}},this.setupFullScreenButton=function(){FWDRLComplexButton.setPrototype(),s.fullScreenButton_do=new FWDRLComplexButton(s.data.fullScreenN_img,s.data.fullScreenSPath_str,s.data.normalScreenN_img,s.data.normalScreenSPath_str,!0),s.fullScreenButton_do.addListener(FWDRLComplexButton.MOUSE_UP,s.fullScreenUpHandler),s.main_do.addChild(s.fullScreenButton_do),document.addEventListener&&(document.addEventListener("fullscreenchange",s.onFullScreenChange),document.addEventListener("mozfullscreenchange",s.onFullScreenChange),document.addEventListener("webkitfullscreenchange",s.onFullScreenChange))},this.fullScreenUpHandler=function(t){1==s.fullScreenButton_do.currentState?s.goFullScreen():s.goNormalScreen()},this.onFullScreenChange=function(t){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msieFullScreen?(s.fullScreenButton_do.isFullScreen_bl=!0,s.isFullScreen_bl=!0):(s.fullScreenButton_do.isFullScreen_bl=!1,s.goNormalScreen(),s.fullScreenButton_do.setButtonState(1))},this.positionFullScreenButton=function(){this.showFullScreenButton_bl?(s.fullScreenButton_do.setX(this.stageWidth-this.fullScreenButton_do.w-10),s.fullScreenButton_do.setY(this.stageHeight-this.fullScreenButton_do.h-10)):s.fullScreenButton_do.setY(-200)},this.goFullScreen=function(){var t=FWDRLUtils.getScrollOffsets();s.lastScrollX=t.x,s.lastScrollY=t.y,document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen?document.documentElement.webkitRequestFullScreen():document.documentElement.msieRequestFullScreen&&document.documentElement.msieRequestFullScreen(),s.main_do.getStyle().position="absolute",s.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.documentElement.appendChild(s.main_do.screen),s.isMobile_bl&&s.disableMoveOnFullScreen(),s.main_do.getStyle().zIndex=2147483646,s.fullScreenButton_do.isFullScreen_bl=!0,s.fullScreenButton_do.setButtonState(0),s.isFullScreen_bl=!0;try{this.thumbnailManager_do.deactivateDragScrollBar()}catch(t){}this.resizeHandler()},this.goNormalScreen=function(){if(s.isFullScreen_bl){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msieCancelFullScreen&&document.msieCancelFullScreen(),s.fullScreenButton_do.isFullScreen_bl=!1,s.fullScreenButton_do.setButtonState(1),s.isFullScreen_bl=!1,s.isMobile_bl&&s.removeDisableMoveOnFullScreen();try{this.thumbnailManager_do.deactivateDragScrollBar()}catch(t){}s.addMainDoToTheOriginalParent(),s.resizeHandler()}},this.addMainDoToTheOriginalParent=function(){FWDRLUtils.isIE7&&s.displayType==o.FULL_SCREEN?(document.documentElement.style.overflow="auto",s.body.style.overflow="auto"):s.displayType!=o.FULL_SCREEN&&(FWDRLUtils.isIE7?document.documentElement.style.overflow="auto":document.documentElement.style.overflow="visible",s.body.style.overflow="visible"),this.displayType==o.FULL_SCREEN?FWDRLUtils.isIE7?s.body.appendChild(s.main_do.screen):document.documentElement.appendChild(this.main_do.screen):s.displayType==o.FLUID_WIDTH?(FWDRLUtils.isIE7?s.body.appendChild(s.main_do.screen):document.documentElement.appendChild(s.main_do.screen),s.resizeHandler(!0)):(s.main_do.getStyle().position="relative",s.stageContainer.appendChild(s.main_do.screen));try{this.thumbnailManager_do.deactivateDragScrollBar()}catch(t){}s.main_do.getStyle().zIndex=s.zIndex,s.main_do.setX(0),s.main_do.setY(0),s.resizeHandler(!0),e.scrollTo(s.lastScrollX,s.lastScrollY)},this.disableMoveOnFullScreen=function(t){e.addEventListener("touchmove",s.onDisableMove)},this.removeDisableMoveOnFullScreen=function(t){e.removeEventListener("touchmove",s.onDisableMove)},this.onDisableMove=function(t){t.preventDefault()},this.updateCategory=function(t){this.isReady_bl&&(this.catId_ar=t,s.thumbnailManager_do.updateCategory(this.catId_ar),setTimeout(function(){s.dispatchEvent(o.CATEGORY_UPDATE)},50))},this.getCategoryName=function(t){if(this.isReady_bl)return this.data.categories_ar},this.getCategoryId=function(){return this.catId_ar},this.updateSize=function(){s.isReady_bl,s.resizeHandler()},this.init()};o.READY="ready",o.LIGHTBOX_SHOW_START="showStart",o.LIGHTBOX_SHOW_COMPLETE="showComplete",o.LIGHTBOX_HIDE_START="hideStart",o.LIGHTBOX_HIDE_COMPLETE="hideComplete",o.CATEGORY_UPDATE="categoryUpdate",o.FULL_SCREEN="fullscreen",o.LIGHTBOX="lightbox",o.RESPONSIVE="responsive",o.FLUID_WIDTH="fluidwidth",o.AFTER_PARENT="afterparent",o.IFRAME="iframe",o.IMAGE="image",o.FLASH="flash",o.AUDIO="audio",o.VIDEO="video",o.VIMEO="vimeo",o.YOUTUBE="youtube",o.MAPS="maps",o.LINK="link",o.NONE="none",FWDIGP=void 0,e.FWDUGP=o}(window),function(n){var l=function(a,o){var r=this;l.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.rowHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.handGrabPath_str=a.handGrabPath_str,this.handMovePath_str=a.handMovePath_str,this.currentThumbnailsFinalX=0,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetLeft=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetRight=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetY=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftWidth=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.leftHeight=0,this.vx=0,this.vx2=0,this.friction=.9,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.isMobileScrollBarRunning_bl=!1,this.isDragging_bl=!1,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.centerNoSearchFoundLabelWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.addMouseWheelSupport_bl=a.addMouseWheelSupport_bl,this.isVerticalType_bl=a.isVerticalType_bl,this.isLoadingMore_bl=!1,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.thumbnailsHolder_do=new FWDRLDisplayObject("div"),this.thumbnailsHolder_do.setOverflow("visible"),this.setBkColor(o.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==r.thumbnailLoadingType_str&&this.setupLoadMoreButton(),this.addMouseWheelSupport_bl&&!this.isMobile_bl&&this.addMouseWheelSupport(),this.filterCategories(),this.startGetMousePosition(),this.setupDragScrollbar(),this.addChild(this.thumbnailsHolder_do),this.setupNoSearch(),r.isMobile_bl||(r.screen.style.cursor="url("+r.handGrabPath_str+"), default",r.dumy_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(r.dumy_do.setBkColor("#FF0000"),r.dumy_do.setAlpha(1e-4)),r.dumy_do.screen.style.cursor="url("+r.handMovePath_str+"), default",r.addChild(r.dumy_do))},this.resizeAndPosition=function(){this.stageWidth=o.stageWidth,o.menu_do?this.stageHeight=o.stageHeight-o.menu_do.h:this.stageHeight=o.stageHeight,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.setDataForResize(),this.positionThumbnailsAndMain(),this.centerThumbnails(!0),this.positionNoSearchLabel(),this.setWidth(this.stageWidth),this.setHeight(this.stageHeight)},this.startGetMousePosition=function(){n.addEventListener?(r.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);r.globalX=e.screenX,r.globalY=e.screenY},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){r.searchValue=t,clearTimeout(r.updateSearch_to),r.updateSearch_to=setTimeout(function(){r.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isVerticalType_bl=this.isVerticalType_bl,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.thumbnailsHolder_do.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":r.sourcePlaylist_ar[e].type_str,o=0;o<r.totalOriginalThumbnails;o++)o<i&&(r.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||r.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(r.sourcePlaylist_ar[t.id].thumbnailPath_str,r.sourcePlaylist_ar[t.id].rawDescription_str,r.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(r.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,r.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(r.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,r.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):r.dispatchEvent(l.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.deactivateDragScrollBar(),this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(l.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),r.image_img&&(r.image_img.onerror=null,r.image_img.onload=null)},this.startToLoadImage=function(t){r.image_img=new Image,r.image_img.onerror=r.onImageLoadErrorHandler,r.image_img.onload=r.onImageLoadHandler,r.image_img.src=t},this.loadThumbImage=function(){var t;r.stopToLoadImage();for(var e=0;e<r.totalCats;e++)if(r.loadMoreCatsData_ar[e].isSelected&&r.loadMoreCatsData_ar[e].loaded<r.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<r.tempTotalThumbnails&&(r.curDataThumbnail=r.tempPlaylist_ar[e],r.curDataThumbnail.catId!=t||r.curDataThumbnail.thumbnail);e++);r.startToLoadImage(r.sourcePlaylist_ar[r.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+r.sourcePlaylist_ar[r.curDataThumbnail.id].thumbnailPath_str+"</font>";r.dispatchEvent(l.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=r.getThumbnail(r.curDataThumbnail.catId,r.curDataThumbnail.id);r.loadMoreCatsData_ar[r.curDataThumbnail.catId].loaded++,r.curDataThumbnail.thumbnail=e,(r.originalDataThumbnails_ar[r.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=r.image_img.width,e.originalHeight=r.image_img.height,e.addImage(r.image_img),r.countLoadedThumbs++,r.isFirstThumbnailLoaded_bl||setTimeout(function(){r.firstThumbnailShowed_bl=!0},200),r.updateCurThumbnails(),r.positionThumbnailsAndMain(),r.centerThumbnails(!0)},this.updateCatsLimits=function(){var t=r.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=r.thumbnailsPerSet,e=0;0<t&&e<r.totalCats;)r.loadMoreCatsData_ar[e].isSelected&&(r.loadMoreCatsData_ar[e].limit+t>r.loadMoreCatsData_ar[e].total?(t-=r.loadMoreCatsData_ar[e].total-r.loadMoreCatsData_ar[e].limit,r.loadMoreCatsData_ar[e].limit=r.loadMoreCatsData_ar[e].total):(r.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);r.isLoadingMore_bl=!0,r.deactivateDragScrollBar(),r.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];r.loadMoreCatsData_ar=[];for(var o=0;o<r.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<r.totalThumbnails;o++)i[(t=r.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<r.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,r.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],r.stopToLoadImage();for(var s=0;s<r.sourcePlaylist_ar.length;s++)t=r.originalDataThumbnails_ar[s],r.sourcePlaylist_ar[s].titleText_str&&-1!=r.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(r.searchValue)?r.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(r.totalThumbnails=r.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==r.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==r.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[r.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?this.showNoSearch():this.hideNoSearch(),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(r.updateCurThumbnails(),r.positionThumbnailsAndMain(),r.centerThumbnails(!0),"loadmoreonscroll"==r.thumbnailLoadingType_str&&r.stageWidth>r.totalWidth&&r.allowToLoadMoreThumbnails()&&r.loadMore()),"loadmorewithbutton"==r.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==r.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==r.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)):(r.isLoadingMore_bl=!1,"loadmoreonscroll"==r.thumbnailLoadingType_str&&r.stageWidth>r.totalWidth&&r.allowToLoadMoreThumbnails()&&r.loadMore()),"loadmorewithbutton"==r.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.setDataForResize=function(){if(this.stageWidth){this.totalRows=Math.ceil((this.stageHeight-2*this.thumbsVOffset+this.thumbsVSpace)/(this.thumbnailMaxHeight+2*this.borderSize+this.thumbsVSpace)),this.thumbHeight=Math.floor((this.stageHeight-2*this.thumbsVOffset+this.thumbsVSpace-this.totalRows*(this.thumbsVSpace+2*this.borderSize))/this.totalRows),this.thumbWidth=Math.floor(this.thumbHeight*(this.thumbnailMaxWidth/this.thumbnailMaxHeight));var t=this.totalRows*(this.thumbHeight+2*this.borderSize+this.thumbsVSpace)-this.thumbsVSpace;this.leftHeight=this.stageHeight-2*this.thumbsVOffset-t,this.prevStageWidth=this.stageWidth}},this.positionThumbnailsAndMain=function(){this.positionThumbnails(),this.positionLoadMoreButton(),this.totalWidth+=this.offsetTotalWidth},this.positionThumbnails=function(){for(var t,e,i,s,o,a,n=0;n<r.totalLoadedThumbnails;n++)o=r.playlist_ar[n].thumbnail,i=r.thumbWidth+2*r.borderSize,s=r.thumbHeight+2*r.borderSize,0<r.leftHeight&&n%r.totalRows<r.leftHeight&&s++,t=Math.floor(n/r.totalRows)*(i+r.thumbsHSpace)+r.thumbsHOffset,n%r.totalRows==0?(a=r.thumbsVOffset,e=r.thumbsVOffset):e=a,a+=s+r.thumbsVSpace,o.finalW=i,o.finalH=s,o.finalX=t,o.finalY=e,o.resizeAndPosition();r.totalWidth=o?t+i+r.thumbsHOffset:0},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){r.noSearch_do.w=r.noSearch_do.getWidth(),r.noSearch_do.h=r.noSearch_do.getHeight(),r.removeChild(r.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){r.removeChild(r.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),o.menu_do.isShowed_bl&&this.centerNoSearchFoundLabelWithMenu_bl?this.noSearch_do.setY(parseInt((this.stageHeight-o.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.stageHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),r.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.thumbnailsHolder_do.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){r.hideLoadMoreButton(),r.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){r.allowToLoadMoreThumbnails()?r.showLoadMoreButton():r.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(this.totalWidth+this.loadMoreButtonOffsetLeft),this.loadMoreButton_do.setY(parseInt((this.stageHeight-this.loadMoreButton_do.h)/2))):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt(this.totalWidth+this.loadMoreButtonOffsetLeft),y:parseInt((this.stageHeight-this.loadMoreButton_do.h)/2)}),this.offsetTotalWidth=this.loadMoreButtonOffsetLeft+this.loadMoreButtonOffsetRight+this.loadMoreButton_do.w):this.offsetTotalWidth=0},this.centerThumbnails=function(t){r.currentThumbnailsFinalX=r.thumbnailsFinalX,r.isMobileScrollBarRunning_bl||r.isDragging_bl||(r.stageWidth>=r.totalWidth?r.thumbnailsFinalX=Math.round((r.stageWidth-r.totalWidth)/2):0<r.thumbnailsFinalX?r.thumbnailsFinalX=0:r.thumbnailsFinalX<r.stageWidth-r.totalWidth&&(r.isLoadingMore_bl||(r.thumbnailsFinalX=r.stageWidth-r.totalWidth)),FWDAnimation.killTweensOf(r.thumbnailsHolder_do),t?FWDAnimation.to(r.thumbnailsHolder_do,.3,{x:r.thumbnailsFinalX}):r.thumbnailsHolder_do.setX(r.thumbnailsFinalX))},r.addMouseWheelSupport=function(){r.screen.addEventListener?(r.screen.addEventListener("mousewheel",r.mouseWheelDragHandler),r.screen.addEventListener("DOMMouseScroll",r.mouseWheelDragHandler)):r.screen.attachEvent&&r.screen.attachEvent("onmousewheel",r.mouseWheelDragHandler)},r.removeMouseWheelSupport=function(){r.screen.removeEventListener?(r.screen.removeEventListener("mousewheel",r.mouseWheelDragHandler),r.screen.removeEventListener("DOMMouseScroll",r.mouseWheelDragHandler)):r.screen.detachEvent&&r.screen.detachEvent("onmousewheel",r.mouseWheelDragHandler)},r.mouseWheelDragHandler=function(t){if(!(r.totalWidth<=r.stageWidth||r.isDragging_bl)){var e=t.detail||t.wheelDelta;if(t.wheelDelta&&(e*=-1),0<e?r.vx-=10:e<0&&(r.vx+=10),r.isMobileScrollBarRunning_bl||r.activateDragScrollBar(),!t.preventDefault)return!1;t.preventDefault()}},this.setupDragScrollbar=function(){r.isMobile_bl?r.hasPointerEvent_bl?r.screen.addEventListener("MSPointerDown",r.mobileScrBarStartHandler):r.screen.addEventListener("touchstart",r.mobileScrBarStartTest):r.screen.addEventListener?r.screen.addEventListener("mousedown",r.mobileScrBarStartHandler):r.screen.attachEvent&&r.screen.attachEvent("onmousedown",r.mobileScrBarStartHandler)},this.mobileScrBarStartTest=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);r.lastPressedX=e.screenX,r.lastPressedY=e.screenY,n.addEventListener("touchmove",r.mobileScrBarMoveTest)},this.mobileScrBarMoveTest=function(t){if(1==t.touches.length){var e=FWDRLUtils.getViewportMouseCoordinates(t);r.mouseX=e.screenX,r.mouseY=e.screenY;var i=Math.atan2(r.mouseY-r.lastPressedY,r.mouseX-r.lastPressedX),s=180*Math.abs(i)/Math.PI;120<s||s<60||o.isFullScreen_bl?(t.preventDefault(),r.mobileScrBarStartHandler(t),n.removeEventListener("touchmove",r.mobileScrBarMoveTest)):(r.disableThumbClick_bl=!0,n.addEventListener("touchend",r.mobileScrBarEndTest))}},this.mobileScrBarEndTest=function(t){n.removeEventListener("touchmove",r.mobileScrBarMoveTest),n.removeEventListener("touchend",r.mobileScrBarEndTest)},this.mobileScrBarStartHandler=function(t){if(!(r.stageWidth>r.totalWidth)){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t);r.stageWidth<r.totalWidth&&(r.isDragging_bl=!0,r.lastPressedX=e.screenX,r.setOnceDumySizeOnMove_bl=!0,r.vx=0,r.thumbnailsFinalX=r.thumbnailsHolder_do.getX(),clearTimeout(r.disableThumbClickDelayId_to),r.activateDragScrollBar()),r.isMobile_bl?r.hasPointerEvent_bl?(n.addEventListener("MSPointerUp",r.mobileScrBarEndHandler),n.addEventListener("MSPointerMove",r.mobileScrBarMoveHandler)):(n.addEventListener("touchend",r.mobileScrBarEndHandler),n.addEventListener("touchmove",r.mobileScrBarMoveHandler)):n.addEventListener?(n.addEventListener("mouseup",r.mobileScrBarEndHandler),n.addEventListener("mousemove",r.mobileScrBarMoveHandler)):document.attachEvent&&(document.attachEvent("onmouseup",r.mobileScrBarEndHandler),document.attachEvent("onmousemove",r.mobileScrBarMoveHandler))}},this.mobileScrBarMoveHandler=function(t){if(t.preventDefault&&t.preventDefault(),!(r.stageWidth>r.totalWidth)){var e=FWDRLUtils.getViewportMouseCoordinates(t);if(e.screenX!=r.lastPressedX){var i=e.screenX-r.lastPressedX;r.disableThumbClick_bl=!0,(r.setOnceDumySizeOnMove_bl&&!r.isMobile_bl||r.setOnceDumySizeOnMove_bl&&r.hasPointerEvent_bl)&&(r.dumy_do.setWidth(r.stageWidth),r.dumy_do.setHeight(r.stageHeight),r.curThumbnail_do&&r.curThumbnail_do.hideContent(),r.curSelectedThumbnail_do,r.setOnceDumySizeOnMove_bl=!1),r.thumbnailsFinalX+=i,r.thumbnailsFinalX=Math.round(r.thumbnailsFinalX),!r.ieOldMoveTest_bl&&FWDRLUtils.isIE?(clearInterval(r.ieOldMoveTestId_int),r.ieOldMoveTestId_int=setInterval(r.updateThumbnailsPosition,16),r.ieOldMoveTest_bl=!0):FWDRLUtils.isIE||r.thumbnailsHolder_do.setX(r.thumbnailsFinalX),r.lastPressedX=e.screenX,r.vx=2*i}}},this.updateThumbnailsPosition=function(){r.thumbnailsHolder_do.setX(r.thumbnailsFinalX)},this.mobileScrBarEndHandler=function(t){clearInterval(r.ieOldMoveTestId_int),r.ieOldMoveTest_bl=!1,r.isDragging_bl=!1,r.disableThumbClickDelayId_to=setTimeout(function(){r.disableThumbClick_bl=!1},100),r.isMobile_bl&&!r.hasPointerEvent_bl||(r.dumy_do.setWidth(0),r.dumy_do.setHeight(0)),r.isMobile_bl?r.hasPointerEvent_bl?(n.removeEventListener("MSPointerUp",r.mobileScrBarEndHandler),n.removeEventListener("MSPointerMove",r.mobileScrBarMoveHandler)):(n.removeEventListener("touchend",r.mobileScrBarEndHandler),n.removeEventListener("touchmove",r.mobileScrBarMoveHandler)):n.removeEventListener?(n.removeEventListener("mouseup",r.mobileScrBarEndHandler),n.removeEventListener("mousemove",r.mobileScrBarMoveHandler)):document.detachEvent&&(document.detachEvent("onmouseup",r.mobileScrBarEndHandler),document.detachEvent("onmousemove",r.mobileScrBarMoveHandler))},this.updateMobileScrollBar=function(){r.isDragging_bl||(r.stageWidth<=r.totalWidth&&(r.vx*=r.friction,r.thumbnailsFinalX+=r.vx,0<r.thumbnailsFinalX?(r.vx2=.3*(0-r.thumbnailsFinalX),r.vx*=r.friction,r.thumbnailsFinalX+=r.vx2):r.thumbnailsFinalX<r.stageWidth-r.totalWidth&&(r.vx2=.3*(r.stageWidth-r.totalWidth-r.thumbnailsFinalX),r.vx*=r.friction,r.thumbnailsFinalX+=r.vx2),r.thumbnailsFinalX<r.stageWidth-r.totalWidth&&"loadmoreonscroll"==r.thumbnailLoadingType_str&&!r.isLoadingMore_bl&&r.allowToLoadMoreThumbnails()&&(clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){r.loadMore()},500))),Math.abs(r.vx)<.01&&r.deactivateDragScrollBar(),r.thumbnailsHolder_do.setX(Math.round(r.thumbnailsFinalX))),r.stageWidth>r.totalWidth&&r.deactivateDragScrollBar()},this.activateDragScrollBar=function(){r.stageWidth>r.totalWidth||r.isMobileScrollBarRunning_bl||(r.isMobileScrollBarRunning_bl=!0,FWDAnimation.killTweensOf(r.thumbnailsHolder_do),clearInterval(r.updateMobileScrollBarId_int),r.updateMobileScrollBarId_int=setInterval(r.updateMobileScrollBar,16))},this.deactivateDragScrollBar=function(){r.isMobileScrollBarRunning_bl=!1,r.vx=r.vx2=0,clearInterval(r.updateMobileScrollBarId_int),n.removeEventListener&&n.removeEventListener("touchmove",r.mobileScrBarMoveTest)},this.init()};l.setPrototype=function(){l.prototype=new FWDRLDisplayObject("div","relative")},l.OPEN_LIGHTBOX="openLightbox",l.CATEGORY_UPDATE="categoryUpdate",l.ERROR="error",l.prototype=null,n.FWDUGPClassicHorizontalThumbnailsManager=l}(window),function(n){var r=function(a,t){var d=this;r.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.columnHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetTop=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetBottom=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetX=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftWidth=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.centerWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.hasExtraText_bl=a.hasExtraText_bl,this.isVerticalType_bl=a.isVerticalType_bl,this.hasSearchResult_bl=!0,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.setBkColor(t.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==d.thumbnailLoadingType_str?this.setupLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.setupLoadMoreOnScroll(),this.filterCategories(),this.startGetMousePosition(),this.setupNoSearch()},this.resizeAndPosition=function(){d.stageWidth=t.stageWidth,d.setDataForResize(),d.positionThumbnailsAndMain()},this.startGetMousePosition=function(){n.addEventListener?(d.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);d.isMobile_bl||(d.globalX=e.screenX,d.globalY=e.screenY)},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){d.searchValue=t,clearTimeout(d.updateSearch_to),d.updateSearch_to=setTimeout(function(){d.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isVerticalType_bl=a.isVerticalType_bl,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,i.htmlExtraContent_str=this.sourcePlaylist_ar[e].htmlExtraContent_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":d.sourcePlaylist_ar[e].type_str,o=0;o<d.totalOriginalThumbnails;o++)o<i&&(d.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||d.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(d.sourcePlaylist_ar[t.id].thumbnailPath_str,d.sourcePlaylist_ar[t.id].rawDescription_str,d.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(d.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,d.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(d.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,d.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):d.dispatchEvent(r.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(r.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),d.image_img&&(d.image_img.onerror=null,d.image_img.onload=null)},this.startToLoadImage=function(t){d.image_img=new Image,d.image_img.onerror=d.onImageLoadErrorHandler,d.image_img.onload=d.onImageLoadHandler,d.image_img.src=t},this.loadThumbImage=function(){var t;d.stopToLoadImage();for(var e=0;e<d.totalCats;e++)if(d.loadMoreCatsData_ar[e].isSelected&&d.loadMoreCatsData_ar[e].loaded<d.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<d.tempTotalThumbnails&&(d.curDataThumbnail=d.tempPlaylist_ar[e],d.curDataThumbnail.catId!=t||d.curDataThumbnail.thumbnail);e++);d.startToLoadImage(d.sourcePlaylist_ar[d.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+d.sourcePlaylist_ar[d.curDataThumbnail.id].thumbnailPath_str+"</font>";d.dispatchEvent(r.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=d.getThumbnail(d.curDataThumbnail.catId,d.curDataThumbnail.id);d.loadMoreCatsData_ar[d.curDataThumbnail.catId].loaded++,d.curDataThumbnail.thumbnail=e,(d.originalDataThumbnails_ar[d.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=d.image_img.width,e.originalHeight=d.image_img.height,e.addImage(d.image_img),d.countLoadedThumbs++,d.isFirstThumbnailLoaded_bl||setTimeout(function(){d.firstThumbnailShowed_bl=!0},200),d.updateCurThumbnails(),d.positionThumbnailsAndMain()},this.updateCatsLimits=function(){var t=d.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=d.thumbnailsPerSet,e=0;0<t&&e<d.totalCats;)d.loadMoreCatsData_ar[e].isSelected&&(d.loadMoreCatsData_ar[e].limit+t>d.loadMoreCatsData_ar[e].total?(t-=d.loadMoreCatsData_ar[e].total-d.loadMoreCatsData_ar[e].limit,d.loadMoreCatsData_ar[e].limit=d.loadMoreCatsData_ar[e].total):(d.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);d.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];d.loadMoreCatsData_ar=[];for(var o=0;o<d.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<d.totalThumbnails;o++)i[(t=d.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<d.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,d.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],d.stopToLoadImage();for(var s=0;s<d.sourcePlaylist_ar.length;s++)t=d.originalDataThumbnails_ar[s],d.sourcePlaylist_ar[s].titleText_str&&-1!=d.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(d.searchValue)?d.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(d.totalThumbnails=d.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==d.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==d.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[d.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?(this.hasSearchResult_bl=!1,this.showNoSearch()):(this.hasSearchResult_bl=!0,this.hideNoSearch()),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(d.updateCurThumbnails(),d.positionThumbnailsAndMain()),"loadmorewithbutton"==d.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==d.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==d.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit&&(clearTimeout(this.loadThumbnailId_to),this.hasExtraText_bl?this.loadThumbnailId_to=setTimeout(this.loadThumbImage,53):this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)),"loadmorewithbutton"==d.thumbnailLoadingType_str?this.hideOrShowLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.loadInfinite()},this.setDataForResize=function(){if(this.stageWidth){this.totalColumns=Math.ceil((this.stageWidth-2*this.thumbsHOffset+this.thumbsHSpace)/(this.thumbnailMaxWidth+2*this.borderSize+this.thumbsHSpace)),this.thumbWidth=Math.floor((this.stageWidth-2*this.thumbsHOffset+this.thumbsHSpace-this.totalColumns*(this.thumbsHSpace+2*this.borderSize))/this.totalColumns),this.thumbHeight=Math.floor(this.thumbWidth*(this.thumbnailMaxHeight/this.thumbnailMaxWidth));var t=this.totalColumns*(this.thumbWidth+2*this.borderSize+this.thumbsHSpace)-this.thumbsHSpace;this.leftWidth=this.stageWidth-2*this.thumbsHOffset-t,this.prevStageWidth=this.stageWidth}},this.positionThumbnailsAndMain=function(){this.hasExtraText_bl?(d.setThumbsExtraTextWidth(),clearTimeout(this.resizeWithExtraContentId_to),this.resizeWithExtraContentId_to=setTimeout(function(){d.positionThumbnailWithExtraContent(),d.setFinalSize()},51)):(this.positionThumbnails(),this.setFinalSize())},this.setFinalSize=function(){d.positionLoadMoreButton(),d.totalHeight+=d.offsetTotalHeight,d.hasSearchResult_bl||(d.totalHeight=d.thumbHeight,d.positionNoSearchLabel()),d.prevTotalHeight!=d.totalHeight&&(d.firstThumbnailShowed_bl&&d.animateParent_bl&&!d.isMobile_bl?(FWDAnimation.to(d,.7,{h:d.totalHeight,ease:Quart.easeOut}),clearTimeout(d.arangeFaterTweenId_to),d.arangeFaterTweenId_to=setTimeout(function(){d.stageWidth!=t.stageContainer.offsetWidth&&t.onResizeHandler()},700)):d.setHeight(d.totalHeight)),t.setFinalSize(),t.stageWidth=t.stageContainer.offsetWidth,d.prevTotalHeight=d.totalHeight,d.stageWidth!=t.stageWidth&&t.onResizeHandler()},this.positionThumbnails=function(){for(var t,e,i,s,o,a,n=0;n<d.totalLoadedThumbnails;n++)o=d.playlist_ar[n].thumbnail,i=d.thumbWidth+2*d.borderSize,s=d.thumbHeight+2*d.borderSize,0<d.leftWidth&&n%d.totalColumns<d.leftWidth&&i++,e=Math.floor(n/d.totalColumns)*(s+d.thumbsVSpace)+d.thumbsVOffset,n%d.totalColumns==0?(a=d.thumbsHOffset,t=d.thumbsHOffset):t=a,a+=i+d.thumbsHSpace,o.finalW=i,o.finalH=s,o.finalX=t,o.finalY=e,o.resizeAndPosition();d.totalHeight=o?e+s+d.thumbsVOffset:0},this.setThumbsExtraTextWidth=function(){for(var t,e,i=0;i<d.totalLoadedThumbnails;i++)e=d.playlist_ar[i].thumbnail,t=d.thumbWidth+2*d.borderSize,0<d.leftWidth&&i%d.totalColumns<d.leftWidth&&t++,e.hasExtraText_bl&&e.textHolder_do.setWidth(t-2*d.borderSize)},this.positionThumbnailWithExtraContent=function(){for(var t,e,i,s,o,a,n=0,r=d.thumbsVOffset,l=0;l<d.totalLoadedThumbnails;l++)(o=d.playlist_ar[l].thumbnail).hasExtraText_bl&&(o.addToHeight=o.text3_do.getHeight()),i=d.thumbWidth+2*d.borderSize,s=d.thumbHeight+2*d.borderSize,0<d.leftWidth&&l%d.totalColumns<d.leftWidth&&i++,0!=l&&l%d.totalColumns==0&&(r+=s+n+d.thumbsVSpace),o.addToHeight>n&&(n=o.addToHeight),l%d.totalColumns==0?(a=d.thumbsHOffset,t=d.thumbsHOffset,l<d.totalLoadedThumbnails-1&&(n=0)):t=a,e=r,a+=i+d.thumbsHSpace,o.finalW=i,o.finalH=s+o.addToHeight,o.finalX=t,o.finalY=e,o.resizeAndPosition();d.totalHeight=o?e+s+n+d.thumbsVOffset:0},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){d.noSearch_do.w=d.noSearch_do.getWidth(),d.noSearch_do.h=d.noSearch_do.getHeight(),d.removeChild(d.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){d.removeChild(d.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),t.menu_do.isShowed_bl&&this.centerWithMenu_bl?this.noSearch_do.setY(parseInt((this.totalHeight-t.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.totalHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),d.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){d.hideLoadMoreButton(),d.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){d.allowToLoadMoreThumbnails()?d.showLoadMoreButton():d.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(parseInt((this.stageWidth-this.loadMoreButton_do.w)/2)),this.loadMoreButton_do.setY(this.totalHeight+this.loadMoreButtonOffsetTop)):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt((this.stageWidth-this.loadMoreButton_do.w)/2),y:parseInt(this.totalHeight+this.loadMoreButtonOffsetTop)}),this.offsetTotalHeight=this.loadMoreButtonOffsetTop+this.loadMoreButtonOffsetBottom+this.loadMoreButton_do.h):this.offsetTotalHeight=0},this.setupLoadMoreOnScroll=function(){n.addEventListener?n.addEventListener("scroll",this.onScrollHandler):n.attachEvent&&n.attachEvent("onscroll",this.onScrollHandler)},this.onScrollHandler=function(){d.loadInfinite(),d.totalLoadedThumbnails==d.totalThumbnails&&(n.removeEventListener?n.removeEventListener("scroll",this.onScrollHandler):n.detachEvent&&n.detachEvent("onscroll",this.onScrollHandler))},this.loadInfinite=function(){if(this.allowToLoadMoreThumbnails()){var t=this.playlist_ar[this.playlist_ar.length-1].thumbnail;clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){t.getGlobalY()+t.finalH<FWDRLUtils.getViewportSize().h&&d.loadMore()},500)}},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div","relative")},r.OPEN_LIGHTBOX="openLightbox",r.CATEGORY_UPDATE="categoryUpdate",r.ERROR="error",r.prototype=null,n.FWDUGPClassicVerticalThumbnailsManager=r}(window),function(window){var FWDUGPData=function(props,parent){var self=this,prototype=FWDUGPData.prototype;this.props_obj=props,this.rootElement_el=null,this.graphicsPaths_ar=[],this.skinPaths_ar=[],this.playlist_ar=[],this.lightboxPlaylist_ar=[],this.categories_ar=[],this.parsedPlaylist_ar=[],this.youtubeData_ar,this.backgroundColor_str,this.thumbnailOverlayBackgroundColor_str,this.lightBoxInfoWindowBackgroundColor_str,this.lightBoxItemBorderColor_str,this.lightBoxItemBackgroundColor_str,this.grabIconPath_str,this.handIconPath_str,this.imageIconPath_str,this.videoIconPath_str,this.linkIconPath_str,this.mainFolderPath_str,this.gridSkinPath_str,this.rightClickContextMenu_str,this.selectLabel_str,this.allCategoriesLabel_str,this.accessToken_str,this.scClientId_str="0aff03b3b79c2ac02fd2283b300735bd",this.totalPlaylists,this.startAtCategory,this.thumbnailMaxWidth,this.thumbnailMaxHeight,this.thumbnailOverlayOpacity,this.countLoadedGraphics=0,this.totalGraphics,this.totalItems,this.lightBoxInfoWindowBackgroundOpacity,this.lightBoxBackgroundOpacity,this.lightBoxBorderSize,this.lightBoxSlideShowDelay,this.countLoadedSkinImages=0,this.youtubeLoadId=0,this.nextPageToken_str=0,this.parseDelayId_to,this.loadImageId_to,this.isYoutube_bl,this.showLightBoxZoomButton_bl,this.showLightBoxInfoButton_bl,this.showLighBoxSlideShowButton_bl,this.addLightBoxKeyboardSupport_bl,this.showLighBoxNextAndPrevButtons_bl,this.showContextMenu_bl,this.disableThumbnailsInteractivity_bl,this.isPlaylistDispatchingError_bl,this.isMobile_bl=FWDRLUtils.isMobile,this.showHelpScreen_bl,this.init=function(){self.parseProperties()},this.parseProperties=function(){var t;if(self.mainFolderPath_str=self.props_obj.mainFolderPath,self.mainFolderPath_str)if(self.mainFolderPath_str.lastIndexOf("/")+1!=self.mainFolderPath_str.length&&(self.mainFolderPath_str+="/"),self.gridSkinPath_str=self.props_obj.gridSkinPath,self.gridSkinPath_str)if(self.gridSkinPath_str.lastIndexOf("/")+1!=self.gridSkinPath_str.length&&(self.gridSkinPath_str+="/"),self.gridSkinPath_str=self.mainFolderPath_str+self.gridSkinPath_str,self.lightboxSkinPath_str=self.props_obj.lightboxSkinPath,self.gridSkinPath_str){self.rightClickContextMenu_str=self.props_obj.rightClickContextMenu||"developer","developer"==self.rightClickContextMenu_str||"disabled"==self.rightClickContextMenu_str||"default"==self.rightClickContextMenu_str||(self.rightClickContextMenu_str="developer"),self.handIconPath_str=self.gridSkinPath_str+"hand.cur",self.grabIconPath_str=self.gridSkinPath_str+"grab.cur",self.comboBoxPosition_str=self.props_obj.comboBoxPosition||"topright",self.comboBoxPosition_str=self.comboBoxPosition_str.toLowerCase(),"topright"==self.comboBoxPosition_str.toLowerCase()||"topleft"==self.comboBoxPosition_str.toLowerCase()||(self.comboBoxPosition_str="topright"),self.buttonsAlignment_str=self.props_obj.buttonsAlignment||"in","in"==self.buttonsAlignment_str||"out"==self.buttonsAlignment_str||(self.buttonsAlignment_str="in"),self.thumbnailLoadingType_str=String(self.props_obj.thumbnailLoadingType).toLowerCase()||"default","loadmorewithbutton"==self.thumbnailLoadingType_str||"loadmoreonscroll"==self.thumbnailLoadingType_str||"default"==self.thumbnailLoadingType_str||(self.thumbnailLoadingType_str="default"),self.hideAndShowTransitionType_str=String(self.props_obj.hideAndShowTransitionType).toLowerCase()||"scale","scale"==self.hideAndShowTransitionType_str||"opacity"==self.hideAndShowTransitionType_str||"rotation"==self.hideAndShowTransitionType_str||"none"==self.hideAndShowTransitionType_str||(self.hideAndShowTransitionType_str="scale"),FWDRLUtils.hasTransform2d||(self.hideAndShowTransitionType_str="none"),self.textVerticalAlign_str=String(self.props_obj.textVerticalAlign).toLowerCase()||"center","center"==self.textVerticalAlign_str||"top"==self.textVerticalAlign_str||"bottom"==self.textVerticalAlign_str||(self.textVerticalAlign_str="center"),self.imageTransitionDirection_str=String(self.props_obj.curtainRevealDirection).toLowerCase()||"top","top"==self.imageTransitionDirection_str||"bottom"==self.imageTransitionDirection_str||"left"==self.imageTransitionDirection_str||"right"==self.imageTransitionDirection_str||(self.imageTransitionDirection_str="top"),self.menuPosition_str=String(self.props_obj.menuPosition).toLowerCase()||"center","center"==self.menuPosition_str||"left"==self.menuPosition_str||"right"==self.menuPosition_str||(self.menuPosition_str="center"),self.textAnimType_str=String(self.props_obj.textAnimationType).toLowerCase()||"opacity";"opacity"==self.textAnimType_str||"scale"==self.textAnimType_str||"scalerandom"==self.textAnimType_str||self.textAnimType_str;if(self.menuType_str=String(self.props_obj.menuType).toLowerCase()||"list","list"==self.menuType_str||"combobox"==self.menuType_str||(self.menuType_str="list"),self.warningIconPath_str=self.gridSkinPath_str+"warning.png",self.searchLabel_str=self.props_obj.searchLabel,self.searchClassName_str=self.props_obj.searchClassName,self.searchClassName_str="searchClassName",self.searchNotFoundClassName_str="searchNotFound",self.searchNotFoundLabel_str=self.props_obj.searchNotFoundLabel,self.comboboxSelectorLabel_str=self.props_obj.comboboxSelectorLabel,self.ytbTitleClassName_str=self.props_obj.ytbTitleClassName,self.ytbDescriptionClassName_str=self.props_obj.ytbDescriptionClassName,self.comboboxArrowNormalColor_str=self.props_obj.comboboxArrowNormalColor||"#000000",self.comboboxArrowSelectedColor_str=self.props_obj.comboboxArrowSelectedColor||"#000000",self.showYtbTitle_bl="yes"==self.props_obj.showYtbTitle,self.showSearchButton_bl="yes"==self.props_obj.showSearchBox,self.showYtbDescription_bl="yes"==self.props_obj.showYtbDescription,self.centerNoSearchFoundLabelWithMenu_bl="no"!=self.props_obj.centerNoSearchFoundLabelWithMenu,self.ytbTitleMaxLength=parseInt(self.props_obj.ytbTitleMaxLength),self.facebookTitleClassName_str=self.props_obj.facebookTitleClassName,self.facebookDescriptionClassName_str=self.props_obj.facebookDescriptionClassName,self.showFacebookTitle_bl="yes"==self.props_obj.showFacebookTitle,self.showFacebookDescription_bl="yes"==self.props_obj.showFacebookDescription,self.facebookTitleMaxLength=parseInt(self.props_obj.facebookTitleMaxLength),self.soundCloudTitleClassName_str=self.props_obj.soundCloudTitleClassName,self.soundCloudTrackClassName_str=self.props_obj.soundCloudTrackClassName,self.showSoundCloudUserName_bl="yes"==self.props_obj.showSoundCloudTitle,self.showSoundCloudTrack_bl="yes"==self.props_obj.showSoundCloudTrack,self.pintrestDescriptionClassName_str=self.props_obj.pintrestDescriptionClassName,self.showPintrestDescription_bl="yes"==self.props_obj.showPintrestDescription,self.showPinButton_bl="yes"==self.props_obj.usePinIconButton,self.flickrAPIKey_str=self.props_obj.flickrAppId,self.flickrTitleClassName_str=self.props_obj.flickrTitleClassName,self.showFlickrkDescription_bl="yes"==self.props_obj.showFlickrDescription,self.flickrTitleMaxLength=parseInt(self.props_obj.flickrDescriptionMaxLength),"classicvertical"!=parent.gridType_str&&"masonryvertical"!=parent.gridType_str&&"flexiblevertical"!=parent.gridType_str||(self.showAsExtraText_bl="yes"==self.props_obj.showAsExtraText),FWDRLUtils.hasTransform2d||!1,self.thumbanilBoxShadow_str=self.props_obj.thumbanilBoxShadow||"none",self.presetType_str=String(self.props_obj.preset).toLowerCase(),"3d"!=self.presetType_str||FWDRLUtils.hasTransform3d||(self.presetType_str="movetext"),self.allCategoriesLabel_str=self.props_obj.allCategoriesLabel,self.slideShowAutoPlay_str=self.props_obj.slideShowAutoPlay,self.addKeyboardSupport_str=self.props_obj.addKeyboardSupport,self.showCloseButton_str=self.props_obj.showCloseButton,self.showShareButton_str=self.props_obj.showShareButton,self.showZoomButton_str=self.props_obj.showZoomButton,self.showSlideShowButton_str=self.props_obj.showSlideShowButton,self.showSlideShowAnimation_str=self.props_obj.showSlideShowAnimation,self.showNextAndPrevButtons_str=self.props_obj.showNextAndPrevButtons,self.showNextAndPrevButtonsOnMobile_str=self.props_obj.showNextAndPrevButtonsOnMobile,self.itemBoxShadow_str=self.props_obj.itemBoxShadow,self.itemBackgroundColor_str=self.props_obj.itemBackgroundColor,self.itemBorderColor_str=self.props_obj.itemBorderColor,self.backgroundColor_str=self.props_obj.lightboxBackgroundColor,self.showDescriptionButton_str=self.props_obj.showDescriptionButton,self.showDescriptionByDefault_str=self.props_obj.showDescriptionByDefault,self.descriptionWindowAnimationType_str=self.props_obj.descriptionWindowAnimationType,self.descriptionWindowPosition_str=self.props_obj.descriptionWindowPosition,self.useAsModal_str=self.props_obj.useAsModal,self.descriptionWindowBackgroundColor_str=self.props_obj.descriptionWindowBackgroundColor,self.descriptionWindowBackgroundOpacity=self.props_obj.descriptionWindowBackgroundOpacity,self.useVideo_str=self.props_obj.useVideo,self.useAudio_str=self.props_obj.useAudio,self.videoShowFullScreenButton_str=self.props_obj.videoShowFullScreenButton,self.nextVideoOrAudioAutoPlay_str=self.props_obj.nextVideoOrAudioAutoPlay,self.videoAutoPlay_str=self.props_obj.videoAutoPlay,self.videoLoop_str=self.props_obj.videoLoop,self.audioAutoPlay_str=self.props_obj.audioAutoPlay,self.audioLoop_str=self.props_obj.audioLoop,self.videoControllerBackgroundColor_str=self.props_obj.videoControllerBackgroundColor,self.videoPosterBackgroundColor_str=self.props_obj.videoPosterBackgroundColor,self.videoPosterBackgroundColor_str=self.props_obj.videoPosterBackgroundColor,self.audioControllerBackgroundColor_str=self.props_obj.audioControllerBackgroundColor,self.timeColor_str=self.props_obj.timeColor,self.facebookAppId_str=self.props_obj.facebookAppId,self.backgroundColor_str=self.props_obj.backgroundColor||"transparent",self.lightBoxInfoWindowBackgroundColor_str=self.props_obj.lightBoxInfoWindowBackgroundColor||"transparent",self.thumbnailBorderNormalColor_str=self.props_obj.thumbnailBorderNormalColor||"transparent",self.thumbnailBorderSelectedColor_str=self.props_obj.thumbnailBorderSelectedColor||"transparent",self.thumbnailBackgroundColor_str=self.props_obj.thumbnailBackgroundColor||"transparent",self.thumbnailOverlayColor_str=self.props_obj.thumbnailOverlayColor||"transparent",self.loadMoreButtonLabel_str=self.props_obj.loadMoreButtonLabel||"not defined",self.comboboxSelectorBackgroundNormalClassName_str=self.props_obj.comboboxSelectorBackgroundNormalClassName||"",self.comboboxSelectorBackgroundNormalClassName_str="UGPMenuButtonBackgroundNormal",self.comboboxSelectorBackgroundSelectedClassName_str=self.props_obj.comboboxSelectorBackgroundSelectedClassName||"",self.comboboxSelectorBackgroundSelectedClassName_str="UGPMenuButtonBackgroundSelected",self.comboboxSelectorTextNormalClassName_str=self.props_obj.comboboxSelectorTextNormalClassName||"",self.comboboxSelectorTextNormalClassName_str="UGPMenuButtonTextNormal",self.comboboxSelectorTextSeectedClassName_str=self.props_obj.comboboxSelectorTextSeectedClassName||"",self.comboboxSelectorTextSeectedClassName_str="UGPMenuButtonTextSelected",self.menuBackgroundClass_str=self.props_obj.menuBackgroundClassName||"",self.menuBackgroundClass_str="UGPMenuBackground",self.menuButtonBackgroundNormalClassName_str=self.props_obj.menuButtonBackgroundNormalClassName||"",self.menuButtonBackgroundNormalClassName_str="UGPMenuButtonBackgroundNormal",self.menuButtonBackgroundSelectedClassName_str=self.props_obj.menuButtonBackgroundSelectedClassName||"",self.menuButtonBackgroundSelectedClassName_str="UGPMenuButtonBackgroundSelected",self.menuButtonTextNormalClassName_str=self.props_obj.menuButtonTextNormalClassName||"",self.menuButtonTextNormalClassName_str="UGPMenuButtonTextNormal",self.menuButtonTextSeectedClassName_str=self.props_obj.menuButtonTextSeectedClassName||"",self.menuButtonTextSeectedClassName_str="UGPMenuButtonTextSelected",self.menuButtonsSpacersClassName_str=self.props_obj.menuButtonsSpacersClassName||"",self.menuButtonsSpacersClassName_str="UGPMenuButtonsSpacers",self.loadMoreButtonBackgroundNormalClassName_str=self.props_obj.loadMoreButtonBackgroundNormalClassName||"",self.loadMoreButtonBackgroundNormalClassName_str="UGPLoadMoreButtonBackgroundNormal",self.loadMoreButtonBackgroundSelectedClassName_str=self.props_obj.loadMoreButtonBackgroundSelectedClassName||"",self.loadMoreButtonBackgroundSelectedClassName_str="UGPLoadMoreButtonBackgroundSelected",self.loadMoreButtonTextNormalClassName_str=self.props_obj.loadMoreButtonTextNormalClassName||"",self.loadMoreButtonTextNormalClassName_str="UGPLoadMoreButtonTextNormal",self.loadMoreButtonTextSeectedClassName_str=self.props_obj.loadMoreButtonTextSeectedClassName||"",self.loadMoreButtonTextSeectedClassName_str="UGPLoadMoreButtonTextSelected",self.loadMoreButtonOffsetTop=self.props_obj.loadMoreButtonOffsetTop||0,self.loadMoreButtonOffsetLeft=self.props_obj.loadMoreButtonOffsetLeft||0,self.loadMoreButtonOffsetRight=self.props_obj.loadMoreButtonOffsetRight||0,self.loadMoreButtonOffsetBottom=self.props_obj.loadMoreButtonOffsetBottom||0,self.loadMoreButtonBorderSize=self.props_obj.loadMoreButtonBorderSize||0,self.loadMoreButtonBorderRadius=self.props_obj.loadMoreButtonBorderRadius||0,self.thumbnailMaxWidth=self.props_obj.thumbnailMaxWidth||280,self.thumbnailMaxWidth<20&&(self.thumbnailMaxWidth=20),self.thumbnailMaxHeight=self.props_obj.thumbnailMaxHeight||240,self.thumbnailMaxHeight<20&&(self.thumbnailMaxHeight=20),self.thumbnailOverlayOpacity=null==self.props_obj.thumbnailOverlayOpacity?1:self.props_obj.thumbnailOverlayOpacity,self.spaceBetweenThumbanilIcons=self.props_obj.spaceBetweenThumbanilIcons||5,self.spaceBetweenTextAndIcons=self.props_obj.spaceBetweenTextAndIcons||0,self.howManyThumbnailsToDisplayPerSet=parseInt(self.props_obj.howManyThumbnailsToDisplayPerSet)||2,self.howManyThumbnailsToDisplayPerSet<2&&(self.howManyThumbnailsToDisplayPerSet=2),"default"==self.thumbnailLoadingType_str&&(self.howManyThumbnailsToDisplayPerSet=1e3),self.menuMaxWidth=self.props_obj.menuMaxWidth||500,self.menuOffsetTop=self.props_obj.menuOffsetTop||0,self.menuButtonsSapcerLeftAndRight=self.props_obj.menuButtonsSapcerLeftAndRight||0,self.menuOffsetBottom=self.props_obj.menuOffsetBottom||0,self.horizontalSpaceBetweenMenuButtons=self.props_obj.horizontalSpaceBetweenMenuButtons||0,self.verticalSpaceBetweenMenuButtons=self.props_obj.verticalSpaceBetweenMenuButtons||0,self.menuButtonSpacerWidth=self.props_obj.menuButtonSpacerWidth||0,self.menuButtonSpacerHeight=self.props_obj.menuButtonSpacerHeight||0,self.thumbnailBorderSize=self.props_obj.thumbnailBorderSize||0,self.thumbnailBorderRadius=self.props_obj.thumbnailBorderRadius||0,self.loadMoreButtonOffsetTop=self.props_obj.loadMoreButtonOffsetTop||0,self.loadMoreButtonOffsetBottom=self.props_obj.loadMoreButtonOffsetBottom||0,self.lightBoxBackgroundColor_str=self.props_obj.lightBoxBackgroundColor||"transparent",self.lightBoxInfoWindowBackgroundOpacity=self.props_obj.lightBoxInfoWindowBackgroundOpacity||1,self.lightBoxBackgroundOpacity=self.props_obj.lightBoxInfoWindowBackgroundOpacity||1,self.lightBoxMainBackgroundOpacity=self.props_obj.lightBoxMainBackgroundOpacity||1,self.lightBoxItemBorderColor_str=self.props_obj.lightBoxItemBorderColor||"transparent",self.lightBoxItemBackgroundColor_str=self.props_obj.lightBoxItemBackgroundColor||"transparent",self.buttonsOffestY=0,self.contentOffsetY=0,self.lightBoxBorderSize=self.props_obj.lightBoxBorderSize||0,self.lightBoxSlideShowDelay=1e3*self.props_obj.lightBoxSlideShowDelay||3e3,self.startAtCategory_ar=[parseInt(self.props_obj.startAtCategory)],self.buttonsHideDelay=self.props_obj.buttonsHideDelay,self.slideShowDelay=self.props_obj.slideShowDelay,self.defaultItemWidth=self.props_obj.defaultItemWidth,self.defaultItemHeight=self.props_obj.defaultItemHeight,self.itemOffsetHeight=self.props_obj.itemOffsetHeight,self.spaceBetweenButtons=self.props_obj.spaceBetweenButtons,self.buttonsOffsetIn=self.props_obj.buttonsOffsetIn,self.buttonsOffsetOut=self.props_obj.buttonsOffsetOut,self.itemBorderSize=self.props_obj.itemBorderSize||0,self.itemBorderRadius=self.props_obj.itemBorderRadius||0,self.thumbnailIconWidth=self.props_obj.thumbnailIconWidth||20,self.thumbnailIconHeight=self.props_obj.thumbnailIconHeight||0,self.backgroundOpacity=self.props_obj.backgroundOpacity,self.horizontalSpaceBetweenThumbnails=self.props_obj.horizontalSpaceBetweenThumbnails||0,self.verticalSpaceBetweenThumbnails=self.props_obj.verticalSpaceBetweenThumbnails||0,self.thumbnailsHorizontalOffset=self.props_obj.thumbnailsHorizontalOffset||0,self.thumbnailsVerticalOffset=self.props_obj.thumbnailsVerticalOffset||0,self.useIconButtons_bl=self.props_obj.useIconButtons,self.useIconButtons_bl="yes"==self.useIconButtons_bl,self.inverseButtonsIcons_bl=self.props_obj.inverseButtonsIcons,self.inverseButtonsIcons_bl="yes"==self.inverseButtonsIcons_bl,self.inverseButtonsIcons_bl?(self.linkIconPathN_str=self.gridSkinPath_str+"link-icon-with-background.png",self.linkIconPathS_str=self.gridSkinPath_str+"link-icon.png"):(self.linkIconPathN_str=self.gridSkinPath_str+"link-icon.png",self.linkIconPathS_str=self.gridSkinPath_str+"link-icon-with-background.png"),self.disableThumbnailsInteractivity_bl=self.props_obj.disableThumbnailsInteractivity,self.disableThumbnailsInteractivity_bl="yes"==self.disableThumbnailsInteractivity_bl,self.disableThumbnails_bl=self.props_obj.disableThumbnails,self.disableThumbnails_bl="no"!=self.disableThumbnails_bl,self.addMouseWheelSupport_bl=self.props_obj.addMouseWheelSupport,self.addMouseWheelSupport_bl="yes"==self.addMouseWheelSupport_bl,self.addLightBoxKeyboardSupport_bl=self.props_obj.addLightBoxKeyboardSupport,self.addLightBoxKeyboardSupport_bl="no"!=self.addLightBoxKeyboardSupport_bl,self.showLighBoxNextAndPrevButtons_bl=self.props_obj.showLightBoxNextAndPrevButtons,self.showLighBoxNextAndPrevButtons_bl="no"!=self.showLighBoxNextAndPrevButtons_bl,self.showLightBoxZoomButton_bl=self.props_obj.showLightBoxZoomButton,self.showLightBoxZoomButton_bl="no"!=self.showLightBoxZoomButton_bl,self.showLightBoxInfoButton_bl=self.props_obj.showLightBoxInfoButton,self.showLightBoxInfoButton_bl="no"!=self.showLightBoxInfoButton_bl,self.showLighBoxSlideShowButton_bl=self.props_obj.showLighBoxSlideShowButton,self.showLighBoxSlideShowButton_bl="no"!=self.showLighBoxSlideShowButton_bl,self.showAllCategories_bl=self.props_obj.showAllCategories,self.showAllCategories_bl="yes"==self.showAllCategories_bl,self.keepThumbnailsOriginalSizeOnGridStart_bl=self.props_obj.keepThumbnailsOriginalSizeOnGridStart,self.keepThumbnailsOriginalSizeOnGridStart_bl="yes"==self.keepThumbnailsOriginalSizeOnGridStart_bl,self.randomizeCategories_bl=self.props_obj.randomizeCategories,self.randomizeCategories_bl="yes"==self.randomizeCategories_bl,self.animateParent_bl=self.props_obj.animateParent,self.animateParent_bl="yes"==self.animateParent_bl,self.showMenu_bl=self.props_obj.showMenu,self.showMenu_bl="yes"==self.showMenu_bl,self.showMenuButtonsSpacers_bl=self.props_obj.showMenuButtonsSpacers,self.showMenuButtonsSpacers_bl="yes"==self.showMenuButtonsSpacers_bl,self.multipleCategorySelection_bl=self.props_obj.multipleCategorySelection,self.multipleCategorySelection_bl="yes"==self.multipleCategorySelection_bl,self.showTotalThumbnailsPerCategory_bl=self.props_obj.showTotalThumbnailsPerCategory,self.showTotalThumbnailsPerCategory_bl="yes"==self.showTotalThumbnailsPerCategory_bl,self.scaleImage_bl="no"!=self.scaleImage,self.playListElement=FWDRLUtils.getChildById(self.props_obj.playlistId),self.playListElement){self.allPlaylists_ar=FWDRLUtils.getChildren(self.playListElement),self.totalPlaylists=self.allPlaylists_ar.length,self.totalPlaylists<=1&&(self.showAllCategories_bl=!1);for(var e=0;e<self.totalPlaylists;e++)FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-soundcloud-url")?self.isSoundcloud_bl=!0:FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-youtube-playlist-url")?self.isYoutube_bl=!0:FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-facebook-album-url")?self.isFacebook_bl=!0:FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-pintrest-board-url")?self.isPintrest_bl=!0:FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-flickr-album-url")&&(self.isFlickr_bl=!0);if(self.isSoundcloud_bl){self.soundCloudData_ar=[];for(e=self.soundCloudLoadId=0;e<self.totalPlaylists;e++){var i=self.allPlaylists_ar[e];FWDRLUtils.getAttributeValue(i,"data-soundcloud-url")&&(self.soundCloudData_ar[e]=FWDRLUtils.getAttributeValue(i,"data-soundcloud-url")),self.categories_ar[e]=FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-category-name")}FWDUGPData.isSoundCloud_bl=!0}else if(self.isYoutube_bl){self.youtubeData_ar=[];for(e=self.youtubeLoadId=0;e<self.totalPlaylists;e++){i=self.allPlaylists_ar[e];if(FWDRLUtils.getAttributeValue(i,"data-youtube-playlist-url")){var s=FWDRLUtils.getAttributeValue(i,"data-youtube-playlist-url").match(/list=([^&]+)/i)[1];self.youtubeData_ar[e]=s}self.categories_ar[e]=FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-category-name")}}else if(self.isFacebook_bl){self.facebookData_ar=[],self.facebookLoadId=0,self.isAPIReady_bl=!1;for(e=0;e<self.totalPlaylists;e++){i=self.allPlaylists_ar[e];FWDRLUtils.getAttributeValue(i,"data-facebook-album-url")&&(s=FWDRLUtils.getAttributeValue(i,"data-facebook-album-url"),self.facebookData_ar[e]=String(s.match(/[\.][0-9]*[\.|&]/i)[0]).replace(/\.|&/g,"")),self.categories_ar[e]=FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-category-name")}FWDUGPData.isFaceBook_bl=!0}else if(self.isPintrest_bl){FWDUGPData.isPintrest_bl=!0,self.pinterestData_ar=[],self.pintrestLoadId=0,self.countPN=0,self.isAPIReady_bl=!1,self.showPinButton_bl&&(window.pAsyncInit=function(){PDK.init({appId:"nada",cookie:!0})},o=document,a="pinterest-jssdk",r=o.getElementsByTagName("script")[0],o.getElementById(a)||((n=o.createElement("script")).id=a,n.src="//assets.pinterest.com/sdk/sdk.js",r.parentNode.insertBefore(n,r))),self.inverseButtonsIcons_bl?(self.linkIconPathN_str=self.gridSkinPath_str+"pin-icon-with-background.png",self.linkIconPathS_str=self.gridSkinPath_str+"pin-icon.png"):(self.linkIconPathN_str=self.gridSkinPath_str+"pin-icon.png",self.linkIconPathS_str=self.gridSkinPath_str+"pin-icon-with-background.png");for(e=0;e<self.totalPlaylists;e++){i=self.allPlaylists_ar[e];FWDRLUtils.getAttributeValue(i,"data-pintrest-board-url")&&(s=FWDRLUtils.getAttributeValue(i,"data-pintrest-board-url"),self.pinterestData_ar[e]="https://api.pinterest.com/v3/pidgets/boards/"+String(s.match(/pinterest[^\/]+\/(.+)/i)[1])+"pins"),self.categories_ar[e]=FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-category-name")}}else if(self.isFlickr_bl){FWDUGPData.isFlickr_bl=!0,self.flickrData_ar=[],self.flickrLoadId=0,self.isAPIReady_bl=!1;for(e=0;e<self.totalPlaylists;e++){i=self.allPlaylists_ar[e];FWDRLUtils.getAttributeValue(i,"data-flickr-album-url")&&(s=FWDRLUtils.getAttributeValue(i,"data-flickr-album-url"),self.flickrData_ar[e]=String(s.match(/[^\/]+$/i))),self.categories_ar[e]=FWDRLUtils.getAttributeValue(self.allPlaylists_ar[e],"data-category-name")}}var o,a,n,r;self.isFacebook_bl||self.setupFacebook(),self.prepareSiknForLoading()}else self.playlistErrorHandler()}else setTimeout(function(){null!=self&&(t="The <font color='#FF0000'>lightboxSkinPath</font> property is not defined in the constructor function!",self.dispatchEvent(FWDRLData.LOAD_ERROR,{text:t}))},50);else setTimeout(function(){null!=self&&(t="The <font color='#FF0000'>gridSkinPath</font> property is not defined in the constructor function!",self.dispatchEvent(FWDRLData.LOAD_ERROR,{text:t}))},50);else setTimeout(function(){null!=self&&(t="The <font color='#FF0000'>mainFolderPath</font> property is not defined in the constructor function!",self.dispatchEvent(FWDRLData.LOAD_ERROR,{text:t}))},50)},this.loadPlaylist=function(){if(self.isFlickr_bl)self.loadFlickrPlaylist();else if(self.isSoundcloud_bl)self.loadSoundCloudPlaylist();else if(self.isYoutube_bl)self.loadYoutubePlaylist();else if(self.isPintrest_bl)self.loadPintrestPlaylist();else if(self.isFacebook_bl){if(!self.accessToken_str)return void self.loadAccessFacebookAccessToken();self.loadFacebookPlaylist()}else self.loadHTMLPlaylist(self.allPlaylists_ar),self.loadSkin()},this.stopToLoadPlaylist=function(){clearTimeout(self.JSONPRequestTimeoutId_to);try{self.scs_el.src=null,document.documentElement.removeChild(self.scs_el),self.scs_el=null}catch(t){}if(null!=self.xhr){try{self.xhr.abort()}catch(t){}self.xhr.onreadystatechange=null,self.xhr.onerror=null,self.xhr=null}},this.loadFlickrPlaylist=function(){if(!self.isPlaylistDispatchingError_bl){if(self.flickrUrl_str=self.flickrData_ar[self.flickrLoadId],self.stopToLoadPlaylist(),url="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+self.flickrAPIKey_str+"&photoset_id="+self.flickrUrl_str+"&format=json&jsoncallback="+parent.instanceName_str+".data.parseflickrPlaylist",null==self.scs_el)try{self.scs_el=document.createElement("script"),self.scs_el.src=url,self.scs_el.id=parent.instanceName_str+".data.parseflickrPlaylist",document.documentElement.appendChild(self.scs_el)}catch(t){}self.JSONPRequestTimeoutId_to=setTimeout(self.playlistErrorHandler,8e3)}},this.parseflickrPlaylist=function(t){if(!self.isPlaylistDispatchingError_bl){if(self.stopToLoadPlaylist(),"fail"==t.stat)return self.playlistErrorHandler(),void(console&&console.log(t));self.flickrObject_ar=[],self.lightboxParsedPlaylist_ar=[];for(var e=0;e<t.photoset.photo.length;e++)self.flickrObject_ar.push(t.photoset.photo[e]);var i,s,o=self.flickrObject_ar.length;for(e=0;e<o;e++){var a={};if(i=self.flickrObject_ar[e],a.catId=self.flickrLoadId,a.url="http://farm"+i.farm+".staticflickr.com/"+i.server+"/"+i.id+"_"+i.secret+"_b.jpg",a.thumbnailPath_str="http://farm"+i.farm+".staticflickr.com/"+i.server+"/"+i.id+"_"+i.secret+"_n.jpg",self.showFlickrkDescription_bl&&i.title&&(s=i.title.length>self.flickrTitleMaxLength?i.title.substr(0,self.flickrTitleMaxLength)+" ...":i.title,a.htmlContent1_str="<div class='"+self.flickrTitleClassName_str+"'>"+s+"</div>",a.rawDescription_str=i.description,"animtext"==self.presetType_str&&!self.showAsExtraText_bl)){var n,r,l=s,d=String(a.htmlContent1_str).match(/<[^<>]*>/)[0],h=String(a.htmlContent1_str).match(/<[^<>]*>/g)[1];a.animText_ar=[],a.htmlContent1_str=l.replace(/(^[\s]+|[\s]+$)/g,""),r=d,n=a.htmlContent1_str.split("");for(var u=0;u<n.length;u++)r+="<div style='position:relative;display:inline-block;'>"+(" "==n[u]?"&nbsp":n[u])+"</div>";r+=h,a.htmlContent1_str=r}self.showAsExtraText_bl&&(a.htmlExtraContent_str=a.htmlContent1_str,a.htmlContent1_str=void 0,self.hasExtraText_bl=!0),a.titleText_str=s,a.type_str=FWDUGP.IMAGE,a.iconType_str=FWDUGP.IMAGE,self.inverseButtonsIcons_bl?(a.thumbIconPathN_str=self.gridSkinPath_str+"image-icon-with-background.png",a.thumbIconPathS_str=self.gridSkinPath_str+"image-icon.png"):(a.thumbIconPathN_str=self.gridSkinPath_str+"image-icon.png",a.thumbIconPathS_str=self.gridSkinPath_str+"image-icon-with-background.png"),self.parsedPlaylist_ar.push(a)}self.flickrLoadId++,self.flickrLoadId<self.totalPlaylists?self.loadPlaylist():(self.finalizePlaylist(),self.loadSkin())}},this.loadPintrestPlaylist=function(){if(!self.isPlaylistDispatchingError_bl){if(self.pinterestUrl_str=self.pinterestData_ar[self.pintrestLoadId],self.stopToLoadPlaylist(),url=self.pinterestUrl_str+"?callback="+parent.instanceName_str+".data.parsePintrestPlaylist",null==self.scs_el)try{self.scs_el=document.createElement("script"),self.scs_el.src=url,self.scs_el.id=parent.instanceName_str+".data.parsePintrestPlaylist",document.documentElement.appendChild(self.scs_el)}catch(t){}self.JSONPRequestTimeoutId_to=setTimeout(self.playlistErrorHandler,8e3)}},this.parsePintrestPlaylist=function(t){if(!self.isPlaylistDispatchingError_bl){if(self.stopToLoadPlaylist(),"failure"==t.status)return self.playlistErrorHandler(),void(console&&console.log(t));self.pintrestObject_ar=[],self.lightboxParsedPlaylist_ar=[];for(var e=0;e<t.data.pins.length;e++)self.pintrestObject_ar.push(t.data.pins[e]);var i,s=self.pintrestObject_ar.length,o="";for(e=0;e<s;e++){var a={};if(i=self.pintrestObject_ar[e],a.catId=self.pintrestLoadId,a.url="https://www.pinterest.com/pin/"+i.id,a.thumbnailPath_str=i.images["237x"].url,a.pinLInk_str=i.link,self.showPinButton_bl&&(a.extraButtonUrl_str="pinterest"),self.showPintrestDescription_bl&&i.description&&" "!=i.description&&(i.description&&(o=i.description),a.htmlContent1_str="<div class='"+self.pintrestDescriptionClassName_str+"'>"+i.description+"</div>",a.rawDescription_str=i.description,"animtext"==self.presetType_str&&!self.showAsExtraText_bl)){var n,r,l=o,d=String(a.htmlContent1_str).match(/<[^<>]*>/)[0],h=String(a.htmlContent1_str).match(/<[^<>]*>/g)[1];a.animText_ar=[],a.htmlContent1_str=l.replace(/(^[\s]+|[\s]+$)/g,""),r=d,n=a.htmlContent1_str.split("");for(var u=0;u<n.length;u++)r+="<div style='position:relative;display:inline-block;'>"+(" "==n[u]?"&nbsp":n[u])+"</div>";r+=h,a.htmlContent1_str=r}self.showAsExtraText_bl&&(a.htmlExtraContent_str=a.htmlContent1_str,a.htmlContent1_str=void 0,self.hasExtraText_bl=!0),a.titleText_str=o,a.type_str=FWDUGP.LINK,a.iconType_str=FWDUGP.IMAGE,self.inverseButtonsIcons_bl?(a.thumbIconPathN_str=self.gridSkinPath_str+"image-icon-with-background.png",a.thumbIconPathS_str=self.gridSkinPath_str+"image-icon.png"):(a.thumbIconPathN_str=self.gridSkinPath_str+"image-icon.png",a.thumbIconPathS_str=self.gridSkinPath_str+"image-icon-with-background.png"),self.parsedPlaylist_ar.push(a)}self.pintrestLoadId++,self.pintrestLoadId<self.totalPlaylists?self.loadPlaylist():(self.finalizePlaylist(),self.loadSkin())}},this.loadSoundCloudPlaylist=function(){if(!self.isPlaylistDispatchingError_bl){if(self.soundCloundUrl_str=self.soundCloudData_ar[self.soundCloudLoadId],self.stopToLoadPlaylist(),-1!=self.soundCloundUrl_str.indexOf("likes")&&(self.soundCloundUrl_str=self.soundCloundUrl_str.replace(/\/likes$/,"/favorites")),-1==self.soundCloundUrl_str.indexOf("api.soundcloud.")?url="http://api.soundcloud.com/resolve?format=json&url="+self.soundCloundUrl_str+"&limit=100&client_id="+self.scClientId_str+"&callback="+parent.instanceName_str+".data.parseSoundCloudPlaylist":url=self.sourceURL_str+"?format=json&client_id="+self.scClientId_str+"&limit=100&callback="+parent.instanceName_str+".data.parseSoundCloudPlaylist",null==self.scs_el)try{self.scs_el=document.createElement("script"),self.scs_el.src=url,self.scs_el.id=parent.instanceName_str+".data.parseSoundCloud",document.documentElement.appendChild(self.scs_el)}catch(t){}self.JSONPRequestTimeoutId_to=setTimeout(self.playlistErrorHandler,8e3)}},this.parseSoundCloudPlaylist=function(t){if(!self.isPlaylistDispatchingError_bl){if(self.stopToLoadPlaylist(),t.tracks)t=t.tracks;else{if(!t.length)return void self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:"Please provide a playlist or tracks URL : <font color='#FF0000'>"+self.soundCloundUrl_str+"</font>."});t=t}self.soundCloudObject_ar=[],self.lightboxParsedPlaylist_ar=[];for(var e=0;e<t.length;e++)self.soundCloudObject_ar.push(t[e]);var i,s,o=self.soundCloudObject_ar.length;for(e=0;e<o;e++){var a={};if(i=self.soundCloudObject_ar[e],a.catId=self.soundCloudLoadId,a.url=i.stream_url+"?consumer_key="+self.scClientId_str,a.thumbnailPath_str=String(i.artwork_url).replace(/large/,"t300x300"),(self.showSoundCloudUserName_bl||self.showSoundCloudTrack_bl)&&(s=i.user.username+" - "+i.title,"animtext"==self.presetType_str&&self.showSoundCloudUserName_bl&&!self.showAsExtraText_bl?a.htmlContent1_str="<div class='"+self.soundCloudTitleClassName_str+"'>"+i.user.username+" - "+i.title+"</div>":self.presetType_str&&(a.htmlContent1_str="<div class='"+self.soundCloudTitleClassName_str+"'>"+i.user.username+"</div><div class='"+self.soundCloudTrackClassName_str+"'>"+i.title+"</div>"),"animtext"==self.presetType_str&&!self.showAsExtraText_bl)){var n,r,l=s,d=String(a.htmlContent1_str).match(/<[^<>]*>/)[0],h=String(a.htmlContent1_str).match(/<[^<>]*>/g)[1];a.animText_ar=[],a.htmlContent1_str=l.replace(/(^[\s]+|[\s]+$)/g,""),r=d,n=a.htmlContent1_str.split("");for(var u=0;u<n.length;u++)r+="<div style='position:relative;display:inline-block;'>"+(" "==n[u]?"&nbsp":n[u])+"</div>";r+=h,a.htmlContent1_str=r}self.showAsExtraText_bl&&(a.htmlExtraContent_str=a.htmlContent1_str,a.htmlContent1_str=void 0,self.hasExtraText_bl=!0),a.titleText_str=s,a.type_str=FWDUGP.AUDIO,a.iconType_str=FWDUGP.AUDIO,self.inverseButtonsIcons_bl?(a.thumbIconPathN_str=self.gridSkinPath_str+"audio-icon-with-background.png",a.thumbIconPathS_str=self.gridSkinPath_str+"audio-icon.png"):(a.thumbIconPathN_str=self.gridSkinPath_str+"audio-icon.png",a.thumbIconPathS_str=self.gridSkinPath_str+"audio-icon-with-background.png"),self.parsedPlaylist_ar.push(a)}self.soundCloudLoadId++,self.soundCloudLoadId<self.totalPlaylists?self.loadPlaylist():(self.finalizePlaylist(),self.loadSkin())}},this.setupFacebook=function(){if("file:"==document.location.protocol&&self.isFacebook_bl)return self.isPlaylistDispatchingError_bl=!0,void(showLoadPlaylistErrorId_to=setTimeout(function(){self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:"Please test online, is not possible to view Facebook albums local."}),self.isPlaylistDispatchingError_bl=!1},50));FWDRLFacebookShare.setPrototype(),self.facebookShare=new FWDRLFacebookShare(self.facebookAppId_str),self.isFacebook_bl&&(self.facebookShare.addListener(FWDRLFacebookShare.API_READY,self.facebookAPIReadyHandler),self.facebookShare.addListener(FWDRLFacebookShare.API_ERROR,self.facebookAPIErrorHandler))},this.facebookAPIReadyHandler=function(t){self.loadAccessFacebookAccessToken()},this.loadAccessFacebookAccessToken=function(){self.stopToLoadPlaylist(),self.sourceURL_str=self.mainFolderPath_str+"facebook_access_token.txt",self.xhr=new XMLHttpRequest,self.xhr.onreadystatechange=self.facebookTokenOnLoadoadHandler,self.xhr.onerror=self.facebookAPIErrorHandler;try{self.xhr.open("get",self.sourceURL_str+"?rand="+parseInt(99999999*Math.random()),!0),self.xhr.send()}catch(t){t&&t.message&&t.message,self.facebookAPIErrorHandler()}},this.facebookTokenOnLoadoadHandler=function(e){var response;4==self.xhr.readyState&&(404==self.xhr.status?self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:"Facebook token path is not found: <font color='#FF0000'>"+self.sourceURL_str+"</font>"}):408==self.xhr.status?self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:"Loadiong Facebook token file request load timeout!"}):200==self.xhr.status&&(response=window.JSON?JSON.parse(self.xhr.responseText):eval("("+self.xhr.responseText+")"),self.accessToken_str=response.access_token,self.loadPlaylist()))},this.facebookAPIErrorHandler=function(t){try{window.console&&console.log(t),window.console&&console.log(t.message)}catch(t){}self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:"Error loading file : <font color='#FFFFFF'>"+self.sourceURL_str+"</font>. Make sure the path is correct"})},this.loadFacebookPlaylist=function(){FB.api("/"+self.facebookData_ar[self.facebookLoadId]+"?access_token="+self.accessToken_str,"GET",{fields:"photos.limit(100){images,created_time,name}"},function(t){t&&self.parseFacebookPlaylist(t)})},this.parseFacebookPlaylist=function(t){if(!self.isPlaylistDispatchingError_bl){if(self.stopToLoadPlaylist(),t.error)return self.playlistErrorHandler(),void(console&&console.dir(t));self.facebookObject_ar=[],self.lightboxParsedPlaylist_ar=[];for(var e=0;e<t.photos.data.length;e++)self.facebookObject_ar.push(t.photos.data[e]);var i,s,o=self.facebookObject_ar.length;for(e=0;e<o;e++){var a={};i=self.facebookObject_ar[e],a.catId=self.facebookLoadId,a.url=i.images[0].source,a.thumbnailPath_str=i.images[i.images.length-1].source;for(var n=i.images.length-1;0<=n;n--)if(200<parseInt(i.images[n].width)&&parseInt(i.images[n].width)<500){a.thumbnailPath_str=i.images[n].source;break}if(self.showFacebookTitle_bl&&i.name&&(s=i.name.length>self.facebookTitleMaxLength?i.name.substr(0,self.facebookTitleMaxLength)+" ...":i.name,a.htmlContent1_str="<div class='"+self.facebookTitleClassName_str+"'>"+s+"</div>","animtext"==self.presetType_str)){var r,l,d=s,h=String(a.htmlContent1_str).match(/<[^<>]*>/)[0],u=String(a.htmlContent1_str).match(/<[^<>]*>/g)[1];a.animText_ar=[],a.htmlContent1_str=d.replace(/(^[\s]+|[\s]+$)/g,""),l=h,r=a.htmlContent1_str.split("");for(var c=0;c<r.length;c++)l+="<div style='position:relative;display:inline-block;'>"+(" "==r[c]?"&nbsp":r[c])+"</div>";l+=u,a.htmlContent1_str=l}self.showFacebookDescription_bl&&i.name&&(a.description="<p class='"+self.facebookDescriptionClassName_str+"'>"+i.name+"</p>",a.descriptionText=String(i.name).substr(0,self.facebookTitleMaxLength)),a.titleText_str=s,a.iconType_str=FWDUGP.IMAGE,self.inverseButtonsIcons_bl?(a.thumbIconPathN_str=self.gridSkinPath_str+"image-icon-with-background.png",a.thumbIconPathS_str=self.gridSkinPath_str+"image-icon.png"):(a.thumbIconPathN_str=self.gridSkinPath_str+"image-icon.png",a.thumbIconPathS_str=self.gridSkinPath_str+"image-icon-with-background.png"),self.parsedPlaylist_ar.push(a)}self.facebookLoadId++,self.facebookLoadId<self.totalPlaylists?self.loadFacebookPlaylist():(self.finalizePlaylist(),self.loadSkin())}},this.loadYoutubePlaylist=function(){if(self.youtubeUrl_str=self.youtubeData_ar[self.youtubeLoadId],self.nextPageToken_str?self.sourceURL_str="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&pageToken="+self.nextPageToken_str+"&playlistId="+self.youtubeUrl_str+"&key=AIzaSyAlyhJ-C5POyo4hofPh3b7ECAxWy6t6lyg&maxResults=50&callback="+parent.instanceName_str+".data.parseYoutubePlaylist":(self.youtubeObject_ar=[],self.lightboxParsedPlaylist_ar=[],self.sourceURL_str="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+self.youtubeUrl_str+"&key=AIzaSyAlyhJ-C5POyo4hofPh3b7ECAxWy6t6lyg&maxResults=50&callback="+parent.instanceName_str+".data.parseYoutubePlaylist"),null==self.scs_el)try{self.scs_el=document.createElement("script"),self.scs_el.src=self.sourceURL_str,self.scs_el.id=parent.instanceName_str+".data.parseYoutubePlaylist",document.documentElement.appendChild(self.scs_el)}catch(t){}self.JSONPRequestTimeoutId_to=setTimeout(self.playlistErrorHandler,6e3)},this.parseYoutubePlaylist=function(t){if(!self.isPlaylistDispatchingError_bl){if(self.stopToLoadPlaylist(),t.error)return self.playlistErrorHandler(),void(console&&console.dir(t));for(var e=0;e<t.items.length;e++)self.youtubeObject_ar.push(t.items[e]);if(t.nextPageToken)return self.nextPageToken_str=t.nextPageToken,void self.loadYoutubePlaylist();var i,s,o=self.youtubeObject_ar.length;for(e=0;e<o;e++){var a={};if((i=self.youtubeObject_ar[e]).snippet.thumbnails){if(a.catId=self.youtubeLoadId,a.url="https://www.youtube.com/watch?v="+i.snippet.resourceId.videoId,a.thumbnailPath_str=i.snippet.thumbnails.medium.url,self.showYtbTitle_bl&&(s=i.snippet.title.length>self.ytbTitleMaxLength?i.snippet.title.substr(0,self.ytbTitleMaxLength)+" ...":i.snippet.title,a.htmlContent1_str="<div class='"+self.ytbTitleClassName_str+"'>"+s+"</div>","animtext"==self.presetType_str)){var n,r,l=s,d=String(a.htmlContent1_str).match(/<[^<>]*>/)[0],h=String(a.htmlContent1_str).match(/<[^<>]*>/g)[1];a.animText_ar=[],a.htmlContent1_str=l.replace(/(^[\s]+|[\s]+$)/g,""),r=d,n=a.htmlContent1_str.split("");for(var u=0;u<n.length;u++)r+="<div style='position:relative;display:inline-block;'>"+(" "==n[u]?"&nbsp":n[u])+"</div>";r+=h,a.htmlContent1_str=r}self.showYtbDescription_bl&&(a.description="<p class='"+self.ytbDescriptionClassName_str+"'>"+i.snippet.description+"</p>",a.descriptionText=String(i.snippet.description).substr(0,self.ytbTitleMaxLength)),a.titleText_str=s,a.iconType_str=FWDUGP.YOUTUBE,self.inverseButtonsIcons_bl?(a.thumbIconPathN_str=self.gridSkinPath_str+"youtube-icon-with-background.png",a.thumbIconPathS_str=self.gridSkinPath_str+"youtube-icon.png"):(a.thumbIconPathN_str=self.gridSkinPath_str+"youtube-icon.png",a.thumbIconPathS_str=self.gridSkinPath_str+"youtube-icon-with-background.png"),self.parsedPlaylist_ar.push(a)}}self.youtubeLoadId++,self.youtubeLoadId<self.totalPlaylists?(self.nextPageToken_str=void 0,self.loadYoutubePlaylist()):(self.finalizePlaylist(),self.loadSkin())}},this.playlistErrorHandler=function(){var t;t=self.isFlickr_bl?"Error loading Flickr album! - <font color='#FF0000'>"+self.flickrData_ar[self.flickrLoadId]+"</font>":self.isSoundcloud_bl?"Error loading Soundcloud playlist! - <font color='#FF0000'>"+self.soundCloudData_ar[self.soundCloudLoadId]+"</font>":self.isFacebook_bl?"Error loading Facebook playlist! - <font color='#FF0000'>"+self.facebookData_ar[self.facebookLoadId]+"</font>":self.isYoutube_bl?"Error loading Youtube playlist! - <font color='#FF0000'>"+self.youtubeData_ar[self.youtubeLoadId]+"</font>":self.isPintrest_bl?"Error loading Pintrest playlist! - <font color='#FF0000'>"+self.pinterestData_ar[self.pintrestLoadId]+"</font>":"Playlist div with the id! - <font color='#FF0000'>"+self.props_obj.playlistId+"</font> doesn't exists.",self.stopToLoadPlaylist(),self.isPlaylistDispatchingError_bl=!0,showLoadPlaylistErrorId_to=setTimeout(function(){self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:t}),self.isPlaylistDispatchingError_bl=!1},50)},this.loadHTMLPlaylist=function(t){var e,i,s,o,a;self.parsedPlaylist_ar=[],self.lightboxParsedPlaylist_ar=[];for(var n=0;n<self.totalPlaylists;n++){i=(e=FWDRLUtils.getChildren(t[n])).length,s=n;for(var r=o=0;r<i;r++){var l={},d=e[r];if(a="",o=r,!FWDRLUtils.hasAttribute(d,"data-url"))return errorMessage_str="Attribute <font color='#FF0000'>data-url</font> is not found in the playlist at position nr: <font color='#FF0000'>"+r+"</font>.",void self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:errorMessage_str});l.catId=n,l.url=String(FWDRLUtils.getAttributeValue(d,"data-url")),l.target=FWDRLUtils.getAttributeValue(d,"data-target")||"_blank",l.posterPath=FWDRLUtils.getAttributeValue(d,"data-poster-path"),l.type_str=FWDRLUtils.getAttributeValue(d,"data-url"),l.width=FWDRLUtils.getAttributeValue(d,"data-width"),l.height=FWDRLUtils.getAttributeValue(d,"data-height"),l.extraButtonUrl_str=FWDRLUtils.getAttributeValue(d,"data-extra-button-url"),l.extraButtonUrlTarget_str=FWDRLUtils.getAttributeValue(d,"data-extra-button-target")||"_blank",l.disabled_bl="none"==l.url,l.thumbnailBorderNormalColor=FWDRLUtils.getAttributeValue(d,"data-thumbnail-border-normal-color"),l.thumbnailBorderSelectedColor=FWDRLUtils.getAttributeValue(d,"data-thumbnail-border-selected-color"),l.thumbnailOverlayColor=FWDRLUtils.getAttributeValue(d,"data-thumbnail-overlay-color");for(var h,u=FWDRLUtils.getChildren(d),c=!1,_=0;_<u.length;_++){if(h=u[_],FWDRLUtils.hasAttribute(h,"src")&&(c=!0,l.thumbnailPath_str=FWDRLUtils.getAttributeValue(h,"src"),l.alt_str=FWDRLUtils.getAttributeValue(h,"alt")||""),FWDRLUtils.hasAttribute(h,"data-lightbox-desc")&&(l.description=h.innerHTML,l.descriptionText=h.innerText),FWDRLUtils.hasAttribute(h,"data-thumbnail-content1")){if("animtext"==self.presetType_str){var m,b,f=h.innerText||h.textContent,p=String(h.innerHTML).match(/<[^<>]*>/)[0],g=String(h.innerHTML).match(/<[^<>]*>/g)[1];l.animText_ar=[],l.htmlContent1_str=f.replace(/(^[\s]+|[\s]+$)/g,""),b=p,m=l.htmlContent1_str.split("");for(var S=0;S<m.length;S++)b+="<div style='position:relative;display:inline-block;'>"+(" "==m[S]?"&nbsp":m[S])+"</div>";b+=g,l.htmlContent1_str=b}else l.htmlContent1_str=h.innerHTML;a+=h.innerText||h.textContent}FWDRLUtils.hasAttribute(h,"data-thumbnail-content2")&&(l.htmlContent2_str=h.innerHTML,a+=h.innerText||h.textContent),FWDRLUtils.hasAttribute(h,"data-thumbnail-extra-content")&&(l.htmlExtraContent_str=h.innerHTML,a+=h.innerText||h.textContent,self.hasExtraText_bl=!0),l.titleText_str=a}if(!c)return errorMessage_str="Thumbnail image is not found at category: <font color='#FF0000'>"+(s+1)+"</font> at position nr: <font color='#FF0000'>"+(o+1)+"</font>",void self.dispatchEvent(FWDUGPData.LOAD_ERROR,{text:errorMessage_str});if(/none/i.test(l.type_str)?(l.iconType_str=FWDUGP.NONE,l.type_str=FWDUGP.NONE,l.thumbIconPathN_str=void 0,l.thumbIconPathS_str=void 0):/\.jpg|\.jpeg|\.png/i.test(l.type_str)?(l.iconType_str=FWDUGP.IMAGE,l.type_str=FWDUGP.IMAGE,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"image-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"image-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"image-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"image-icon-with-background.png"),l.width=void 0,l.height=void 0):/\.mp4/i.test(l.type_str)?(l.iconType_str=FWDUGP.VIDEO,l.type_str=FWDUGP.VIDEO,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"video-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"video-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"video-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"video-icon-with-background.png")):/\.mp3/i.test(l.type_str)?(l.type_str=FWDUGP.AUDIO,l.iconType_str=FWDUGP.AUDIO,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"audio-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"audio-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"audio-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"audio-icon-with-background.png")):/\.swf/i.test(l.type_str)?(l.type_str=FWDUGP.FLASH,l.iconType_str=FWDUGP.FLASH,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"flash-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"flash-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"flash-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"flash-icon-with-background.png")):/youtube\.|vimeo\./i.test(l.type_str)?(-1!=l.type_str.indexOf("youtube.")?(l.iconType_str=FWDUGP.YOUTUBE,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"youtube-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"youtube-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"youtube-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"youtube-icon-with-background.png")):(l.iconType_str=FWDUGP.VIMEO,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"vimeo-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"vimeo-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"vimeo-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"vimeo-icon-with-background.png")),l.type_str=FWDUGP.IFRAME):/link:/i.test(l.type_str)?(l.url=l.url.substr(5),l.target=l.target,l.iconType_str=FWDUGP.LINK,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"link-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"link-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"link-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"link-icon-with-background.png"),l.type_str=FWDUGP.LINK):(-1!=l.type_str.indexOf("google.")?(l.iconType_str=FWDUGP.MAPS,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"maps-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"maps-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"maps-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"maps-icon-with-background.png")):(l.iconType_str=FWDUGP.IFRAME,self.inverseButtonsIcons_bl?(l.thumbIconPathN_str=self.gridSkinPath_str+"iframe-icon-with-background.png",l.thumbIconPathS_str=self.gridSkinPath_str+"iframe-icon.png"):(l.thumbIconPathN_str=self.gridSkinPath_str+"iframe-icon.png",l.thumbIconPathS_str=self.gridSkinPath_str+"iframe-icon-with-background.png")),l.type_str=FWDUGP.IFRAME),l.type_str==FWDUGP.IMAGE_TYPE||l.type_str==FWDUGP.VIDEO_TYPE){var v=encodeURI(l.url.substr(0,l.url.lastIndexOf("/")+1)),y=encodeURIComponent(l.url.substr(l.url.lastIndexOf("/")+1));l.url=v+y}self.parsedPlaylist_ar.push(l)}self.categories_ar[n]=FWDRLUtils.getAttributeValue(t[n],"data-category-name")}self.finalizePlaylist();try{self.playListElement.parentNode.removeChild(self.playListElement)}catch(t){}},this.finalizePlaylist=function(){var t=[];self.playlist_ar={playlistItems:self.parsedPlaylist_ar},self.randomizeCategories_bl&&(self.playlist_ar.playlistItems=FWDRLUtils.randomizeArray(self.playlist_ar.playlistItems));for(var e=0;e<self.playlist_ar.playlistItems.length;e++)self.playlist_ar.playlistItems[e].type_str!=FWDUGP.LINK&&self.playlist_ar.playlistItems[e].type_str!=FWDUGP.NONE&&t.push(self.playlist_ar.playlistItems[e]);self.showAllCategories_bl&&self.categories_ar.splice(0,0,self.allCategoriesLabel_str),self.catsLength_ar=[];for(e=0;e<self.categories_ar.length;e++)self.catsLength_ar[e]=0;for(e=0;e<self.playlist_ar.playlistItems.length;e++)self.showAllCategories_bl?(self.catsLength_ar[0]++,self.catsLength_ar[self.playlist_ar.playlistItems[e].catId+1]++):self.catsLength_ar[self.playlist_ar.playlistItems[e].catId]++;self.lightboxPlaylist_ar={playlistItems:t}},this.prepareSiknForLoading=function(){self.loadMainSkin_bl=!0,self.mainPreloader_img=new Image,self.mainPreloader_img.onerror=self.onSkinLoadErrorHandler,self.mainPreloader_img.onload=self.onPreloaderLoadHandler,self.mainPreloader_img.src=self.gridSkinPath_str+"preloader.png",self.skinPaths_ar=[{img:self.fullScreenN_img=new Image,src:self.gridSkinPath_str+"full-screen-normal.png"},{img:self.normalScreenN_img=new Image,src:self.gridSkinPath_str+"normal-screen-normal.png"}],self.fullScreenSPath_str=self.gridSkinPath_str+"full-screen-selected.png",self.normalScreenSPath_str=self.gridSkinPath_str+"normal-screen-selected.png",self.loadMoreSPath_str=self.gridSkinPath_str+"load-more-button-over.png",self.handGrabPath_str=self.gridSkinPath_str+"handgrab.cur",self.handMovePath_str=self.gridSkinPath_str+"handmove.cur",self.totalGraphics=self.skinPaths_ar.length},this.onPreloaderLoadHandler=function(){setTimeout(function(){self.dispatchEvent(FWDUGPData.PRELOADER_LOAD_DONE),self.isFacebook_bl?self.setupFacebook(!0):self.loadPlaylist()},50)},self.loadSkin=function(){for(var t,e,i=0;i<self.totalGraphics;i++)t=self.skinPaths_ar[i].img,e=self.skinPaths_ar[i].src,t.onload=self.onSkinLoadHandler,t.onerror=self.onSkinLoadErrorHandler,t.src=e},this.onSkinLoadHandler=function(t){self.countLoadedSkinImages++,self.countLoadedSkinImages==self.totalGraphics&&setTimeout(function(){self.dispatchEvent(FWDUGPData.LOAD_DONE)},50)},self.onSkinLoadErrorHandler=function(t){FWDRLUtils.isIEAndLessThen9?message="Graphics image not found!":message="The skin graphics with label <font color='#FF0000'>"+t.target.src+"</font> can't be loaded, check path!",window.console&&console.log(t);var e={text:message};setTimeout(function(){self.dispatchEvent(FWDUGPData.LOAD_ERROR,e)},50)},this.init()};FWDUGPData.setPrototype=function(){FWDUGPData.prototype=new FWDRLEventDispatcher},FWDUGPData.isSoundCloud_bl=!1,FWDUGPData.isFaceBook_bl=!1,FWDUGPData.prototype=null,FWDUGPData.PRELOADER_LOAD_DONE="onPreloaderLoadDone",FWDUGPData.LOAD_DONE="onLoadDone",FWDUGPData.LOAD_ERROR="onLoadError",FWDUGPData.LIGHBOX_CLOSE_BUTTON_LOADED="onLightBoxCloseButtonLoadDone",window.FWDUGPData=FWDUGPData}(window),window.FWDUGPDisplayObject3D=function(t,e,i,s){this.listeners={events_ar:[]};var o=this;if("div"!=t&&"img"!=t&&"canvas"!=t)throw Error("Type is not valid! "+t);this.type=t,this.children_ar=[],this.style,this.screen,this.numChildren,this.transform,this.position=e||"absolute",this.overflow=i||"hidden",this.display=s||"block",this.visible=!0,this.buttonMode,this.x=0,this.y=0,this.z=0,this.angleX=0,this.angleY=0,this.angleZ=0,this.perspective=0,this.zIndex=0,this.scale=1,this.w=0,this.h=0,this.rect,this.alpha=1,this.innerHTML="",this.opacityType="",this.isHtml5_bl=!1,this.hasTransform3d_bl=!0,this.hasTransform2d_bl=!0,this.init=function(){this.setScreen()},this.getTransform=function(){for(var t,e=["transform","msTransform","WebkitTransform","MozTransform","OTransform"];t=e.shift();)if(void 0!==this.screen.style[t])return t;return!1},this.getOpacityType=function(){return void 0!==this.screen.style.opacity?"opacity":"filter"},this.setScreen=function(t){"img"==this.type&&t?this.screen=t:this.screen=document.createElement(this.type),this.setMainProperties()},this.setMainProperties=function(){this.transform=this.getTransform(),this.setPosition(this.position),this.setOverflow(this.overflow),this.opacityType=this.getOpacityType(),"opacity"==this.opacityType&&(this.isHtml5_bl=!0),"filter"==o.opacityType&&(o.screen.style.filter="inherit"),this.screen.style.left="0px",this.screen.style.top="0px",this.screen.style.margin="0px",this.screen.style.padding="0px",this.screen.style.maxWidth="none",this.screen.style.maxHeight="none",this.screen.style.border="none",this.screen.style.lineHeight="1",this.screen.style.backgroundColor="transparent",this.screen.style.backfaceVisibility="hidden",this.screen.style.webkitBackfaceVisibility="hidden",this.screen.style.MozBackfaceVisibility="hidden","img"==t&&(this.setWidth(this.screen.width),this.setHeight(this.screen.height),this.screen.onmousedown=function(t){return!1})},o.setBackfaceVisibility=function(){o.screen.style.backfaceVisibility="visible",o.screen.style.webkitBackfaceVisibility="visible",o.screen.style.MozBackfaceVisibility="visible"},o.removeBackfaceVisibility=function(){o.screen.style.backfaceVisibility="hidden",o.screen.style.webkitBackfaceVisibility="hidden",o.screen.style.MozBackfaceVisibility="hidden"},this.setSelectable=function(t){if(!t){try{this.screen.style.userSelect="none"}catch(t){}try{this.screen.style.MozUserSelect="none"}catch(t){}try{this.screen.style.webkitUserSelect="none"}catch(t){}try{this.screen.style.khtmlUserSelect="none"}catch(t){}try{this.screen.style.oUserSelect="none"}catch(t){}try{this.screen.style.msUserSelect="none"}catch(t){}try{this.screen.msUserSelect="none"}catch(t){}this.screen.ondragstart=function(t){return!1},this.screen.onselectstart=function(){return!1},this.screen.style.webkitTouchCallout="none"}},this.getScreen=function(){return o.screen},this.setVisible=function(t){this.visible=t,1==this.visible?this.screen.style.visibility="visible":this.screen.style.visibility="hidden"},this.getVisible=function(){return this.visible},this.setResizableSizeAfterParent=function(){this.screen.style.width="100%",this.screen.style.height="100%"},this.getStyle=function(){return this.screen.style},this.setOverflow=function(t){o.overflow=t,o.screen.style.overflow=o.overflow},this.setPosition=function(t){o.position=t,o.screen.style.position=o.position},this.setDisplay=function(t){this.display=t,this.screen.style.display=this.display},this.setButtonMode=function(t){this.buttonMode=t,1==this.buttonMode?this.screen.style.cursor="pointer":this.screen.style.cursor="default"},this.setBkColor=function(t){o.screen.style.backgroundColor=t},this.setInnerHTML=function(t){o.innerHTML=t,o.screen.innerHTML=o.innerHTML},this.getInnerHTML=function(){return o.innerHTML},this.getRect=function(){return o.screen.getBoundingClientRect()},this.setAlpha=function(t){o.alpha=t,"opacity"==o.opacityType?o.screen.style.opacity=o.alpha:"filter"==o.opacityType&&(o.screen.style.filter="alpha(opacity="+100*o.alpha+")",o.screen.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(100*o.alpha)+")")},this.getAlpha=function(){return o.alpha},this.getRect=function(){return this.screen.getBoundingClientRect()},this.getGlobalX=function(){return this.getRect().left},this.getGlobalY=function(){return this.getRect().top},this.setX=function(t){o.x=t,o.hasTransform3d_bl?o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,"+o.z+"px) rotateX("+o.angleX+"deg) rotateY("+o.angleY+"deg) rotateZ("+o.angleZ+"deg)":o.hasTransform2d_bl?o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+" , "+o.scale+")":o.screen.style.left=o.x+"px"},this.getX=function(){return o.x},this.setY=function(t){o.y=t,o.hasTransform3d_bl?o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,"+o.z+"px) rotateX("+o.angleX+"deg) rotateY("+o.angleY+"deg) rotateZ("+o.angleZ+"deg)":o.hasTransform2d_bl?o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+" , "+o.scale+")":o.screen.style.top=o.y+"px"},this.getY=function(){return o.y},this.setZ=function(t){o.z=t,o.hasTransform3d_bl&&(o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,"+o.z+"px) rotateX("+o.angleX+"deg) rotateY("+o.angleY+"deg) rotateZ("+o.angleZ+"deg)")},this.getZ=function(){return o.z},this.setAngleX=function(t){o.angleX=t,o.hasTransform3d_bl&&(o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,"+o.z+"px) rotateX("+o.angleX+"deg) rotateY("+o.angleY+"deg) rotateZ("+o.angleZ+"deg)")},this.getAngleX=function(){return o.angleX},this.setAngleY=function(t){o.angleY=t,o.hasTransform3d_bl&&(o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,"+o.z+"px) rotateX("+o.angleX+"deg) rotateY("+o.angleY+"deg) rotateZ("+o.angleZ+"deg)")},this.getAngleY=function(){return o.angleY},this.setAngleZ=function(t){o.angleZ=t,o.hasTransform3d_bl&&(o.screen.style[o.transform]="translate3d("+o.x+"px,"+o.y+"px,"+o.z+"px) rotateX("+o.angleX+"deg) rotateY("+o.angleY+"deg) rotateZ("+o.angleZ+"deg)")},this.getAngleZ=function(){return o.angleZ},this.setScale2=function(t){o.scale=t,o.hasTransform2d_bl&&(o.screen.style[o.transform]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+" , "+o.scale+")")},this.getScale=function(){return o.scale},this.setPerspective=function(t){o.perspective=t,o.screen.style.perspective=o.perspective+"px",o.screen.style.WebkitPerspective=o.perspective+"px",o.screen.style.MozPerspective=o.perspective+"px",o.screen.style.msPerspective=o.perspective+"px",o.screen.style.OPerspective=o.perspective+"px"},this.setPreserve3D=function(){this.screen.style.transformStyle="preserve-3d",this.screen.style.WebkitTransformStyle="preserve-3d",this.screen.style.MozTransformStyle="preserve-3d",this.screen.style.msTransformStyle="preserve-3d",this.screen.style.OTransformStyle="preserve-3d"},this.setZIndex=function(t){o.zIndex=t,o.screen.style.zIndex=o.zIndex},this.getZIndex=function(){return o.zIndex},this.setWidth=function(t){o.w=t,"img"==o.type?o.screen.width=o.w:o.screen.style.width=o.w+"px"},this.getWidth=function(){return"div"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:o.w:"img"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:0!=o.screen.width?o.screen.width:o._w:"canvas"==o.type?0!=o.screen.offsetWidth?o.screen.offsetWidth:o.w:void 0},this.setHeight=function(t){o.h=t,"img"==o.type?o.screen.height=o.h:o.screen.style.height=o.h+"px"},this.getHeight=function(){return"div"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:o.h:"img"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:0!=o.screen.height?o.screen.height:o.h:"canvas"==o.type?0!=o.screen.offsetHeight?o.screen.offsetHeight:o.h:void 0},this.getNumChildren=function(){return o.children_ar.length},this.addChild=function(t){this.contains(t)&&this.children_ar.splice(FWDRLUtils.indexOfArray(this.children_ar,t),1),this.children_ar.push(t),this.screen.appendChild(t.screen)},this.removeChild=function(t){if(!this.contains(t))throw Error("##removeChild()## Child doesn't exist, it can't be removed!");this.children_ar.splice(FWDRLUtils.indexOfArray(this.children_ar,t),1),this.screen.removeChild(t.screen)},this.contains=function(t){return-1!=FWDRLUtils.indexOfArray(this.children_ar,t)},this.addChildAtZero=function(t){0==this.numChildren?(this.children_ar.push(t),this.screen.appendChild(t.screen)):(this.screen.insertBefore(t.screen,this.children_ar[0].screen),this.contains(t)&&this.children_ar.splice(FWDRLUtils.indexOfArray(this.children_ar,t),1),this.children_ar.unshift(t))},this.getChildAt=function(t){if(t<0||t>this.numChildren-1)throw Error("##getChildAt()## Index out of bounds!");if(0==this.numChildren)throw Errror("##getChildAt## Child dose not exist!");return this.children_ar[t]},this.removeChildAtZero=function(){this.screen.removeChild(this.children_ar[0].screen),this.children_ar.shift()},this.disposeImage=function(){"img"==this.type&&(this.screen.src="")},o.addListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function.");var i={};i.type=t,i.listener=e,(i.target=this).listeners.events_ar.push(i)},o.dispatchEvent=function(t,e){if(null!=this.listeners){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t){if(e)for(var o in e)this.listeners.events_ar[i][o]=e[o];this.listeners.events_ar[i].listener.call(this,this.listeners.events_ar[i])}}},o.removeListener=function(t,e){if(null==t)throw Error("type is required.");if("object"==typeof t)throw Error("type must be of type String.");if("function"!=typeof e)throw Error("listener must be of type Function."+t);for(var i=0,s=this.listeners.events_ar.length;i<s;i++)if(this.listeners.events_ar[i].target===this&&this.listeners.events_ar[i].type===t&&this.listeners.events_ar[i].listener===e){this.listeners.events_ar.splice(i,1);break}},this.init()},function(n){var r=function(a,o){var y=this;r.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.rowHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.noSearch_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.handGrabPath_str=a.handGrabPath_str,this.handMovePath_str=a.handMovePath_str,this.currentThumbnailsFinalX=0,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetLeft=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetRight=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetY=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftWidth=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.leftHeight=0,this.vx=0,this.vx2=0,this.friction=.9,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.isMobileScrollBarRunning_bl=!1,this.isDragging_bl=!1,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.centerNoSearchFoundLabelWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.addMouseWheelSupport_bl=a.addMouseWheelSupport_bl,this.isVerticalType_bl=a.isVerticalType_bl,this.isNoSearchFoundShowed_bl=!1,this.isLoadingMore_bl=!1,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.thumbnailsHolder_do=new FWDRLDisplayObject("div"),this.thumbnailsHolder_do.setOverflow("visible"),this.setBkColor(o.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==y.thumbnailLoadingType_str&&this.setupLoadMoreButton(),this.addMouseWheelSupport_bl&&!this.isMobile_bl&&this.addMouseWheelSupport(),this.filterCategories(),this.startGetMousePosition(),this.setupDragScrollbar(),this.addChild(this.thumbnailsHolder_do),this.setupNoSearch(),y.isMobile_bl||(y.screen.style.cursor="url("+y.handGrabPath_str+"), default",y.dumy_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(y.dumy_do.setBkColor("#FF0000"),y.dumy_do.setAlpha(1e-4)),y.dumy_do.screen.style.cursor="url("+y.handMovePath_str+"), default",y.addChild(y.dumy_do))},this.resizeAndPosition=function(){this.stageWidth=o.stageWidth,o.menu_do?this.stageHeight=o.stageHeight-o.menu_do.h:this.stageHeight=o.stageHeight,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.setDataForResize(),this.positionThumbnailsAndMain(),this.centerThumbnails(!0),this.positionNoSearchLabel(),this.setWidth(this.stageWidth),this.setHeight(this.stageHeight)},this.startGetMousePosition=function(){n.addEventListener?(y.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);y.globalX=e.screenX,y.globalY=e.screenY},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){y.searchValue=t,clearTimeout(y.updateSearch_to),y.updateSearch_to=setTimeout(function(){y.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isVerticalType_bl=this.isVerticalType_bl,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.thumbnailsHolder_do.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":y.sourcePlaylist_ar[e].type_str,o=0;o<y.totalOriginalThumbnails;o++)o<i&&(y.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||y.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(y.sourcePlaylist_ar[t.id].thumbnailPath_str,y.sourcePlaylist_ar[t.id].rawDescription_str,y.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(y.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,y.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(y.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,y.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):y.dispatchEvent(r.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.deactivateDragScrollBar(),this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(r.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),y.image_img&&(y.image_img.onerror=null,y.image_img.onload=null)},this.startToLoadImage=function(t){y.image_img=new Image,y.image_img.onerror=y.onImageLoadErrorHandler,y.image_img.onload=y.onImageLoadHandler,y.image_img.src=t},this.loadThumbImage=function(){var t;y.stopToLoadImage();for(var e=0;e<y.totalCats;e++)if(y.loadMoreCatsData_ar[e].isSelected&&y.loadMoreCatsData_ar[e].loaded<y.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<y.tempTotalThumbnails&&(y.curDataThumbnail=y.tempPlaylist_ar[e],y.curDataThumbnail.catId!=t||y.curDataThumbnail.thumbnail);e++);y.startToLoadImage(y.sourcePlaylist_ar[y.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+y.sourcePlaylist_ar[y.curDataThumbnail.id].thumbnailPath_str+"</font>";y.dispatchEvent(r.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=y.getThumbnail(y.curDataThumbnail.catId,y.curDataThumbnail.id);y.loadMoreCatsData_ar[y.curDataThumbnail.catId].loaded++,y.curDataThumbnail.thumbnail=e,(y.originalDataThumbnails_ar[y.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=y.image_img.width,e.originalHeight=y.image_img.height,e.addImage(y.image_img),y.countLoadedThumbs++,y.isFirstThumbnailLoaded_bl||setTimeout(function(){y.firstThumbnailShowed_bl=!0},200),y.updateCurThumbnails(),y.positionThumbnailsAndMain(),y.centerThumbnails(!0)},this.updateCatsLimits=function(){var t=y.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=y.thumbnailsPerSet,e=0;0<t&&e<y.totalCats;)y.loadMoreCatsData_ar[e].isSelected&&(y.loadMoreCatsData_ar[e].limit+t>y.loadMoreCatsData_ar[e].total?(t-=y.loadMoreCatsData_ar[e].total-y.loadMoreCatsData_ar[e].limit,y.loadMoreCatsData_ar[e].limit=y.loadMoreCatsData_ar[e].total):(y.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);y.isLoadingMore_bl=!0,y.deactivateDragScrollBar(),y.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];y.loadMoreCatsData_ar=[];for(var o=0;o<y.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<y.totalThumbnails;o++)i[(t=y.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<y.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,y.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],y.stopToLoadImage();for(var s=0;s<y.sourcePlaylist_ar.length;s++)t=y.originalDataThumbnails_ar[s],y.sourcePlaylist_ar[s].titleText_str&&-1!=y.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(y.searchValue)?y.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(y.totalThumbnails=y.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==y.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==y.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[y.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?this.showNoSearch():this.hideNoSearch(),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(y.updateCurThumbnails(),y.positionThumbnailsAndMain(),y.centerThumbnails(!0),"loadmoreonscroll"==y.thumbnailLoadingType_str&&y.stageWidth>y.totalWidth&&y.allowToLoadMoreThumbnails()&&y.loadMore()),"loadmorewithbutton"==y.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==y.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==y.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)):(y.isLoadingMore_bl=!1,"loadmoreonscroll"==y.thumbnailLoadingType_str&&y.stageWidth>y.totalWidth&&y.allowToLoadMoreThumbnails()&&y.loadMore()),"loadmorewithbutton"==y.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.setDataForResize=function(){this.stageWidth&&(this.prevStageWidth=this.stageWidth)},this.positionThumbnailsAndMain=function(){this.positionThumbnails(),this.positionLoadMoreButton(),this.totalWidth+=this.offsetTotalWidth},this.positionThumbnails=function(){var t,e,i,s,o,a,n=0,r=0,l=0,d=0;a=y.stageHeight-2*y.thumbsVOffset,i=y.thumbnailMaxWidth+2*y.borderSize;for(var h=0;h<y.totalLoadedThumbnails;h++){var u=(o=y.playlist_ar[h].thumbnail).imageOriginalH/o.imageOriginalW;if(s=Math.floor((i-2*y.borderSize)*u+2*y.borderSize),0==n?(l+=s,e=y.thumbsVOffset):(l+=s+y.thumbsVSpace,e=e+d+y.thumbsVSpace),n++,d=s,t=r*(i+y.thumbsHSpace)+y.thumbsHOffset,l==a)n=l=0,r++;else if(a<l){for(var c,_,m=h-n+1,b=[],f=[],p=l-a,g=0,S=0,v=0;v<n-1;v++)g+=(c=y.playlist_ar[m+v].thumbnail).finalH;g+=s;for(v=0;v<n-1;v++)c=y.playlist_ar[m+v].thumbnail,f[v]=Math.floor(c.finalH-p*(c.finalH/g)),S+=f[v];if(f[n-1]=Math.floor(s-p*(s/g)),S+=f[n-1],0<(_=a-(S+=y.thumbsVSpace*(n-1))))for(v=0;v<_;v++)c=y.playlist_ar[m+v].thumbnail,f[v]++;b[0]=y.thumbsVOffset;for(v=1;v<n;v++)c=y.playlist_ar[m+v].thumbnail,b[v]=b[v-1]+f[v-1]+y.thumbsVSpace;for(v=0;v<n-1;v++)(c=y.playlist_ar[m+v].thumbnail).finalH=f[v],c.finalY=b[v];s=f[n-1],e=b[n-1],n=l=0,r++}o.finalW=i,o.finalH=s,o.finalX=t,o.finalY=e}for(h=0;h<y.totalLoadedThumbnails;h++)y.playlist_ar[h].thumbnail.resizeAndPosition();y.totalWidth=o?t+i+y.thumbsHOffset:0},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){y.noSearch_do.w=y.noSearch_do.getWidth(),y.noSearch_do.h=y.noSearch_do.getHeight(),y.removeChild(y.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){y.removeChild(y.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),o.menu_do.isShowed_bl&&this.centerNoSearchFoundLabelWithMenu_bl?this.noSearch_do.setY(parseInt((this.stageHeight-o.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.stageHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),y.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.thumbnailsHolder_do.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){y.hideLoadMoreButton(),y.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){y.allowToLoadMoreThumbnails()?y.showLoadMoreButton():y.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(this.totalWidth+this.loadMoreButtonOffsetLeft),this.loadMoreButton_do.setY(parseInt((this.stageHeight-this.loadMoreButton_do.h)/2))):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt(this.totalWidth+this.loadMoreButtonOffsetLeft),y:parseInt((this.stageHeight-this.loadMoreButton_do.h)/2)}),this.offsetTotalWidth=this.loadMoreButtonOffsetLeft+this.loadMoreButtonOffsetRight+this.loadMoreButton_do.w):this.offsetTotalWidth=0},this.centerThumbnails=function(t){y.currentThumbnailsFinalX=y.thumbnailsFinalX,y.isMobileScrollBarRunning_bl||y.isDragging_bl||(y.stageWidth>=y.totalWidth?y.thumbnailsFinalX=Math.round((y.stageWidth-y.totalWidth)/2):0<y.thumbnailsFinalX?y.thumbnailsFinalX=0:y.thumbnailsFinalX<y.stageWidth-y.totalWidth&&(y.isLoadingMore_bl||(y.thumbnailsFinalX=y.stageWidth-y.totalWidth)),FWDAnimation.killTweensOf(y.thumbnailsHolder_do),t?FWDAnimation.to(y.thumbnailsHolder_do,.3,{x:y.thumbnailsFinalX}):y.thumbnailsHolder_do.setX(y.thumbnailsFinalX))},y.addMouseWheelSupport=function(){y.screen.addEventListener?(y.screen.addEventListener("mousewheel",y.mouseWheelDragHandler),y.screen.addEventListener("DOMMouseScroll",y.mouseWheelDragHandler)):y.screen.attachEvent&&y.screen.attachEvent("onmousewheel",y.mouseWheelDragHandler)},y.removeMouseWheelSupport=function(){y.screen.removeEventListener?(y.screen.removeEventListener("mousewheel",y.mouseWheelDragHandler),y.screen.removeEventListener("DOMMouseScroll",y.mouseWheelDragHandler)):y.screen.detachEvent&&y.screen.detachEvent("onmousewheel",y.mouseWheelDragHandler)},y.mouseWheelDragHandler=function(t){if(!(y.totalWidth<=y.stageWidth||y.isDragging_bl)){var e=t.detail||t.wheelDelta;if(t.wheelDelta&&(e*=-1),0<e?y.vx-=10:e<0&&(y.vx+=10),y.isMobileScrollBarRunning_bl||y.activateDragScrollBar(),!t.preventDefault)return!1;t.preventDefault()}},this.setupDragScrollbar=function(){y.isMobile_bl?y.hasPointerEvent_bl?y.screen.addEventListener("MSPointerDown",y.mobileScrBarStartHandler):y.screen.addEventListener("touchstart",y.mobileScrBarStartTest):y.screen.addEventListener?y.screen.addEventListener("mousedown",y.mobileScrBarStartHandler):y.screen.attachEvent&&y.screen.attachEvent("onmousedown",y.mobileScrBarStartHandler)},this.mobileScrBarStartTest=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);y.lastPressedX=e.screenX,y.lastPressedY=e.screenY,n.addEventListener("touchmove",y.mobileScrBarMoveTest)},this.mobileScrBarMoveTest=function(t){if(1==t.touches.length){var e=FWDRLUtils.getViewportMouseCoordinates(t);y.mouseX=e.screenX,y.mouseY=e.screenY;var i=Math.atan2(y.mouseY-y.lastPressedY,y.mouseX-y.lastPressedX),s=180*Math.abs(i)/Math.PI;120<s||s<60||o.isFullScreen_bl?(t.preventDefault(),y.mobileScrBarStartHandler(t),n.removeEventListener("touchmove",y.mobileScrBarMoveTest)):(y.disableThumbClick_bl=!0,n.addEventListener("touchend",y.mobileScrBarEndTest))}},this.mobileScrBarEndTest=function(t){n.removeEventListener("touchmove",y.mobileScrBarMoveTest),n.removeEventListener("touchend",y.mobileScrBarEndTest)},this.mobileScrBarStartHandler=function(t){if(!(y.stageWidth>y.totalWidth)){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t);y.stageWidth<y.totalWidth&&(y.isDragging_bl=!0,y.lastPressedX=e.screenX,y.setOnceDumySizeOnMove_bl=!0,y.vx=0,y.thumbnailsFinalX=y.thumbnailsHolder_do.getX(),clearTimeout(y.disableThumbClickDelayId_to),y.activateDragScrollBar()),y.isMobile_bl?y.hasPointerEvent_bl?(n.addEventListener("MSPointerUp",y.mobileScrBarEndHandler),n.addEventListener("MSPointerMove",y.mobileScrBarMoveHandler)):(n.addEventListener("touchend",y.mobileScrBarEndHandler),n.addEventListener("touchmove",y.mobileScrBarMoveHandler)):n.addEventListener?(n.addEventListener("mouseup",y.mobileScrBarEndHandler),n.addEventListener("mousemove",y.mobileScrBarMoveHandler)):document.attachEvent&&(document.attachEvent("onmouseup",y.mobileScrBarEndHandler),document.attachEvent("onmousemove",y.mobileScrBarMoveHandler))}},this.mobileScrBarMoveHandler=function(t){if(t.preventDefault&&t.preventDefault(),!(y.stageWidth>y.totalWidth)){var e=FWDRLUtils.getViewportMouseCoordinates(t);if(e.screenX!=y.lastPressedX){var i=e.screenX-y.lastPressedX;y.disableThumbClick_bl=!0,(y.setOnceDumySizeOnMove_bl&&!y.isMobile_bl||y.setOnceDumySizeOnMove_bl&&y.hasPointerEvent_bl)&&(y.dumy_do.setWidth(y.stageWidth),y.dumy_do.setHeight(y.stageHeight),y.curThumbnail_do&&y.curThumbnail_do.hideContent(),y.curSelectedThumbnail_do,y.setOnceDumySizeOnMove_bl=!1),y.thumbnailsFinalX+=i,y.thumbnailsFinalX=Math.round(y.thumbnailsFinalX),!y.ieOldMoveTest_bl&&FWDRLUtils.isIE?(clearInterval(y.ieOldMoveTestId_int),y.ieOldMoveTestId_int=setInterval(y.updateThumbnailsPosition,16),y.ieOldMoveTest_bl=!0):FWDRLUtils.isIE||y.thumbnailsHolder_do.setX(y.thumbnailsFinalX),y.lastPressedX=e.screenX,y.vx=2*i}}},this.updateThumbnailsPosition=function(){y.thumbnailsHolder_do.setX(y.thumbnailsFinalX)},this.mobileScrBarEndHandler=function(t){clearInterval(y.ieOldMoveTestId_int),y.ieOldMoveTest_bl=!1,y.isDragging_bl=!1,y.disableThumbClickDelayId_to=setTimeout(function(){y.disableThumbClick_bl=!1},100),y.isMobile_bl&&!y.hasPointerEvent_bl||(y.dumy_do.setWidth(0),y.dumy_do.setHeight(0)),y.isMobile_bl?y.hasPointerEvent_bl?(n.removeEventListener("MSPointerUp",y.mobileScrBarEndHandler),n.removeEventListener("MSPointerMove",y.mobileScrBarMoveHandler)):(n.removeEventListener("touchend",y.mobileScrBarEndHandler),n.removeEventListener("touchmove",y.mobileScrBarMoveHandler)):n.removeEventListener?(n.removeEventListener("mouseup",y.mobileScrBarEndHandler),n.removeEventListener("mousemove",y.mobileScrBarMoveHandler)):document.detachEvent&&(document.detachEvent("onmouseup",y.mobileScrBarEndHandler),document.detachEvent("onmousemove",y.mobileScrBarMoveHandler))},this.updateMobileScrollBar=function(){y.isDragging_bl||(y.stageWidth<=y.totalWidth&&(y.vx*=y.friction,y.thumbnailsFinalX+=y.vx,0<y.thumbnailsFinalX?(y.vx2=.3*(0-y.thumbnailsFinalX),y.vx*=y.friction,y.thumbnailsFinalX+=y.vx2):y.thumbnailsFinalX<y.stageWidth-y.totalWidth&&(y.vx2=.3*(y.stageWidth-y.totalWidth-y.thumbnailsFinalX),y.vx*=y.friction,y.thumbnailsFinalX+=y.vx2),y.thumbnailsFinalX<y.stageWidth-y.totalWidth&&"loadmoreonscroll"==y.thumbnailLoadingType_str&&!y.isLoadingMore_bl&&y.allowToLoadMoreThumbnails()&&(clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){y.loadMore()},500))),Math.abs(y.vx)<.01&&y.deactivateDragScrollBar(),y.thumbnailsHolder_do.setX(Math.round(y.thumbnailsFinalX))),y.stageWidth>y.totalWidth&&y.deactivateDragScrollBar()},this.activateDragScrollBar=function(){y.stageWidth>y.totalWidth||y.isMobileScrollBarRunning_bl||(y.isMobileScrollBarRunning_bl=!0,FWDAnimation.killTweensOf(y.thumbnailsHolder_do),clearInterval(y.updateMobileScrollBarId_int),y.updateMobileScrollBarId_int=setInterval(y.updateMobileScrollBar,16))},this.deactivateDragScrollBar=function(){y.isMobileScrollBarRunning_bl=!1,y.vx=y.vx2=0,clearInterval(y.updateMobileScrollBarId_int),n.removeEventListener&&n.removeEventListener("touchmove",y.mobileScrBarMoveTest)},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div","relative")},r.OPEN_LIGHTBOX="openLightbox",r.CATEGORY_UPDATE="categoryUpdate",r.ERROR="error",r.prototype=null,n.FWDUGPFlexibleHorizontalThumbnailsManager=r}(window),function(n){var r=function(a,t){var w=this;r.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.columnHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetTop=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetBottom=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetX=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftWidth=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.centerWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.hasExtraText_bl=a.hasExtraText_bl,this.isVerticalType_bl=a.isVerticalType_bl,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.setBkColor(t.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==w.thumbnailLoadingType_str?this.setupLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.setupLoadMoreOnScroll(),this.filterCategories(),this.startGetMousePosition(),this.setupNoSearch()},this.resizeAndPosition=function(){w.stageWidth=t.stageWidth,w.setDataForResize(),w.positionThumbnailsAndMain()},this.startGetMousePosition=function(){n.addEventListener?(w.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);w.isMobile_bl||(w.globalX=e.screenX,w.globalY=e.screenY)},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){w.searchValue=t,clearTimeout(w.updateSearch_to),w.updateSearch_to=setTimeout(function(){w.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isVerticalType_bl=a.isVerticalType_bl,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,i.htmlExtraContent_str=this.sourcePlaylist_ar[e].htmlExtraContent_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":w.sourcePlaylist_ar[e].type_str,o=0;o<w.totalOriginalThumbnails;o++)o<i&&(w.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||w.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(w.sourcePlaylist_ar[t.id].thumbnailPath_str,w.sourcePlaylist_ar[t.id].rawDescription_str,w.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(w.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,w.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(w.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,w.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):w.dispatchEvent(r.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(r.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),w.image_img&&(w.image_img.onerror=null,w.image_img.onload=null)},this.startToLoadImage=function(t){w.image_img=new Image,w.image_img.onerror=w.onImageLoadErrorHandler,w.image_img.onload=w.onImageLoadHandler,w.image_img.src=t},this.loadThumbImage=function(){var t;w.stopToLoadImage();for(var e=0;e<w.totalCats;e++)if(w.loadMoreCatsData_ar[e].isSelected&&w.loadMoreCatsData_ar[e].loaded<w.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<w.tempTotalThumbnails&&(w.curDataThumbnail=w.tempPlaylist_ar[e],w.curDataThumbnail.catId!=t||w.curDataThumbnail.thumbnail);e++);w.startToLoadImage(w.sourcePlaylist_ar[w.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+w.sourcePlaylist_ar[w.curDataThumbnail.id].thumbnailPath_str+"</font>";w.dispatchEvent(r.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=w.getThumbnail(w.curDataThumbnail.catId,w.curDataThumbnail.id);w.loadMoreCatsData_ar[w.curDataThumbnail.catId].loaded++,w.curDataThumbnail.thumbnail=e,(w.originalDataThumbnails_ar[w.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=w.image_img.width,e.originalHeight=w.image_img.height,e.addImage(w.image_img),w.countLoadedThumbs++,w.isFirstThumbnailLoaded_bl||setTimeout(function(){w.firstThumbnailShowed_bl=!0},200),w.updateCurThumbnails(),w.positionThumbnailsAndMain()},this.updateCatsLimits=function(){var t=w.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=w.thumbnailsPerSet,e=0;0<t&&e<w.totalCats;)w.loadMoreCatsData_ar[e].isSelected&&(w.loadMoreCatsData_ar[e].limit+t>w.loadMoreCatsData_ar[e].total?(t-=w.loadMoreCatsData_ar[e].total-w.loadMoreCatsData_ar[e].limit,w.loadMoreCatsData_ar[e].limit=w.loadMoreCatsData_ar[e].total):(w.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);w.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];w.loadMoreCatsData_ar=[];for(var o=0;o<w.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<w.totalThumbnails;o++)i[(t=w.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<w.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,w.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],w.stopToLoadImage();for(var s=0;s<w.sourcePlaylist_ar.length;s++)t=w.originalDataThumbnails_ar[s],w.sourcePlaylist_ar[s].titleText_str&&-1!=w.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(w.searchValue)?w.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(w.totalThumbnails=w.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==w.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==w.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[w.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?(this.hasSearchResult_bl=!1,this.showNoSearch()):(this.hasSearchResult_bl=!0,this.hideNoSearch()),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(w.updateCurThumbnails(),w.positionThumbnailsAndMain()),"loadmorewithbutton"==w.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==w.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==w.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.hasExtraText_bl?this.loadThumbnailId_to=setTimeout(this.loadThumbImage,53):this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)):this.hasExtraText_bl&&(w.positionThumbnailWithExtraContent(),w.setFinalSize()),"loadmorewithbutton"==w.thumbnailLoadingType_str?this.hideOrShowLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.loadInfinite()},this.setDataForResize=function(){this.stageWidth&&(this.prevStageWidth=this.stageWidth)},this.positionThumbnailsAndMain=function(){this.hasExtraText_bl?(w.setThumbsExtraTextWidth(),clearTimeout(this.resizeWithExtraContentId_to),this.resizeWithExtraContentId_to=setTimeout(function(){w.positionThumbnailWithExtraContent(),w.setFinalSize()},51)):(this.positionThumbnails(),this.setFinalSize())},this.setFinalSize=function(){w.setWidth(w.stageWidth),w.positionLoadMoreButton(),w.totalHeight+=w.offsetTotalHeight,w.hasSearchResult_bl||(w.totalHeight=w.thumbnailMaxHeight+2*w.borderSize,w.positionNoSearchLabel()),w.prevTotalHeight!=w.totalHeight&&(w.firstThumbnailShowed_bl&&w.animateParent_bl&&!w.isMobile_bl?(FWDAnimation.to(w,.7,{h:w.totalHeight,ease:Quart.easeOut}),clearTimeout(w.arangeFaterTweenId_to),w.arangeFaterTweenId_to=setTimeout(function(){w.stageWidth!=t.stageContainer.offsetWidth&&t.onResizeHandler()},700)):w.setHeight(w.totalHeight)),t.setFinalSize(),t.stageWidth=t.stageContainer.offsetWidth,w.prevTotalHeight=w.totalHeight,w.stageWidth!=t.stageWidth&&t.onResizeHandler()},this.positionThumbnails=function(){var t,e,i,s,o,a,n=0,r=0,l=0,d=0;a=w.stageWidth-2*w.thumbsHOffset,s=w.thumbnailMaxHeight+2*w.borderSize;for(var h=0;h<w.playlist_ar.length;h++){var u=(o=w.playlist_ar[h].thumbnail).imageOriginalW/o.imageOriginalH;if(i=Math.floor((s-2*w.borderSize)*u+2*w.borderSize),0==r?(l+=i,t=w.thumbsHOffset):(l+=i+w.thumbsHSpace,t=t+d+w.thumbsHSpace),r++,d=i,e=n*(s+w.thumbsVSpace)+w.thumbsVOffset,l==a)r=l=0,n++;else if(a<l){for(var c,_,m=h-r+1,b=[],f=[],p=l-a,g=0,S=0,v=0;v<r-1;v++)g+=(c=w.playlist_ar[m+v].thumbnail).finalW;g+=i;for(v=0;v<r-1;v++)c=w.playlist_ar[m+v].thumbnail,f[v]=Math.floor(c.finalW-p*(c.finalW/g)),S+=f[v];if(f[r-1]=Math.floor(i-p*(i/g)),S+=f[r-1],0<(_=a-(S+=w.thumbsHSpace*(r-1))))for(v=0;v<_;v++)c=w.playlist_ar[m+v].thumbnail,f[v]++;b[0]=w.thumbsHOffset;for(v=1;v<r;v++)c=w.playlist_ar[m+v].thumbnail,b[v]=b[v-1]+f[v-1]+w.thumbsHSpace;for(v=0;v<r-1;v++)(c=w.playlist_ar[m+v].thumbnail).finalW=f[v],c.finalX=b[v];i=f[r-1],t=b[r-1],r=l=0,n++}o.finalW=i,o.finalH=s,o.finalX=t,o.finalY=e}for(h=0;h<w.totalLoadedThumbnails;h++)w.playlist_ar[h].thumbnail.resizeAndPosition();w.totalHeight=o?e+s+w.thumbsVOffset:0},this.setThumbsExtraTextWidth=function(){var t,e,i,s,o=0,a=0;s=w.stageWidth-2*w.thumbsHOffset;for(var n=0;n<w.totalLoadedThumbnails;n++){i=w.playlist_ar[n].thumbnail,e=w.thumbnailMaxHeight+2*w.borderSize;var r=i.imageOriginalW/i.imageOriginalH;if(t=Math.floor((e-2*w.borderSize)*r+2*w.borderSize),a+=0==o?t:t+w.thumbsHSpace,o++,a==s)o=a=0,0;else if(s<a){for(var l,d,h=n-o+1,u=[],c=a-s,_=0,m=0,b=0;b<o-1;b++)_+=(l=w.playlist_ar[h+b].thumbnail).finalW;_+=t;for(b=0;b<o-1;b++)l=w.playlist_ar[h+b].thumbnail,u[b]=Math.floor(l.finalW-c*(l.finalW/_)),m+=u[b];if(u[o-1]=Math.floor(t-c*(t/_)),m+=u[o-1],0<(d=s-(m+=w.thumbsHSpace*(o-1))))for(b=0;b<d;b++)l=w.playlist_ar[h+b].thumbnail,u[b]++;for(b=0;b<o-1;b++)(l=w.playlist_ar[h+b].thumbnail).finalW=u[b],l.hasExtraText_bl&&l.textHolder_do.setWidth(l.finalW-2*w.borderSize);t=u[o-1],o=a=0,0}i.finalW=t,i.hasExtraText_bl&&i.textHolder_do.setWidth(t-2*w.borderSize)}},this.positionThumbnailWithExtraContent=function(){var t,e,i,s,o,a,n,r=0,l=0,d=0,h=w.thumbsVOffset,u=0;n=w.stageWidth-2*w.thumbsHOffset;for(var c=0;c<w.totalLoadedThumbnails;c++){o=w.playlist_ar[c].thumbnail,s=w.thumbnailMaxHeight+2*w.borderSize,o.hasExtraText_bl&&(o.addToHeight=o.text3_do.getHeight());var _=o.imageOriginalW/o.imageOriginalH;if(i=Math.floor((s-2*w.borderSize)*_+2*w.borderSize),0==r?(l+=i,t=w.thumbsHOffset):(l+=i+w.thumbsHSpace,t=t+d+w.thumbsHSpace),r++,d=i,o.addToHeight>u&&(u=o.addToHeight),a=u,e=h,l==n)h+=s+u+w.thumbsVSpace,u=r=l=0,0;else if(n<l){for(var m,b,f=c-r+1,p=[],g=[],S=l-n,v=0,y=0,T=0;T<r-1;T++)v+=(m=w.playlist_ar[f+T].thumbnail).finalW;v+=i;for(T=0;T<r-1;T++)m=w.playlist_ar[f+T].thumbnail,g[T]=Math.floor(m.finalW-S*(m.finalW/v)),y+=g[T];if(g[r-1]=Math.floor(i-S*(i/v)),y+=g[r-1],0<(b=n-(y+=w.thumbsHSpace*(r-1))))for(T=0;T<b;T++)m=w.playlist_ar[f+T].thumbnail,g[T]++;p[0]=w.thumbsHOffset;for(T=1;T<r;T++)m=w.playlist_ar[f+T].thumbnail,p[T]=p[T-1]+g[T-1]+w.thumbsHSpace;for(T=0;T<r-1;T++)(m=w.playlist_ar[f+T].thumbnail).finalW=g[T],m.finalX=p[T];i=g[r-1],t=p[r-1],h+=s+u+w.thumbsVSpace,u=r=l=0,0}o.finalW=i,o.finalH=s+o.addToHeight,o.finalX=t,o.finalY=e}for(c=0;c<w.totalLoadedThumbnails;c++)w.playlist_ar[c].thumbnail.resizeAndPosition();w.totalHeight=o?e+s+a+w.thumbsVOffset:0},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){w.noSearch_do.w=w.noSearch_do.getWidth(),w.noSearch_do.h=w.noSearch_do.getHeight(),w.removeChild(w.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){w.removeChild(w.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),t.menu_do.isShowed_bl&&this.centerWithMenu_bl?this.noSearch_do.setY(parseInt((this.totalHeight-t.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.totalHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),w.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){w.hideLoadMoreButton(),w.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){w.allowToLoadMoreThumbnails()?w.showLoadMoreButton():w.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(parseInt((this.stageWidth-this.loadMoreButton_do.w)/2)),this.loadMoreButton_do.setY(this.totalHeight+this.loadMoreButtonOffsetTop)):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt((this.stageWidth-this.loadMoreButton_do.w)/2),y:parseInt(this.totalHeight+this.loadMoreButtonOffsetTop)}),this.offsetTotalHeight=this.loadMoreButtonOffsetTop+this.loadMoreButtonOffsetBottom+this.loadMoreButton_do.h):this.offsetTotalHeight=0},this.setupLoadMoreOnScroll=function(){n.addEventListener?n.addEventListener("scroll",this.onScrollHandler):n.attachEvent&&n.attachEvent("onscroll",this.onScrollHandler)},this.onScrollHandler=function(){w.loadInfinite(),w.totalLoadedThumbnails==w.totalThumbnails&&(n.removeEventListener?n.removeEventListener("scroll",this.onScrollHandler):n.detachEvent&&n.detachEvent("onscroll",this.onScrollHandler))},this.loadInfinite=function(){if(this.allowToLoadMoreThumbnails()){var t=this.playlist_ar[this.playlist_ar.length-1].thumbnail;clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){t.getGlobalY()+t.finalH<FWDRLUtils.getViewportSize().h&&w.loadMore()},500)}},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div","relative")},r.OPEN_LIGHTBOX="openLightbox",r.CATEGORY_UPDATE="categoryUpdate",r.ERROR="error",r.prototype=null,n.FWDUGPFlexibleVerticalThumbnailsManager=r}(window),function(n){var r=function(a,o){var b=this;r.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.rowHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.handGrabPath_str=a.handGrabPath_str,this.handMovePath_str=a.handMovePath_str,this.currentThumbnailsFinalX=0,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetLeft=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetRight=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetY=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftWidth=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.leftHeight=0,this.vx=0,this.vx2=0,this.friction=.9,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.centerWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.isMobileScrollBarRunning_bl=!1,this.isDragging_bl=!1,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.addMouseWheelSupport_bl=a.addMouseWheelSupport_bl,this.centerNoSearchFoundLabelWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.isVerticalType_bl=a.isVerticalType_bl,this.isLoadingMore_bl=!1,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.thumbnailsHolder_do=new FWDRLDisplayObject("div"),this.thumbnailsHolder_do.setOverflow("visible"),this.setBkColor(o.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==b.thumbnailLoadingType_str&&this.setupLoadMoreButton(),this.addMouseWheelSupport_bl&&!this.isMobile_bl&&this.addMouseWheelSupport(),this.filterCategories(),this.startGetMousePosition(),this.setupDragScrollbar(),this.addChild(this.thumbnailsHolder_do),this.setupNoSearch(),b.isMobile_bl||(b.screen.style.cursor="url("+b.handGrabPath_str+"), default",b.dumy_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(b.dumy_do.setBkColor("#FF0000"),b.dumy_do.setAlpha(1e-4)),b.dumy_do.screen.style.cursor="url("+b.handMovePath_str+"), default",b.addChild(b.dumy_do))},this.resizeAndPosition=function(){this.stageWidth=o.stageWidth,o.menu_do?this.stageHeight=o.stageHeight-o.menu_do.h:this.stageHeight=o.stageHeight,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.setDataForResize(),this.positionThumbnailsAndMain(),this.centerThumbnails(!0),this.positionNoSearchLabel(),this.setWidth(this.stageWidth),this.setHeight(this.stageHeight)},this.startGetMousePosition=function(){n.addEventListener?(b.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);b.globalX=e.screenX,b.globalY=e.screenY},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){b.searchValue=t,clearTimeout(b.updateSearch_to),b.updateSearch_to=setTimeout(function(){b.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.thumbnailsHolder_do.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":b.sourcePlaylist_ar[e].type_str,o=0;o<b.totalOriginalThumbnails;o++)o<i&&(b.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||b.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(b.sourcePlaylist_ar[t.id].thumbnailPath_str,b.sourcePlaylist_ar[t.id].rawDescription_str,b.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(b.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,b.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(b.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,b.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):b.dispatchEvent(r.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.deactivateDragScrollBar(),this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(r.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),b.image_img&&(b.image_img.onerror=null,b.image_img.onload=null)},this.startToLoadImage=function(t){b.image_img=new Image,b.image_img.onerror=b.onImageLoadErrorHandler,b.image_img.onload=b.onImageLoadHandler,b.image_img.src=t},this.loadThumbImage=function(){var t;b.stopToLoadImage();for(var e=0;e<b.totalCats;e++)if(b.loadMoreCatsData_ar[e].isSelected&&b.loadMoreCatsData_ar[e].loaded<b.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<b.tempTotalThumbnails&&(b.curDataThumbnail=b.tempPlaylist_ar[e],b.curDataThumbnail.catId!=t||b.curDataThumbnail.thumbnail);e++);b.startToLoadImage(b.sourcePlaylist_ar[b.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+b.sourcePlaylist_ar[b.curDataThumbnail.id].thumbnailPath_str+"</font>";b.dispatchEvent(r.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=b.getThumbnail(b.curDataThumbnail.catId,b.curDataThumbnail.id);b.loadMoreCatsData_ar[b.curDataThumbnail.catId].loaded++,b.curDataThumbnail.thumbnail=e,(b.originalDataThumbnails_ar[b.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=b.image_img.width,e.originalHeight=b.image_img.height,e.addImage(b.image_img),b.countLoadedThumbs++,b.isFirstThumbnailLoaded_bl||setTimeout(function(){b.firstThumbnailShowed_bl=!0},200),b.updateCurThumbnails(),b.positionThumbnailsAndMain(),b.centerThumbnails(!0)},this.updateCatsLimits=function(){var t=b.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=b.thumbnailsPerSet,e=0;0<t&&e<b.totalCats;)b.loadMoreCatsData_ar[e].isSelected&&(b.loadMoreCatsData_ar[e].limit+t>b.loadMoreCatsData_ar[e].total?(t-=b.loadMoreCatsData_ar[e].total-b.loadMoreCatsData_ar[e].limit,b.loadMoreCatsData_ar[e].limit=b.loadMoreCatsData_ar[e].total):(b.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);b.isLoadingMore_bl=!0,b.deactivateDragScrollBar(),b.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];b.loadMoreCatsData_ar=[];for(var o=0;o<b.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<b.totalThumbnails;o++)i[(t=b.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<b.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,b.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],b.stopToLoadImage();for(var s=0;s<b.sourcePlaylist_ar.length;s++)t=b.originalDataThumbnails_ar[s],b.sourcePlaylist_ar[s].titleText_str&&-1!=b.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(b.searchValue)?b.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(b.totalThumbnails=b.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==b.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==b.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[b.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?this.showNoSearch():this.hideNoSearch(),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(b.updateCurThumbnails(),b.positionThumbnailsAndMain(),b.centerThumbnails(!0),"loadmoreonscroll"==b.thumbnailLoadingType_str&&b.stageWidth>b.totalWidth&&b.allowToLoadMoreThumbnails()&&b.loadMore()),"loadmorewithbutton"==b.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==b.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==b.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)):(b.isLoadingMore_bl=!1,"loadmoreonscroll"==b.thumbnailLoadingType_str&&b.stageWidth>b.totalWidth&&b.allowToLoadMoreThumbnails()&&b.loadMore()),"loadmorewithbutton"==b.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.setDataForResize=function(){if(this.stageWidth){this.totalRows=Math.ceil((this.stageHeight-2*this.thumbsVOffset+this.thumbsVSpace)/(this.thumbnailMaxHeight+2*this.borderSize+this.thumbsVSpace)),this.thumbHeight=Math.floor((this.stageHeight-2*this.thumbsVOffset+this.thumbsVSpace-this.totalRows*(this.thumbsVSpace+2*this.borderSize))/this.totalRows),this.thumbWidth=Math.floor(this.thumbHeight*(this.thumbnailMaxWidth/this.thumbnailMaxHeight));var t=this.totalRows*(this.thumbHeight+2*this.borderSize+this.thumbsVSpace)-this.thumbsVSpace;this.leftHeight=this.stageHeight-2*this.thumbsVOffset-t,this.prevStageWidth=this.stageWidth}},this.positionThumbnailsAndMain=function(){this.rowHeights_ar=[];for(var t=0;t<this.totalRows;t++)this.rowHeights_ar[t]=0;for(t=0;t<this.totalLoadedThumbnails;t++)thumbnail=this.playlist_ar[t].thumbnail,thumbnail.used_bl=!1;this.positionThumbnails(),this.positionThumbnails(),this.positionThumbnails2(),this.totalWidth=Math.max(0,this.maxW*(this.thumbWidth+this.thumbsHSpace+2*this.borderSize)-this.thumbsHSpace+2*this.thumbsHOffset),this.positionLoadMoreButton(),this.totalWidth+=this.offsetTotalWidth},this.positionThumbnails=function(){for(var t,e,i,s,o,a,n,r,l,d,h=[],u=[],c=0;c<b.totalRows;c++)h[c]=b.thumbHeight+2*b.borderSize,0<b.leftHeight&&c<b.leftHeight&&h[c]++,u[c]=0==c?b.thumbsVOffset:u[c-1]+h[c-1]+b.thumbsVSpace;for(c=0;c<b.totalLoadedThumbnails;c++)if(!(d=b.playlist_ar[c].thumbnail).used_bl)if(i=Math.round(d.originalHeight/b.thumbnailMaxHeight),wSize=Math.round(d.originalWidth/b.thumbnailMaxWidth),e=1e3,1==i){d.used_bl=!0;for(var _=0;_<b.totalRows;_++)b.rowHeights_ar[_]<e&&(e=b.rowHeights_ar[_]);for(_=0;_<b.totalRows;_++)if(b.rowHeights_ar[_]==e){t=_;break}a=b.rowHeights_ar[t]*(b.thumbWidth+b.thumbsHSpace+2*b.borderSize)+b.thumbsHOffset,n=u[t],r=(b.thumbWidth+b.thumbsHSpace+2*b.borderSize)*wSize-b.thumbsHSpace,l=h[t],d.finalW=r,d.finalH=l,d.finalX=a,d.finalY=n,d.resizeAndPosition(),b.rowHeights_ar[t]+=wSize}else{s=!1;for(_=0;_<b.totalRows-(i-1);_++){o=!0;for(var m=0;m<i;m++)b.rowHeights_ar[_]!=b.rowHeights_ar[_+m]&&(o=!1);o&&b.rowHeights_ar[_]<e&&(e=b.rowHeights_ar[_],t=_,s=!0)}if(s){d.used_bl=!0,a=b.rowHeights_ar[t]*(b.thumbWidth+b.thumbsHSpace+2*b.borderSize)+b.thumbsHOffset,n=u[t],r=(b.thumbWidth+b.thumbsHSpace+2*b.borderSize)*wSize-b.thumbsHSpace,l=-b.thumbsVSpace;for(m=0;m<i;m++)l+=h[t+m]+b.thumbsVSpace;d.finalW=r,d.finalH=l,d.finalX=a,d.finalY=n,d.resizeAndPosition();for(m=0;m<i;m++)b.rowHeights_ar[t+m]+=wSize}}for(c=b.maxW=0;c<b.totalRows;c++)b.rowHeights_ar[c]>b.maxW&&(b.maxW=b.rowHeights_ar[c])},this.positionThumbnails2=function(){for(var t,e,i,s,o=[],a=0;a<b.totalRows;a++)o[a]=b.thumbHeight+2*b.borderSize,0<b.finalH_ar&&a<b.finalH_ar&&o[a]++;for(a=this.maxW=0;a<this.totalRows;a++)this.rowHeights_ar[a]>this.maxW&&(this.maxW=this.rowHeights_ar[a]);for(a=0;a<this.totalLoadedThumbnails;a++)if(thumbnail=this.playlist_ar[a].thumbnail,!thumbnail.used_bl){thumbnail.used_bl=!0;var n=Math.round(thumbnail.originalWidth/this.thumbnailMaxWidth),r=Math.round(thumbnail.originalHeight/this.thumbnailMaxHeight);this.totalRows<r&&(r=this.totalRows),e=b.thumbsVOffset,t=this.maxW*(b.thumbWidth+b.thumbsHSpace+2*b.borderSize)+b.thumbsHOffset,i=(this.thumbWidth+this.thumbsHSpace+2*this.borderSize)*n-this.thumbsHSpace,s=-b.thumbsVSpace;for(var l=0;l<n;l++)s+=o[l]+b.thumbsVSpace;thumbnail.finalX=t,thumbnail.finalY=e,thumbnail.finalW=i,thumbnail.finalH=s,thumbnail.resizeAndPosition(),this.maxW+=n;for(l=0;l<r;l++)this.rowHeights_ar[l]=this.maxW}},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){b.noSearch_do.w=b.noSearch_do.getWidth(),b.noSearch_do.h=b.noSearch_do.getHeight(),b.removeChild(b.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){b.removeChild(b.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),o.menu_do.isShowed_bl&&this.centerWithMenu_bl?this.noSearch_do.setY(parseInt((this.stageHeight-o.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.stageHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),b.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.thumbnailsHolder_do.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){b.hideLoadMoreButton(),b.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){b.allowToLoadMoreThumbnails()?b.showLoadMoreButton():b.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(this.totalWidth+this.loadMoreButtonOffsetLeft),this.loadMoreButton_do.setY(parseInt((this.stageHeight-this.loadMoreButton_do.h)/2))):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt(this.totalWidth+this.loadMoreButtonOffsetLeft),y:parseInt((this.stageHeight-this.loadMoreButton_do.h)/2)}),this.offsetTotalWidth=this.loadMoreButtonOffsetLeft+this.loadMoreButtonOffsetRight+this.loadMoreButton_do.w):this.offsetTotalWidth=0},this.centerThumbnails=function(t){b.currentThumbnailsFinalX=b.thumbnailsFinalX,b.isMobileScrollBarRunning_bl||b.isDragging_bl||(b.stageWidth>=b.totalWidth?b.thumbnailsFinalX=Math.round((b.stageWidth-b.totalWidth)/2):0<b.thumbnailsFinalX?b.thumbnailsFinalX=0:b.thumbnailsFinalX<b.stageWidth-b.totalWidth&&(b.isLoadingMore_bl||(b.thumbnailsFinalX=b.stageWidth-b.totalWidth)),FWDAnimation.killTweensOf(b.thumbnailsHolder_do),t?FWDAnimation.to(b.thumbnailsHolder_do,.3,{x:b.thumbnailsFinalX}):b.thumbnailsHolder_do.setX(b.thumbnailsFinalX))},b.addMouseWheelSupport=function(){b.screen.addEventListener?(b.screen.addEventListener("mousewheel",b.mouseWheelDragHandler),b.screen.addEventListener("DOMMouseScroll",b.mouseWheelDragHandler)):b.screen.attachEvent&&b.screen.attachEvent("onmousewheel",b.mouseWheelDragHandler)},b.removeMouseWheelSupport=function(){b.screen.removeEventListener?(b.screen.removeEventListener("mousewheel",b.mouseWheelDragHandler),b.screen.removeEventListener("DOMMouseScroll",b.mouseWheelDragHandler)):b.screen.detachEvent&&b.screen.detachEvent("onmousewheel",b.mouseWheelDragHandler)},b.mouseWheelDragHandler=function(t){if(!(b.totalWidth<=b.stageWidth||b.isDragging_bl)){var e=t.detail||t.wheelDelta;if(t.wheelDelta&&(e*=-1),0<e?b.vx-=10:e<0&&(b.vx+=10),b.isMobileScrollBarRunning_bl||b.activateDragScrollBar(),!t.preventDefault)return!1;t.preventDefault()}},this.setupDragScrollbar=function(){b.isMobile_bl?b.hasPointerEvent_bl?b.screen.addEventListener("MSPointerDown",b.mobileScrBarStartHandler):b.screen.addEventListener("touchstart",b.mobileScrBarStartTest):b.screen.addEventListener?b.screen.addEventListener("mousedown",b.mobileScrBarStartHandler):b.screen.attachEvent&&b.screen.attachEvent("onmousedown",b.mobileScrBarStartHandler)},this.mobileScrBarStartTest=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);b.lastPressedX=e.screenX,b.lastPressedY=e.screenY,n.addEventListener("touchmove",b.mobileScrBarMoveTest)},this.mobileScrBarMoveTest=function(t){if(1==t.touches.length){var e=FWDRLUtils.getViewportMouseCoordinates(t);b.mouseX=e.screenX,b.mouseY=e.screenY;var i=Math.atan2(b.mouseY-b.lastPressedY,b.mouseX-b.lastPressedX),s=180*Math.abs(i)/Math.PI;120<s||s<60||o.isFullScreen_bl?(t.preventDefault(),b.mobileScrBarStartHandler(t),n.removeEventListener("touchmove",b.mobileScrBarMoveTest)):(b.disableThumbClick_bl=!0,n.addEventListener("touchend",b.mobileScrBarEndTest))}},this.mobileScrBarEndTest=function(t){n.removeEventListener("touchmove",b.mobileScrBarMoveTest),n.removeEventListener("touchend",b.mobileScrBarEndTest)},this.mobileScrBarStartHandler=function(t){if(!(b.stageWidth>b.totalWidth)){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t);b.stageWidth<b.totalWidth&&(b.isDragging_bl=!0,b.lastPressedX=e.screenX,b.setOnceDumySizeOnMove_bl=!0,b.vx=0,b.thumbnailsFinalX=b.thumbnailsHolder_do.getX(),clearTimeout(b.disableThumbClickDelayId_to),b.activateDragScrollBar()),b.isMobile_bl?b.hasPointerEvent_bl?(n.addEventListener("MSPointerUp",b.mobileScrBarEndHandler),n.addEventListener("MSPointerMove",b.mobileScrBarMoveHandler)):(n.addEventListener("touchend",b.mobileScrBarEndHandler),n.addEventListener("touchmove",b.mobileScrBarMoveHandler)):n.addEventListener?(n.addEventListener("mouseup",b.mobileScrBarEndHandler),n.addEventListener("mousemove",b.mobileScrBarMoveHandler)):document.attachEvent&&(document.attachEvent("onmouseup",b.mobileScrBarEndHandler),document.attachEvent("onmousemove",b.mobileScrBarMoveHandler))}},this.mobileScrBarMoveHandler=function(t){if(t.preventDefault&&t.preventDefault(),!(b.stageWidth>b.totalWidth)){var e=FWDRLUtils.getViewportMouseCoordinates(t);if(e.screenX!=b.lastPressedX){var i=e.screenX-b.lastPressedX;b.disableThumbClick_bl=!0,(b.setOnceDumySizeOnMove_bl&&!b.isMobile_bl||b.setOnceDumySizeOnMove_bl&&b.hasPointerEvent_bl)&&(b.dumy_do.setWidth(b.stageWidth),b.dumy_do.setHeight(b.stageHeight),b.curThumbnail_do&&b.curThumbnail_do.hideContent(),b.curSelectedThumbnail_do,b.setOnceDumySizeOnMove_bl=!1),b.thumbnailsFinalX+=i,b.thumbnailsFinalX=Math.round(b.thumbnailsFinalX),!b.ieOldMoveTest_bl&&FWDRLUtils.isIE?(clearInterval(b.ieOldMoveTestId_int),b.ieOldMoveTestId_int=setInterval(b.updateThumbnailsPosition,16),b.ieOldMoveTest_bl=!0):FWDRLUtils.isIE||b.thumbnailsHolder_do.setX(b.thumbnailsFinalX),b.lastPressedX=e.screenX,b.vx=2*i}}},this.updateThumbnailsPosition=function(){b.thumbnailsHolder_do.setX(b.thumbnailsFinalX)},this.mobileScrBarEndHandler=function(t){clearInterval(b.ieOldMoveTestId_int),b.ieOldMoveTest_bl=!1,b.isDragging_bl=!1,b.disableThumbClickDelayId_to=setTimeout(function(){b.disableThumbClick_bl=!1},100),b.isMobile_bl&&!b.hasPointerEvent_bl||(b.dumy_do.setWidth(0),b.dumy_do.setHeight(0)),b.isMobile_bl?b.hasPointerEvent_bl?(n.removeEventListener("MSPointerUp",b.mobileScrBarEndHandler),n.removeEventListener("MSPointerMove",b.mobileScrBarMoveHandler)):(n.removeEventListener("touchend",b.mobileScrBarEndHandler),n.removeEventListener("touchmove",b.mobileScrBarMoveHandler)):n.removeEventListener?(n.removeEventListener("mouseup",b.mobileScrBarEndHandler),n.removeEventListener("mousemove",b.mobileScrBarMoveHandler)):document.detachEvent&&(document.detachEvent("onmouseup",b.mobileScrBarEndHandler),document.detachEvent("onmousemove",b.mobileScrBarMoveHandler))},this.updateMobileScrollBar=function(){b.isDragging_bl||(b.stageWidth<=b.totalWidth&&(b.vx*=b.friction,b.thumbnailsFinalX+=b.vx,0<b.thumbnailsFinalX?(b.vx2=.3*(0-b.thumbnailsFinalX),b.vx*=b.friction,b.thumbnailsFinalX+=b.vx2):b.thumbnailsFinalX<b.stageWidth-b.totalWidth&&(b.vx2=.3*(b.stageWidth-b.totalWidth-b.thumbnailsFinalX),b.vx*=b.friction,b.thumbnailsFinalX+=b.vx2),b.thumbnailsFinalX<b.stageWidth-b.totalWidth&&"loadmoreonscroll"==b.thumbnailLoadingType_str&&!b.isLoadingMore_bl&&b.allowToLoadMoreThumbnails()&&(clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){b.loadMore()},500))),Math.abs(b.vx)<.01&&b.deactivateDragScrollBar(),b.thumbnailsHolder_do.setX(Math.round(b.thumbnailsFinalX))),b.stageWidth>b.totalWidth&&b.deactivateDragScrollBar()},this.activateDragScrollBar=function(){b.stageWidth>b.totalWidth||b.isMobileScrollBarRunning_bl||(b.isMobileScrollBarRunning_bl=!0,FWDAnimation.killTweensOf(b.thumbnailsHolder_do),clearInterval(b.updateMobileScrollBarId_int),b.updateMobileScrollBarId_int=setInterval(b.updateMobileScrollBar,16))},this.deactivateDragScrollBar=function(){b.isMobileScrollBarRunning_bl=!1,b.vx=b.vx2=0,clearInterval(b.updateMobileScrollBarId_int),n.removeEventListener&&n.removeEventListener("touchmove",b.mobileScrBarMoveTest)},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div","relative")},r.OPEN_LIGHTBOX="openLightbox",r.CATEGORY_UPDATE="categoryUpdate",r.ERROR="error",r.prototype=null,n.FWDUGPHorizontalThumbnailsManager=r}(window),function(n){var r=function(a,o){var _=this;r.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.rowHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.handGrabPath_str=a.handGrabPath_str,this.handMovePath_str=a.handMovePath_str,this.currentThumbnailsFinalX=0,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetLeft=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetRight=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetY=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftHeight=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.leftHeight=0,this.vx=0,this.vx2=0,this.friction=.9,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.isMobileScrollBarRunning_bl=!1,this.isDragging_bl=!1,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.centerNoSearchFoundLabelWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.addMouseWheelSupport_bl=a.addMouseWheelSupport_bl,this.isVerticalType_bl=a.isVerticalType_bl,this.isLoadingMore_bl=!1,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.thumbnailsHolder_do=new FWDRLDisplayObject("div"),this.thumbnailsHolder_do.setOverflow("visible"),this.setBkColor(o.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==_.thumbnailLoadingType_str&&this.setupLoadMoreButton(),this.addMouseWheelSupport_bl&&!this.isMobile_bl&&this.addMouseWheelSupport(),this.filterCategories(),this.startGetMousePosition(),this.setupDragScrollbar(),this.addChild(this.thumbnailsHolder_do),this.setupNoSearch(),_.isMobile_bl||(_.screen.style.cursor="url("+_.handGrabPath_str+"), default",_.dumy_do=new FWDRLDisplayObject("div"),FWDRLUtils.isIE&&(_.dumy_do.setBkColor("#FF0000"),_.dumy_do.setAlpha(1e-4)),_.dumy_do.screen.style.cursor="url("+_.handMovePath_str+"), default",_.addChild(_.dumy_do))},this.resizeAndPosition=function(){this.stageWidth=o.stageWidth,o.menu_do?this.stageHeight=o.stageHeight-o.menu_do.h:this.stageHeight=o.stageHeight,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.setDataForResize(),this.positionThumbnailsAndMain(),this.centerThumbnails(!0),this.positionNoSearchLabel(),this.setWidth(this.stageWidth),this.setHeight(this.stageHeight)},this.startGetMousePosition=function(){n.addEventListener?(_.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);_.globalX=e.screenX,_.globalY=e.screenY},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){_.searchValue=t,clearTimeout(_.updateSearch_to),_.updateSearch_to=setTimeout(function(){_.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isVerticalType_bl=this.isVerticalType_bl,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.thumbnailsHolder_do.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":_.sourcePlaylist_ar[e].type_str,o=0;o<_.totalOriginalThumbnails;o++)o<i&&(_.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||_.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(_.sourcePlaylist_ar[t.id].thumbnailPath_str,_.sourcePlaylist_ar[t.id].rawDescription_str,_.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(_.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,_.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(_.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,_.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):_.dispatchEvent(r.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.thumbnailsFinalX=this.thumbnailsHolder_do.getX(),this.deactivateDragScrollBar(),this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(r.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),_.image_img&&(_.image_img.onerror=null,_.image_img.onload=null)},this.startToLoadImage=function(t){_.image_img=new Image,_.image_img.onerror=_.onImageLoadErrorHandler,_.image_img.onload=_.onImageLoadHandler,_.image_img.src=t},this.loadThumbImage=function(){var t;_.stopToLoadImage();for(var e=0;e<_.totalCats;e++)if(_.loadMoreCatsData_ar[e].isSelected&&_.loadMoreCatsData_ar[e].loaded<_.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<_.tempTotalThumbnails&&(_.curDataThumbnail=_.tempPlaylist_ar[e],_.curDataThumbnail.catId!=t||_.curDataThumbnail.thumbnail);e++);_.startToLoadImage(_.sourcePlaylist_ar[_.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+_.sourcePlaylist_ar[_.curDataThumbnail.id].thumbnailPath_str+"</font>";_.dispatchEvent(r.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=_.getThumbnail(_.curDataThumbnail.catId,_.curDataThumbnail.id);_.loadMoreCatsData_ar[_.curDataThumbnail.catId].loaded++,_.curDataThumbnail.thumbnail=e,(_.originalDataThumbnails_ar[_.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=_.image_img.width,e.originalHeight=_.image_img.height,e.addImage(_.image_img),_.countLoadedThumbs++,_.isFirstThumbnailLoaded_bl||setTimeout(function(){_.firstThumbnailShowed_bl=!0},200),_.updateCurThumbnails(),_.positionThumbnailsAndMain(),_.centerThumbnails(!0)},this.updateCatsLimits=function(){var t=_.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=_.thumbnailsPerSet,e=0;0<t&&e<_.totalCats;)_.loadMoreCatsData_ar[e].isSelected&&(_.loadMoreCatsData_ar[e].limit+t>_.loadMoreCatsData_ar[e].total?(t-=_.loadMoreCatsData_ar[e].total-_.loadMoreCatsData_ar[e].limit,_.loadMoreCatsData_ar[e].limit=_.loadMoreCatsData_ar[e].total):(_.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);_.isLoadingMore_bl=!0,_.deactivateDragScrollBar(),_.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];_.loadMoreCatsData_ar=[];for(var o=0;o<_.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<_.totalThumbnails;o++)i[(t=_.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<_.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,_.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],_.stopToLoadImage();for(var s=0;s<_.sourcePlaylist_ar.length;s++)t=_.originalDataThumbnails_ar[s],_.sourcePlaylist_ar[s].titleText_str&&-1!=_.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(_.searchValue)?_.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(_.totalThumbnails=_.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==_.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==_.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[_.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?(this.hasSearchResult_bl=!1,this.showNoSearch()):(this.hasSearchResult_bl=!0,this.hideNoSearch()),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(_.updateCurThumbnails(),_.positionThumbnailsAndMain(),_.centerThumbnails(!0),"loadmoreonscroll"==_.thumbnailLoadingType_str&&_.stageWidth>_.totalWidth&&_.allowToLoadMoreThumbnails()&&_.loadMore()),"loadmorewithbutton"==_.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==_.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==_.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)):(_.isLoadingMore_bl=!1,"loadmoreonscroll"==_.thumbnailLoadingType_str&&_.stageWidth>_.totalWidth&&_.allowToLoadMoreThumbnails()&&_.loadMore()),"loadmorewithbutton"==_.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.setDataForResize=function(){if(this.stageWidth){this.totalRows=Math.ceil((this.stageHeight-2*this.thumbsVOffset+this.thumbsVSpace)/(this.thumbnailMaxHeight+2*this.borderSize+this.thumbsVSpace)),this.thumbHeight=Math.floor((this.stageHeight-2*this.thumbsVOffset+this.thumbsVSpace-this.totalRows*(this.thumbsVSpace+2*this.borderSize))/this.totalRows);var t=this.totalRows*(this.thumbHeight+2*this.borderSize+this.thumbsVSpace)-this.thumbsVSpace;this.leftHeight=this.stageHeight-2*this.thumbsVOffset-t,this.prevStageWidth=this.stageWidth}},this.positionThumbnailsAndMain=function(){this.positionThumbnails(),this.positionLoadMoreButton(),this.totalWidth+=this.offsetTotalWidth},this.positionThumbnails=function(){for(var t,e,i,s,o,a,n,r=0,l=[],d=[],h=[],u=0;u<_.totalRows;u++)d[u]=_.thumbHeight+2*_.borderSize,0<_.leftHeight&&u<_.leftHeight&&d[u]++,h[u]=0==u?_.thumbsVOffset:h[u-1]+d[u-1]+_.thumbsVSpace;for(u=0;u<_.totalLoadedThumbnails;u++){if(o=_.playlist_ar[u].thumbnail,_.thumbWidth=Math.floor(o.imageOriginalW*(this.thumbHeight/this.thumbnailMaxHeight)),i=_.thumbWidth+2*_.borderSize,u<_.totalRows)s=d[u],e=h[u],t=_.thumbsHOffset,l[u]=t+i;else{a=l[0],n=0;for(var c=1;c<_.totalRows;c++)l[c]<a&&(a=l[c],n=c);s=d[n],e=h[n],t=l[n]+_.thumbsHSpace,l[n]=t+i}r<t+i&&(r=t+i),o.finalW=i,o.finalH=s,o.finalX=t,o.finalY=e,o.resizeAndPosition()}_.totalWidth=o?r+_.thumbsHOffset:0},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){_.noSearch_do.w=_.noSearch_do.getWidth(),_.noSearch_do.h=_.noSearch_do.getHeight(),_.removeChild(_.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){_.removeChild(_.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),o.menu_do.isShowed_bl&&this.centerNoSearchFoundLabelWithMenu_bl?this.noSearch_do.setY(parseInt((this.stageHeight-o.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.stageHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),_.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.thumbnailsHolder_do.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){_.hideLoadMoreButton(),_.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){_.allowToLoadMoreThumbnails()?_.showLoadMoreButton():_.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(this.totalWidth+this.loadMoreButtonOffsetLeft),this.loadMoreButton_do.setY(parseInt((this.stageHeight-this.loadMoreButton_do.h)/2))):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt(this.totalWidth+this.loadMoreButtonOffsetLeft),y:parseInt((this.stageHeight-this.loadMoreButton_do.h)/2)}),this.offsetTotalWidth=this.loadMoreButtonOffsetLeft+this.loadMoreButtonOffsetRight+this.loadMoreButton_do.w):this.offsetTotalWidth=0},this.centerThumbnails=function(t){_.currentThumbnailsFinalX=_.thumbnailsFinalX,_.isMobileScrollBarRunning_bl||_.isDragging_bl||(_.stageWidth>=_.totalWidth?_.thumbnailsFinalX=Math.round((_.stageWidth-_.totalWidth)/2):0<_.thumbnailsFinalX?_.thumbnailsFinalX=0:_.thumbnailsFinalX<_.stageWidth-_.totalWidth&&(_.isLoadingMore_bl||(_.thumbnailsFinalX=_.stageWidth-_.totalWidth)),FWDAnimation.killTweensOf(_.thumbnailsHolder_do),t?FWDAnimation.to(_.thumbnailsHolder_do,.3,{x:_.thumbnailsFinalX}):_.thumbnailsHolder_do.setX(_.thumbnailsFinalX))},_.addMouseWheelSupport=function(){_.screen.addEventListener?(_.screen.addEventListener("mousewheel",_.mouseWheelDragHandler),_.screen.addEventListener("DOMMouseScroll",_.mouseWheelDragHandler)):_.screen.attachEvent&&_.screen.attachEvent("onmousewheel",_.mouseWheelDragHandler)},_.removeMouseWheelSupport=function(){_.screen.removeEventListener?(_.screen.removeEventListener("mousewheel",_.mouseWheelDragHandler),_.screen.removeEventListener("DOMMouseScroll",_.mouseWheelDragHandler)):_.screen.detachEvent&&_.screen.detachEvent("onmousewheel",_.mouseWheelDragHandler)},_.mouseWheelDragHandler=function(t){if(!(_.totalWidth<=_.stageWidth||_.isDragging_bl)){var e=t.detail||t.wheelDelta;if(t.wheelDelta&&(e*=-1),0<e?_.vx-=10:e<0&&(_.vx+=10),_.isMobileScrollBarRunning_bl||_.activateDragScrollBar(),!t.preventDefault)return!1;t.preventDefault()}},this.setupDragScrollbar=function(){_.isMobile_bl?_.hasPointerEvent_bl?_.screen.addEventListener("MSPointerDown",_.mobileScrBarStartHandler):_.screen.addEventListener("touchstart",_.mobileScrBarStartTest):_.screen.addEventListener?_.screen.addEventListener("mousedown",_.mobileScrBarStartHandler):_.screen.attachEvent&&_.screen.attachEvent("onmousedown",_.mobileScrBarStartHandler)},this.mobileScrBarStartTest=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);_.lastPressedX=e.screenX,_.lastPressedY=e.screenY,n.addEventListener("touchmove",_.mobileScrBarMoveTest)},this.mobileScrBarMoveTest=function(t){if(1==t.touches.length){var e=FWDRLUtils.getViewportMouseCoordinates(t);_.mouseX=e.screenX,_.mouseY=e.screenY;var i=Math.atan2(_.mouseY-_.lastPressedY,_.mouseX-_.lastPressedX),s=180*Math.abs(i)/Math.PI;120<s||s<60||o.isFullScreen_bl?(t.preventDefault(),_.mobileScrBarStartHandler(t),n.removeEventListener("touchmove",_.mobileScrBarMoveTest)):(_.disableThumbClick_bl=!0,n.addEventListener("touchend",_.mobileScrBarEndTest))}},this.mobileScrBarEndTest=function(t){n.removeEventListener("touchmove",_.mobileScrBarMoveTest),n.removeEventListener("touchend",_.mobileScrBarEndTest)},this.mobileScrBarStartHandler=function(t){if(!(_.stageWidth>_.totalWidth)){t.preventDefault&&t.preventDefault();var e=FWDRLUtils.getViewportMouseCoordinates(t);_.stageWidth<_.totalWidth&&(_.isDragging_bl=!0,_.lastPressedX=e.screenX,_.setOnceDumySizeOnMove_bl=!0,_.vx=0,_.thumbnailsFinalX=_.thumbnailsHolder_do.getX(),clearTimeout(_.disableThumbClickDelayId_to),_.activateDragScrollBar()),_.isMobile_bl?_.hasPointerEvent_bl?(n.addEventListener("MSPointerUp",_.mobileScrBarEndHandler),n.addEventListener("MSPointerMove",_.mobileScrBarMoveHandler)):(n.addEventListener("touchend",_.mobileScrBarEndHandler),n.addEventListener("touchmove",_.mobileScrBarMoveHandler)):n.addEventListener?(n.addEventListener("mouseup",_.mobileScrBarEndHandler),n.addEventListener("mousemove",_.mobileScrBarMoveHandler)):document.attachEvent&&(document.attachEvent("onmouseup",_.mobileScrBarEndHandler),document.attachEvent("onmousemove",_.mobileScrBarMoveHandler))}},this.mobileScrBarMoveHandler=function(t){if(t.preventDefault&&t.preventDefault(),!(_.stageWidth>_.totalWidth)){var e=FWDRLUtils.getViewportMouseCoordinates(t);if(e.screenX!=_.lastPressedX){var i=e.screenX-_.lastPressedX;_.disableThumbClick_bl=!0,(_.setOnceDumySizeOnMove_bl&&!_.isMobile_bl||_.setOnceDumySizeOnMove_bl&&_.hasPointerEvent_bl)&&(_.dumy_do.setWidth(_.stageWidth),_.dumy_do.setHeight(_.stageHeight),_.curThumbnail_do&&_.curThumbnail_do.hideContent(),_.curSelectedThumbnail_do,_.setOnceDumySizeOnMove_bl=!1),_.thumbnailsFinalX+=i,_.thumbnailsFinalX=Math.round(_.thumbnailsFinalX),!_.ieOldMoveTest_bl&&FWDRLUtils.isIE?(clearInterval(_.ieOldMoveTestId_int),_.ieOldMoveTestId_int=setInterval(_.updateThumbnailsPosition,16),_.ieOldMoveTest_bl=!0):FWDRLUtils.isIE||_.thumbnailsHolder_do.setX(_.thumbnailsFinalX),_.lastPressedX=e.screenX,_.vx=2*i}}},this.updateThumbnailsPosition=function(){_.thumbnailsHolder_do.setX(_.thumbnailsFinalX)},this.mobileScrBarEndHandler=function(t){clearInterval(_.ieOldMoveTestId_int),_.ieOldMoveTest_bl=!1,_.isDragging_bl=!1,_.disableThumbClickDelayId_to=setTimeout(function(){_.disableThumbClick_bl=!1},100),_.isMobile_bl&&!_.hasPointerEvent_bl||(_.dumy_do.setWidth(0),_.dumy_do.setHeight(0)),_.isMobile_bl?_.hasPointerEvent_bl?(n.removeEventListener("MSPointerUp",_.mobileScrBarEndHandler),n.removeEventListener("MSPointerMove",_.mobileScrBarMoveHandler)):(n.removeEventListener("touchend",_.mobileScrBarEndHandler),n.removeEventListener("touchmove",_.mobileScrBarMoveHandler)):n.removeEventListener?(n.removeEventListener("mouseup",_.mobileScrBarEndHandler),n.removeEventListener("mousemove",_.mobileScrBarMoveHandler)):document.detachEvent&&(document.detachEvent("onmouseup",_.mobileScrBarEndHandler),document.detachEvent("onmousemove",_.mobileScrBarMoveHandler))},this.updateMobileScrollBar=function(){_.isDragging_bl||(_.stageWidth<=_.totalWidth&&(_.vx*=_.friction,_.thumbnailsFinalX+=_.vx,0<_.thumbnailsFinalX?(_.vx2=.3*(0-_.thumbnailsFinalX),_.vx*=_.friction,_.thumbnailsFinalX+=_.vx2):_.thumbnailsFinalX<_.stageWidth-_.totalWidth&&(_.vx2=.3*(_.stageWidth-_.totalWidth-_.thumbnailsFinalX),_.vx*=_.friction,_.thumbnailsFinalX+=_.vx2),_.thumbnailsFinalX<_.stageWidth-_.totalWidth&&"loadmoreonscroll"==_.thumbnailLoadingType_str&&!_.isLoadingMore_bl&&_.allowToLoadMoreThumbnails()&&(clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){_.loadMore()},500))),Math.abs(_.vx)<.01&&_.deactivateDragScrollBar(),_.thumbnailsHolder_do.setX(Math.round(_.thumbnailsFinalX))),_.stageWidth>_.totalWidth&&_.deactivateDragScrollBar()},this.activateDragScrollBar=function(){_.stageWidth>_.totalWidth||_.isMobileScrollBarRunning_bl||(_.isMobileScrollBarRunning_bl=!0,FWDAnimation.killTweensOf(_.thumbnailsHolder_do),clearInterval(_.updateMobileScrollBarId_int),_.updateMobileScrollBarId_int=setInterval(_.updateMobileScrollBar,16))},this.deactivateDragScrollBar=function(){_.isMobileScrollBarRunning_bl=!1,_.vx=_.vx2=0,clearInterval(_.updateMobileScrollBarId_int),n.removeEventListener&&n.removeEventListener("touchmove",_.mobileScrBarMoveTest)},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div","relative")},r.OPEN_LIGHTBOX="openLightbox",r.CATEGORY_UPDATE="categoryUpdate",r.ERROR="error",r.prototype=null,n.FWDUGPMasonryHorizontalThumbnailsManager=r}(window),function(n){var r=function(a,t){var _=this;r.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.columnHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetTop=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetBottom=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetX=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftWidth=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.centerWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.hasExtraText_bl=a.hasExtraText_bl,this.isVerticalType_bl=a.isVerticalType_bl,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.setBkColor(t.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==_.thumbnailLoadingType_str?this.setupLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.setupLoadMoreOnScroll(),this.filterCategories(),this.startGetMousePosition(),this.setupNoSearch()},this.resizeAndPosition=function(){_.stageWidth=t.stageWidth,_.setDataForResize(),_.positionThumbnailsAndMain()},this.startGetMousePosition=function(){n.addEventListener?(_.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);_.isMobile_bl||(_.globalX=e.screenX,_.globalY=e.screenY)},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){_.searchValue=t,clearTimeout(_.updateSearch_to),_.updateSearch_to=setTimeout(function(){_.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isVerticalType_bl=a.isVerticalType_bl,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,i.htmlExtraContent_str=this.sourcePlaylist_ar[e].htmlExtraContent_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":_.sourcePlaylist_ar[e].type_str,o=0;o<_.totalOriginalThumbnails;o++)o<i&&(_.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||_.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(_.sourcePlaylist_ar[t.id].thumbnailPath_str,_.sourcePlaylist_ar[t.id].rawDescription_str,_.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(_.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,_.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(_.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,_.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):_.dispatchEvent(r.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(r.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),_.image_img&&(_.image_img.onerror=null,_.image_img.onload=null)},this.startToLoadImage=function(t){_.image_img=new Image,_.image_img.onerror=_.onImageLoadErrorHandler,_.image_img.onload=_.onImageLoadHandler,_.image_img.src=t},this.loadThumbImage=function(){var t;_.stopToLoadImage();for(var e=0;e<_.totalCats;e++)if(_.loadMoreCatsData_ar[e].isSelected&&_.loadMoreCatsData_ar[e].loaded<_.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<_.tempTotalThumbnails&&(_.curDataThumbnail=_.tempPlaylist_ar[e],_.curDataThumbnail.catId!=t||_.curDataThumbnail.thumbnail);e++);_.startToLoadImage(_.sourcePlaylist_ar[_.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+_.sourcePlaylist_ar[_.curDataThumbnail.id].thumbnailPath_str+"</font>";_.dispatchEvent(r.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=_.getThumbnail(_.curDataThumbnail.catId,_.curDataThumbnail.id);_.loadMoreCatsData_ar[_.curDataThumbnail.catId].loaded++,_.curDataThumbnail.thumbnail=e,(_.originalDataThumbnails_ar[_.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=_.image_img.width,e.originalHeight=_.image_img.height,e.addImage(_.image_img),_.countLoadedThumbs++,_.isFirstThumbnailLoaded_bl||setTimeout(function(){_.firstThumbnailShowed_bl=!0},200),_.updateCurThumbnails(),_.positionThumbnailsAndMain()},this.updateCatsLimits=function(){var t=_.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=_.thumbnailsPerSet,e=0;0<t&&e<_.totalCats;)_.loadMoreCatsData_ar[e].isSelected&&(_.loadMoreCatsData_ar[e].limit+t>_.loadMoreCatsData_ar[e].total?(t-=_.loadMoreCatsData_ar[e].total-_.loadMoreCatsData_ar[e].limit,_.loadMoreCatsData_ar[e].limit=_.loadMoreCatsData_ar[e].total):(_.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);_.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];_.loadMoreCatsData_ar=[];for(var o=0;o<_.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<_.totalThumbnails;o++)i[(t=_.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<_.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,_.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],_.stopToLoadImage();for(var s=0;s<_.sourcePlaylist_ar.length;s++)t=_.originalDataThumbnails_ar[s],_.sourcePlaylist_ar[s].titleText_str&&-1!=_.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(_.searchValue)?_.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(_.totalThumbnails=_.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==_.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==_.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[_.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?(this.hasSearchResult_bl=!1,this.showNoSearch()):(this.hasSearchResult_bl=!0,this.hideNoSearch()),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(_.updateCurThumbnails(),_.positionThumbnailsAndMain()),"loadmorewithbutton"==_.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==_.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==_.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.hasExtraText_bl?this.loadThumbnailId_to=setTimeout(this.loadThumbImage,53):this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)):this.hasExtraText_bl&&(_.positionThumbnailWithExtraContent(),_.setFinalSize()),"loadmorewithbutton"==_.thumbnailLoadingType_str?this.hideOrShowLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.loadInfinite()},this.setDataForResize=function(t){if(this.stageWidth){this.totalColumns=Math.ceil((this.stageWidth-2*this.thumbsHOffset+this.thumbsHSpace)/(this.thumbnailMaxWidth+2*this.borderSize+this.thumbsHSpace)),this.thumbWidth=Math.floor((this.stageWidth-2*this.thumbsHOffset+this.thumbsHSpace-this.totalColumns*(this.thumbsHSpace+2*this.borderSize))/this.totalColumns);var e=this.totalColumns*(this.thumbWidth+2*this.borderSize+this.thumbsHSpace)-this.thumbsHSpace;this.leftWidth=this.stageWidth-2*this.thumbsHOffset-e,this.prevStageWidth=this.stageWidth}},this.positionThumbnailsAndMain=function(){this.hasExtraText_bl?(_.setThumbsExtraTextWidth(),clearTimeout(this.resizeWithExtraContentId_to),this.resizeWithExtraContentId_to=setTimeout(function(){_.positionThumbnailWithExtraContent(),_.setFinalSize()},51)):(this.positionThumbnails(),this.setFinalSize())},this.setFinalSize=function(){_.positionLoadMoreButton(),_.totalHeight+=_.offsetTotalHeight,_.setWidth(_.stageWidth),_.hasSearchResult_bl||(_.totalHeight=_.thumbHeight,_.positionNoSearchLabel()),_.prevTotalHeight!=_.totalHeight&&(_.firstThumbnailShowed_bl&&_.animateParent_bl&&!_.isMobile_bl?(FWDAnimation.to(_,.7,{h:_.totalHeight,ease:Quart.easeOut}),clearTimeout(_.arangeFaterTweenId_to),_.arangeFaterTweenId_to=setTimeout(function(){_.stageWidth!=t.stageContainer.offsetWidth&&t.onResizeHandler()},700)):_.setHeight(_.totalHeight)),t.setFinalSize(),t.stageWidth=t.stageContainer.offsetWidth,_.prevTotalHeight=_.totalHeight,_.stageWidth!=t.stageWidth&&t.onResizeHandler()},this.positionThumbnails=function(){for(var t,e,i,s,o,a,n,r=0,l=[],d=[],h=[],u=0;u<_.totalColumns;u++)d[u]=_.thumbWidth+2*_.borderSize,0<_.leftWidth&&u<_.leftWidth&&d[u]++,h[u]=0==u?_.thumbsHOffset:h[u-1]+d[u-1]+_.thumbsHSpace;for(u=0;u<_.totalLoadedThumbnails;u++){if(o=_.playlist_ar[u].thumbnail,_.thumbHeight=Math.floor(o.imageOriginalH*(this.thumbWidth/this.thumbnailMaxWidth)),s=_.thumbHeight+2*_.borderSize,u<_.totalColumns)i=d[u],t=h[u],e=_.thumbsVOffset,l[u]=e+s;else{a=l[0],n=0;for(var c=1;c<_.totalColumns;c++)l[c]<a&&(a=l[c],n=c);i=d[n],t=h[n],e=l[n]+_.thumbsVSpace,l[n]=e+s}r<e+s&&(r=e+s),o.finalW=i,o.finalH=s,o.finalX=t,o.finalY=e,o.resizeAndPosition()}_.totalHeight=o?r+_.thumbsVOffset:0},this.setThumbsExtraTextWidth=function(){for(var t,e,i,s,o,a,n=[],r=[],l=0;l<_.totalColumns;l++)r[l]=_.thumbWidth+2*_.borderSize,0<_.leftWidth&&l<_.leftWidth&&r[l]++;for(l=0;l<_.totalLoadedThumbnails;l++){if(s=_.playlist_ar[l].thumbnail,_.thumbHeight=Math.floor(s.imageOriginalH*(this.thumbWidth/this.thumbnailMaxWidth)),i=_.thumbHeight+2*_.borderSize+s.addToHeight,l<_.totalColumns)e=r[l],t=_.thumbsVOffset,n[l]=t+i;else{o=n[0],a=0;for(var d=1;d<_.totalColumns;d++)n[d]<o&&(o=n[d],a=d);e=r[a],t=n[a]+_.thumbsVSpace,n[a]=t+i}s.hasExtraText_bl&&s.textHolder_do.setWidth(e-2*_.borderSize)}},this.positionThumbnailWithExtraContent=function(){for(var t,e,i,s,o,a,n,r=0,l=[],d=[],h=[],u=0;u<_.totalColumns;u++)d[u]=_.thumbWidth+2*_.borderSize,0<_.leftWidth&&u<_.leftWidth&&d[u]++,h[u]=0==u?_.thumbsHOffset:h[u-1]+d[u-1]+_.thumbsHSpace;for(u=0;u<_.totalLoadedThumbnails;u++){if((o=_.playlist_ar[u].thumbnail).hasExtraText_bl&&(o.addToHeight=o.text3_do.getHeight()),_.thumbHeight=Math.floor(o.imageOriginalH*(this.thumbWidth/this.thumbnailMaxWidth)),s=_.thumbHeight+2*_.borderSize+o.addToHeight,u<_.totalColumns)i=d[u],t=h[u],e=_.thumbsVOffset,l[u]=e+s;else{a=l[0],n=0;for(var c=1;c<_.totalColumns;c++)l[c]<a&&(a=l[c],n=c);i=d[n],t=h[n],e=l[n]+_.thumbsVSpace,l[n]=e+s}r<e+s&&(r=e+s),o.finalW=i,o.finalH=s,o.finalX=t,o.finalY=e,o.resizeAndPosition()}_.totalHeight=o?r+_.thumbsVOffset:0},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){_.noSearch_do.w=_.noSearch_do.getWidth(),_.noSearch_do.h=_.noSearch_do.getHeight(),_.removeChild(_.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){_.removeChild(_.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),t.menu_do.isShowed_bl&&this.centerWithMenu_bl?this.noSearch_do.setY(parseInt((this.totalHeight-t.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.totalHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),_.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){_.hideLoadMoreButton(),_.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){_.allowToLoadMoreThumbnails()?_.showLoadMoreButton():_.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(parseInt((this.stageWidth-this.loadMoreButton_do.w)/2)),this.loadMoreButton_do.setY(this.totalHeight+this.loadMoreButtonOffsetTop)):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt((this.stageWidth-this.loadMoreButton_do.w)/2),y:parseInt(this.totalHeight+this.loadMoreButtonOffsetTop)}),this.offsetTotalHeight=this.loadMoreButtonOffsetTop+this.loadMoreButtonOffsetBottom+this.loadMoreButton_do.h):this.offsetTotalHeight=0},this.setupLoadMoreOnScroll=function(){n.addEventListener?n.addEventListener("scroll",this.onScrollHandler):n.attachEvent&&n.attachEvent("onscroll",this.onScrollHandler)},this.onScrollHandler=function(){_.loadInfinite(),_.totalLoadedThumbnails==_.totalThumbnails&&(n.removeEventListener?n.removeEventListener("scroll",this.onScrollHandler):n.detachEvent&&n.detachEvent("onscroll",this.onScrollHandler))},this.loadInfinite=function(){if(this.allowToLoadMoreThumbnails()){var t=this.playlist_ar[this.playlist_ar.length-1].thumbnail;clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){t.getGlobalY()+t.finalH<FWDRLUtils.getViewportSize().h&&_.loadMore()},500)}},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div","relative")},r.OPEN_LIGHTBOX="openLightbox",r.CATEGORY_UPDATE="categoryUpdate",r.ERROR="error",r.prototype=null,n.FWDUGPMasonryVerticalThumbnailsManager=r}(window),function(t){var o=function(i,s){var f=this;o.prototype;this.categories_ar=i.categories_ar,this.buttons_ar=[],this.buttonsOriginal_ar=[],this.spacers_ar=[],this.catId_ar=i.startAtCategory_ar,this.catsLength_ar=i.catsLength_ar,this.allCategoriesButton_do,this.buttonsHolder_do,this.searchButton_do,this.searchLabel_str=i.searchLabel_str,this.comboboxSelectorLabel_str=i.comboboxSelectorLabel_str,this.menuPosition_str=i.menuPosition_str,this.menuBackgroundClass_str=i.menuBackgroundClass_str,this.menuButtonSpacerColor_str=i.menuButtonSpacerColor_str,this.menuButtonsSpacersClassName_str=i.menuButtonsSpacersClassName_str,this.menuType_str=i.menuType_str,this.comboboxArrowNormalColor_str=i.comboboxArrowNormalColor_str,this.comboboxArrowSelectedColor_str=i.comboboxArrowSelectedColor_str,this.menuButtonSpacerWidth=i.menuButtonSpacerWidth,this.menuButtonSpacerHeight=i.menuButtonSpacerHeight,this.curId=this.catId_ar[0],this.menuItemBorderSize=0,this.menuButtonsSapcerLeftAndRight=i.menuButtonsSapcerLeftAndRight,this.menuMaxWidth=i.menuMaxWidth,this.menuOffsetTop=i.menuOffsetTop,this.menuOffsetBottom=i.menuOffsetBottom,this.horizontalSpaceBetweenMenuButtons=i.horizontalSpaceBetweenMenuButtons,this.verticalSpaceBetweenMenuButtons=i.verticalSpaceBetweenMenuButtons,this.totalButtons=f.categories_ar.length,this.selectorOriginalWidth=0,this.stageWidth=0,this.stageHeight=0,this.isComboboxShowed_bl=!1,this.showTotalThumbnailsPerCategory_bl=i.showTotalThumbnailsPerCategory_bl,this.showAllCategories_bl=i.showAllCategories_bl,this.showAllCategories2_bl=!1,this.multipleCategorySelection_bl=i.multipleCategorySelection_bl,this.showMenuButtonsSpacers_bl=i.showMenuButtonsSpacers_bl,this.isShowed_bl=i.showMenu_bl,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.showSearchButton_bl=i.showSearchButton_bl,this.init=function(){this.getStyle().backgroundColor="",this.screen.className=this.menuBackgroundClass_str,"undefined"!=FWDIGP&&this.setupSearch(),FWDIGP&&(this.showSearchButton_bl=!1),this.setupButtons(),this.setButtonsLabels(this.showTotalThumbnailsPerCategory_bl),this.setButtons(this.catId_ar[0]),this.setupSpacers(),this.setupCombobox(),this.updateMenuStyle(),this.setAlpha(0),setTimeout(function(){f.resizeAndPosition(),FWDIGP?FWDAnimation.to(f,.8,{alpha:1,delay:.3,ease:Expo.easeOut}):FWDAnimation.to(f,.8,{alpha:1,ease:Expo.easeOut})},80)},this.resizeAndPosition=function(){f.stageWidth=s.stageWidth,f.isShowed_bl&&0!=f.stageWidth&&(f.positionButtons(),f.setWidth(f.stageWidth),f.setHeight(f.stageHeight))},this.setupCombobox=function(){this.mainButtonsHolder_do=new FWDRLDisplayObject("div"),this.buttonsHolder_do=new FWDRLDisplayObject("div"),this.buttonsHolder_do.setX(-1e3),this.arrow_do=new FWDRLTransformDisplayObject("div"),this.arrow_do.setOverflow("visible"),this.arrow_do.setDisplay("inline-block"),this.arrow_do.getStyle().fontSmoothing="antialiased",this.arrow_do.getStyle().webkitFontSmoothing="antialiased",this.arrow_do.getStyle().textRendering="optimizeLegibility",this.arrow_do.getStyle().whiteSpace="nowrap",this.arrow_do.setBackfaceVisibility(),this.arrow_do.getStyle().padding="",this.arrow_do.getStyle().margin="",this.arrow_do.getStyle().borderRight="1px solid",this.arrow_do.getStyle().borderBottom="1px solid",this.arrow_do.setWidth(10),this.arrow_do.setHeight(10),this.arrow_do.getStyle().borderColor=this.comboboxArrowNormalColor_str,FWDUGPMenuButton.setPrototype(),this.selector_do=new FWDUGPMenuButton("NOT DEFINED",i.comboboxSelectorBackgroundNormalClassName_str,i.comboboxSelectorBackgroundSelectedClassName_str,i.comboboxSelectorTextNormalClassName_str,i.comboboxSelectorTextSeectedClassName_str,10),this.selector_do.addListener(FWDUGPMenuButton.MOUSE_OVER,f.selectorOverHandler),this.selector_do.addListener(FWDUGPMenuButton.MOUSE_OUT,f.selectorOutHandler),FWDRLUtils.isIEAndLessThen9||this.selector_do.addChild(this.arrow_do),this.selector_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.openCombobox),this.selector_do.setLabel(f.comboboxSelectorLabel_str),this.selector_do.setSize(),setTimeout(function(){f.selector_do.getStyle().width=f.selector_do.getWidth()+40+"px",f.selectorOriginalWidth=f.selector_do.getWidth(),f.arrow_do.setRotation(-135),f.arrow_do.setY(parseInt(f.selector_do.h-f.arrow_do.h)/2+3-f.menuItemBorderSize)},60),this.addChild(this.mainButtonsHolder_do),this.mainButtonsHolder_do.addChild(this.buttonsHolder_do),this.mainButtonsHolder_do.addChild(this.selector_do)},this.selectorOverHandler=function(){FWDAnimation.to(f.arrow_do.screen,.8,{borderColor:f.comboboxArrowSelectedColor_str,ease:Expo.easeOut})},this.selectorOutHandler=function(){FWDAnimation.to(f.arrow_do.screen,.8,{borderColor:f.comboboxArrowNormalColor_str,ease:Expo.easeOut})},this.openCombobox=function(){f.isComboboxShowed_bl||(f.isComboboxShowed_bl=!0,0==s.zIndex?f.getStyle().zIndex=1:f.getStyle().zIndex=s.zIndex+1,f.selector_do.isSelected_bl=f.selector_do.isDisabled_bl=!0,f.buttonsHolder_do.setX(0),f.buttonsHolder_do.setY(-f.buttonsHolder_do.h+f.selector_do.h),f.mainButtonsHolder_do.setHeight(f.buttonsHolder_do.h+f.mainButtonsHolder_do.h),FWDAnimation.to(f.buttonsHolder_do,.8,{y:f.selector_do.h,ease:Expo.easeInOut}),FWDAnimation.to(f.arrow_do,.8,{rotation:45,y:parseInt(f.selector_do.h-f.arrow_do.h)/2-3-f.menuItemBorderSize,ease:Expo.easeInOut}),f.startToCheckMenuHit())},this.closeComboBox=function(){FWDAnimation.isTweening(f.mainButtonsHolder_do)||(f.selector_do.isSelected_bl=f.selector_do.isDisabled_bl=!1,f.selector_do.setNormalState(!0),FWDAnimation.to(f.buttonsHolder_do,.8,{y:-f.buttonsHolder_do.h+f.selector_do.h,ease:Expo.easeInOut}),FWDAnimation.to(f.mainButtonsHolder_do,.8,{h:f.selector_do.h,ease:Expo.easeInOut,onComplete:function(){f.isComboboxShowed_bl=!1}}),FWDAnimation.to(f.arrow_do,.8,{rotation:-135,y:parseInt(f.selector_do.h-f.arrow_do.h)/2+3-f.menuItemBorderSize,ease:Expo.easeInOut}),FWDAnimation.to(f.arrow_do.screen,.8,{borderColor:f.comboboxArrowNormalColor_str,ease:Expo.easeOut,onComplete:function(){f.buttonsHolder_do.setX(-1e3),f.getStyle().zIndex="auto"}}))},this.startToCheckMenuHit=function(){this.isCheckHitAdded_bl||(this.isCheckHitAdded_bl=!0,f.isMobile_bl?setTimeout(function(){FWDRLUtils.isIOS?f.hitThhumbnailId_to=t.addEventListener("touchstart",f.checkThumbnailHit):f.hitThhumbnailId_to=t.addEventListener("click",f.checkThumbnailHit)},50):t.addEventListener?(t.addEventListener("mousemove",f.checkThumbnailHit),t.addEventListener("mousedown",f.chechThumbnailsOnClick)):(document.attachEvent("onmousemove",f.checkThumbnailHit),document.attachEvent("onmousedown",f.chechThumbnailsOnClick)))},this.stopToCheckMenuHit=function(){f.isCheckHitAdded_bl&&(f.isCheckHitAdded_bl=!1,f.isMobile_bl?FWDRLUtils.isIOS?f.hitThhumbnailId_to=t.removeEventListener("touchstart",f.checkThumbnailHit):f.hitThhumbnailId_to=t.removeEventListener("click",f.checkThumbnailHit):t.removeEventListener?(t.removeEventListener("mousemove",f.checkThumbnailHit),t.removeEventListener("mousedown",f.chechThumbnailsOnClick)):(document.detachEvent("onmousemove",f.checkThumbnailHit),document.detachEvent("onmousedown",f.chechThumbnailsOnClick)),clearTimeout(f.hitThhumbnailId_to))},this.chechThumbnailsOnClick=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);FWDRLUtils.hitTest(f.mainButtonsHolder_do.screen,e.screenX,e.screenY)||(clearTimeout(f.hideComoboboxWithDelayId_to),f.stopToCheckMenuHit(),f.closeComboBox())},this.checkThumbnailHit=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);FWDRLUtils.hitTest(f.mainButtonsHolder_do.screen,e.screenX,e.screenY)?clearTimeout(f.hideComoboboxWithDelayId_to):(clearTimeout(f.hideComoboboxWithDelayId_to),f.hideComoboboxWithDelayId_to=setTimeout(function(){f.stopToCheckMenuHit(),f.closeComboBox()},200))},this.setupSearch=function(){FWDUGPMenuButton.setPrototype(),this.searchButton_do=new FWDUGPMenuButton(this.searchLabel_str,i.searchClassName_str,i.menuButtonBackgroundSelectedClassName_str,i.searchClassName_str,i.menuButtonTextSeectedClassName_str,100),this.addChild(this.searchButton_do),this.searchButton_do.setLabel(this.searchLabel_str),this.searchButton_do.setSize(),this.showSearchButton_bl||this.searchButton_do.setVisible(!1),this.searchButton_do.addListener(o.SEARCH,this.searchHandler)},this.searchHandler=function(t){f.dispatchEvent(o.SEARCH,{searchValue:t.param})},this.setupButtons=function(){for(var t,e=0;e<this.totalButtons;e++)FWDUGPMenuButton.setPrototype(),t=new FWDUGPMenuButton(void 0,i.menuButtonBackgroundNormalClassName_str,i.menuButtonBackgroundSelectedClassName_str,i.menuButtonTextNormalClassName_str,i.menuButtonTextSeectedClassName_str,e),0==e&&(this.allCategoriesButton_do=t),t.addListener(FWDUGPMenuButton.MOUSE_UP,this.buttonOnMouseUpHandler),this.buttons_ar.push(t),this.buttonsOriginal_ar.push(t);this.showSearchButton_bl&&(this.buttons_ar.push(this.searchButton_do),this.buttonsOriginal_ar.push(this.searchButton_do))},this.buttonOnMouseUpHandler=function(t){if(!s.thumbsManager_do||!s.thumbsManager_do.isCategoryChanging_bl)if(t&&(f.setButtons(t.id),f.curId=t.id),FWDIGP){var e=f.showAllCategories2_bl?1:0;f.dispatchEvent(o.MOUSE_UP,{id:t.id+e}),"combobox"==f.menuType_str&&f.closeComboBox()}else f.dispatchEvent(o.MOUSE_UP,{id:f.getIdsArray()})},this.resetButtonsIGP=function(){this.showAllCategories_bl||0!=this.curId||(this.buttons_ar[0].setSelected(),f.dispatchEvent(o.MOUSE_UP,{id:1}));for(var t=0;t<this.buttons_ar.length;t++)button=this.buttons_ar[t],button.id=t;"list"==this.menuType_str?this.addChild(f.buttons_ar[0]):this.buttonsHolder_do.addChild(f.buttons_ar[0])},this.setButtonsLabels=function(t){for(var e,i=0;i<this.buttonsOriginal_ar.length;i++)(e=this.buttonsOriginal_ar[i])!=this.searchButton_do&&(e.w=0,e.getStyle().width="auto"),label_str=t?this.categories_ar[i]+" ("+this.catsLength_ar[i]+")":this.categories_ar[i],e!=this.searchButton_do&&(null!=this.categories_ar[i]&&e.setLabel(label_str),e.setSize())},this.setButtons=function(t){var e=0;if(s=this.buttons_ar[t],this.multipleCategorySelection_bl){this.multipleCategorySelection_bl&&(s.isSelectedFinal_bl?s.setUnselected():s.setSelected());for(var i=0;i<this.totalButtons;i++)(s=this.buttons_ar[i]).isSelectedFinal_bl&&e++,this.showAllCategories_bl&&0==t?0!=i&&s.setUnselected():this.showAllCategories_bl&&0!=t&&this.buttons_ar[0].setUnselected();s=this.buttons_ar[t],0==e&&s.setSelected()}else{var s;for(i=0;i<f.totalButtons;i++)s=f.buttons_ar[i],i==t?(s.isSelectedFinal_bl=!0,s.disable()):(s.isSelectedFinal_bl=!1,s.enable())}},this.resetButtonsState=function(){var t,e=!0;if(f.multipleCategorySelection_bl)if(this.showAllCategories_bl){for(i=0;i<f.totalButtons;i++)(t=f.buttons_ar[i]).id=i,t.isDisabled_bl=!0,t.enable(),t.isSelectedFinal_bl&&t.setSelectedState();1==this.catId_ar.length&&0==this.catId_ar[0]&&(this.buttons_ar[1].isSelectedFinal_bl=!1,this.setButtons(1))}else{0==f.catId_ar.length&&(f.catId_ar[0]=[0]);for(i=0;i<f.totalButtons;i++)((t=f.buttons_ar[i]).id=i)==f.catId_ar[i]&&(t.isSelectedFinal_bl=!0,t.isDisabled_bl=!0,t.enable(),t.setSelectedState())}else{f.allCategoriesButton_do.isSelectedFinal_bl&&1==f.buttons_ar[0].id&&(f.buttons_ar[0].isSelectedFinal_bl=!0);for(var i=0;i<f.totalButtons;i++)(t=f.buttons_ar[i]).id=i,t.isSelectedFinal_bl&&e?(t.isDisabled_bl=!1,t.disable(),e=!1):(t.isSelectedFinal_bl=!1,t.isSelected_bl=!1,t.isDisabled_bl=!0,t.enable())}},this.getIdsArray=function(){f.catId_ar=[];for(var t=0;t<f.totalButtons;t++)button=f.buttons_ar[t],(button.isSelectedFinal_bl||button.isDisabled_bl)&&f.catId_ar.push(button.id);return f.catId_ar},this.updateMenuStyle=function(){var t;if("list"==this.menuType_str){for(var e=0;e<this.totalButtons;e++)button=this.buttons_ar[e],this.addChild(button),(t=this.spacers_ar[e]).setHeight(this.menuButtonSpacerHeight),t.setWidth(1),this.addChild(t),e==this.totalButtons-1&&t.setVisible(!1);this.selector_do.setVisible(!1)}else{for(e=0;e<this.totalButtons;e++)button=this.buttons_ar[e],this.buttonsHolder_do.addChild(button),(t=this.spacers_ar[e]).setHeight(1),this.buttonsHolder_do.addChild(t),e==this.totalButtons-1&&t.setVisible(!0);this.selector_do.setVisible(!0)}this.positionButtons(),this.setHeight(this.stageHeight)},this.setButtonsClass=function(t,e,i,s,o,a,n,r,l,d,h,u){var c;this.selectorOriginalWidth=0,this.comboboxArrowNormalColor_str=h,this.comboboxArrowSelectedColor_str=u,this.arrow_do.getStyle().borderColor=this.comboboxArrowNormalColor_str;for(var _=0;_<f.buttonsOriginal_ar.length;_++)(c=f.buttonsOriginal_ar[_])!=this.searchButton_do&&(c.w=0,c.getStyle().width="0px",c.getStyle().width="auto",c.setClass(t,e,i,s),c.setSize()),c==this.searchButton_do&&(c.w=0,this.searchButton_do.getStyle().width="0px",this.searchButton_do.getStyle().width="auto",this.searchButton_do.setClass("","",d,""),this.searchButton_do.setSize());this.selector_do.getStyle().width="auto",this.selector_do.setClass(o,a,n,r),this.selector_do.setSize(),setTimeout(function(){f.selector_do.getStyle().width=f.selector_do.getWidth()+40+"px",f.selectorOriginalWidth=f.selector_do.getWidth(),f.arrow_do.setY(parseInt(f.selector_do.h-f.arrow_do.h)/2+3-f.menuItemBorderSize)},51);for(_=0;_<f.totalButtons;_++)spacer=this.spacers_ar[_],spacer.screen.className=l},this.setupSpacers=function(){for(var t,e=0;e<f.totalButtons;e++)t=new FWDRLDisplayObject("div"),(this.spacers_ar[e]=t).setWidth(this.menuButtonSpacerWidth),t.setHeight(this.menuButtonSpacerHeight),t.getStyle().backgroundColor="",t.screen.className=this.menuButtonsSpacersClassName_str,this.showMenuButtonsSpacers_bl||t.setVisible(!1),f.addChild(t)},this.showOrHideSpacers=function(t){this.showMenuButtonsSpacers_bl=t;for(var e=0;e<f.totalButtons;e++)spacer=this.spacers_ar[e],t?(spacer.setVisible(!0),"list"==this.menuType_str?(spacer.setHeight(this.menuButtonSpacerHeight),spacer.setWidth(1),e==this.totalButtons-1&&spacer.setVisible(!1)):spacer.setHeight(1)):(spacer.setVisible(!1),spacer.setY(-200))},this.showOrHideSearchBox=function(t){(f.showSearchButton_bl=t)?this.searchButton_do.setVisible(!0):this.searchButton_do.setVisible(!1)},this.positionButtons=function(){if(0!=f.stageWidth){var t,e,i=[],s=[],o=f.stageWidth,a=0,n=f.menuOffsetTop,r=0,l=0,d=0,h=0,u=this.selectorOriginalWidth;if(0!=u||"combobox"!=f.menuType_str){if(o>f.menuMaxWidth&&(o=f.menuMaxWidth),"combobox"==f.menuType_str){this.mainButtonsHolder_do.setY(this.menuOffsetTop),r=f.menuOffsetTop,FWDRLUtils.isIEAndLessThen9||(f.menuItemBorderSize=getComputedStyle(f.buttons_ar[0].screen,null).getPropertyValue("border-left-width")||"0",f.menuItemBorderSize=parseInt(f.menuItemBorderSize.replace("px","")));for(var c=0;c<f.totalButtons;c++)(t=f.buttons_ar[c]).w>=u&&(u=t.w);for(c=0;c<f.totalButtons;c++)t=f.buttons_ar[c],this.showMenuButtonsSpacers_bl?(spacer=f.spacers_ar[c],spacer.setX(0),spacer.setWidth(u),spacer.setY(c*(spacer.h+t.h)),t.setY(c*(spacer.h+t.h)+spacer.h)):t.setY(c*t.h),t.setX(0),35<u&&t.setWidth(u-2*f.menuItemBorderSize);this.selectorOriginalWidth<u+10&&this.selector_do.setWidth(u-2*f.menuItemBorderSize),this.buttonsHolder_do.setWidth(u),this.buttonsHolder_do.setHeight(t.y+t.h),this.mainButtonsHolder_do.setWidth(u),this.mainButtonsHolder_do.setHeight(t.h),this.arrow_do.setX(u-23-2*f.menuItemBorderSize),this.arrow_do.setY(parseInt(f.selector_do.h-this.arrow_do.h)/2+3-this.menuItemBorderSize),"center"==f.menuPosition_str?f.showSearchButton_bl?f.searchButton_do.w+u+2*f.menuButtonsSapcerLeftAndRight+f.horizontalSpaceBetweenMenuButtons<f.stageWidth?(f.mainButtonsHolder_do.setX(parseInt(f.stageWidth-(f.searchButton_do.w+u+f.horizontalSpaceBetweenMenuButtons))/2),f.searchButton_do.setX(f.mainButtonsHolder_do.x+u+f.horizontalSpaceBetweenMenuButtons),f.searchButton_do.setY(f.menuOffsetTop)):(f.mainButtonsHolder_do.setX(parseInt(f.stageWidth-u)/2),f.searchButton_do.setX(parseInt(f.stageWidth-f.searchButton_do.w)/2),f.searchButton_do.setY(f.menuOffsetTop+t.h+f.verticalSpaceBetweenMenuButtons),r=f.searchButton_do.y):f.mainButtonsHolder_do.setX(parseInt(f.stageWidth-u)/2):"left"==f.menuPosition_str?(f.mainButtonsHolder_do.setX(Math.max(f.menuButtonsSapcerLeftAndRight,parseInt(f.stageWidth-f.menuMaxWidth)/2)),f.showSearchButton_bl&&(f.searchButton_do.w+u+2*f.menuButtonsSapcerLeftAndRight+f.horizontalSpaceBetweenMenuButtons<f.stageWidth?(f.searchButton_do.setX(f.stageWidth-Math.max(f.menuButtonsSapcerLeftAndRight,parseInt((f.stageWidth-f.menuMaxWidth)/2))-f.searchButton_do.w),f.searchButton_do.setY(f.menuOffsetTop)):(f.searchButton_do.setX(f.mainButtonsHolder_do.x),f.searchButton_do.setY(f.menuOffsetTop+t.h+f.verticalSpaceBetweenMenuButtons),r=f.searchButton_do.y))):"right"==f.menuPosition_str&&(f.mainButtonsHolder_do.setX(Math.min(f.stageWidth-f.menuButtonsSapcerLeftAndRight-u,parseInt(f.stageWidth/2+f.menuMaxWidth/2)-u)),f.showSearchButton_bl&&(f.searchButton_do.w+u+2*f.menuButtonsSapcerLeftAndRight+f.horizontalSpaceBetweenMenuButtons<f.stageWidth?(f.searchButton_do.setX(Math.max(f.menuButtonsSapcerLeftAndRight,parseInt((f.stageWidth-f.menuMaxWidth)/2))),f.searchButton_do.setY(f.menuOffsetTop)):(f.searchButton_do.setX(f.stageWidth-f.menuButtonsSapcerLeftAndRight-f.searchButton_do.w),f.searchButton_do.setY(f.menuOffsetTop+t.h+f.verticalSpaceBetweenMenuButtons),r=f.searchButton_do.y)))}else{i[l]=[0],s[l]=f.buttons_ar[0].w;for(c=0;c<f.totalButtons;c++)(t=f.buttons_ar[c]).getStyle().width="auto";var _=this.showSearchButton_bl?1:0;for(c=1;c<f.totalButtons+_;c++)t=f.buttons_ar[c],s[l]+t.w+f.horizontalSpaceBetweenMenuButtons>o-2*f.menuButtonsSapcerLeftAndRight?(i[++l]=[],i[l].push(c),s[l]=t.w):(i[l].push(c),s[l]+=t.w+f.horizontalSpaceBetweenMenuButtons);f.showSearchButton_bl&&0==l&&"right"==f.menuPosition_str&&(s[0]-=f.buttons_ar[f.totalButtons].w+f.horizontalSpaceBetweenMenuButtons);for(c=0;c<l+1;c++){"center"==f.menuPosition_str?h=Math.max(f.menuButtonsSapcerLeftAndRight,parseInt((f.stageWidth-s[c])/2)):"left"==f.menuPosition_str?h=Math.max(f.menuButtonsSapcerLeftAndRight,parseInt((f.stageWidth-f.menuMaxWidth)/2)):"right"==f.menuPosition_str&&(h=Math.min(parseInt(f.stageWidth-s[c]-(f.stageWidth-f.menuMaxWidth)/2),parseInt(f.stageWidth-s[c]-f.menuButtonsSapcerLeftAndRight))),0<c&&(n+=t.h+f.verticalSpaceBetweenMenuButtons);for(var m=0;m<i[c].length;m++)t=f.buttons_ar[i[c][m]],spacer=f.spacers_ar[d],d++,a=0==m?h:(e=f.buttons_ar[i[c][m]-1]).finalX+e.w+f.horizontalSpaceBetweenMenuButtons,spacer&&f.showMenuButtonsSpacers_bl&&(m==i[c].length-1?spacer.setX(-1e3):(spacer.setX(parseInt(a+t.w+(f.horizontalSpaceBetweenMenuButtons-spacer.w)/2)),spacer.setY(parseInt(n+(t.h-spacer.h)/2)))),t.finalX=a,t.finalY=n,r<t.finalY&&(r=t.finalY),t.setX(t.finalX),t.setY(t.finalY)}if(f.showSearchButton_bl&&0==l)if("left"==f.menuPosition_str)(t=f.buttons_ar[f.totalButtons]).setX(f.stageWidth-h-t.w);else if("right"==f.menuPosition_str){t=f.buttons_ar[f.totalButtons];var b=Math.max(f.menuButtonsSapcerLeftAndRight,parseInt((f.stageWidth-f.menuMaxWidth)/2));t.setX(b)}}f.stageHeight=r+f.buttons_ar[0].h+f.menuOffsetBottom}}},this.init()};o.setPrototype=function(){o.prototype=new FWDRLDisplayObject("div","relative","visible")},o.MOUSE_OVER="onMouseOver",o.MOUSE_OUT="onMouseOut",o.MOUSE_UP="onMouseDown",o.RIGHT="right",o.LEFT="left",o.BOTTOM="bottom",o.TOP="top",o.prototype=null,t.FWDUGPMenu=o}(window),function(t){var r=function(t,e,i,s,o,a){var n=this;r.prototype;this.text_str=t,this.menuButtonBackgroundNormalClassName_str=e,this.menuButtonBackgroundSelectedClassName_str=i,this.menuButtonTextNormalClassName_str=s,this.menuButtonTextSeectedClassName_str=o,this.id=a,this.isDisabled_bl=!0,this.isSelected_bl=!1,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.init=function(){this.setOverflow("visible"),this.getStyle().border="",this.getStyle().backgroundColor="",this.setupDos(),this.setNormalState(!1),this.enable(),this.addEvents(),this.dumy_do.setVisible(!1)},this.setupDos=function(){100==this.id?this.text_do=new FWDRLDisplayObject("input","relative"):this.text_do=new FWDRLDisplayObject("div","relative"),this.text_do.setOverflow("visible"),this.text_do.setDisplay("inline-block"),this.text_do.getStyle().fontSmoothing="antialiased",this.text_do.getStyle().webkitFontSmoothing="antialiased",this.text_do.getStyle().textRendering="optimizeLegibility",this.text_do.getStyle().whiteSpace="nowrap",this.text_do.setBackfaceVisibility(),this.text_do.getStyle().padding="",this.text_do.getStyle().margin="",this.text_do.hasTransform3d_bl=!1,this.text_do.hasTransform2d_bl=!1,this.dumy_do=new FWDRLDisplayObject("div"),this.dumy_do.getStyle().width="100%",this.dumy_do.getStyle().height="100%",FWDRLUtils.isIE&&(this.dumy_do.setBkColor("#00FF00"),this.dumy_do.setAlpha(0)),this.addChild(this.text_do),this.addChild(this.dumy_do),this.setSize()},this.addEvents=function(){100==this.id?n.text_do.screen.addEventListener?(n.text_do.screen.addEventListener("focus",n.inputFocusInHandler),n.text_do.screen.addEventListener("blur",n.inputFocusOutHandler),n.text_do.screen.addEventListener("keyup",n.keyUpHandler)):n.text_do.screen.attachEvent&&(n.text_do.screen.attachEvent("onfocus",n.inputFocusInHandler),n.text_do.screen.attachEvent("onblur",n.inputFocusOutHandler),n.text_do.screen.attachEvent("onkeyup",n.keyUpHandler)):n.isMobile_bl?this.hasPointerEvent_bl?(this.screen.addEventListener("pointerup",this.onMouseUp),this.screen.addEventListener("pointerover",this.onMouseOver),this.screen.addEventListener("pointerout",this.onMouseOut)):this.screen.addEventListener("click",this.onMouseUp):this.screen.addEventListener?(this.screen.addEventListener("mouseover",this.onMouseOver),this.screen.addEventListener("mouseout",this.onMouseOut),this.screen.addEventListener("mouseup",this.onMouseUp)):this.screen.attachEvent&&(this.screen.attachEvent("onmouseover",this.onMouseOver),this.screen.attachEvent("onmouseout",this.onMouseOut),this.screen.attachEvent("onmouseup",this.onMouseUp))},this.onMouseOver=function(t){if(!t.pointerType||"mouse"==t.pointerType){if(n.isDisabled_bl||n.isSelectedFinal_bl)return;n.dispatchEvent(r.MOUSE_OVER,{e:t}),n.setSelectedState(!0)}},this.onMouseOut=function(t){if(!t.pointerType||"mouse"==t.pointerType){if(n.isDisabled_bl||n.isSelectedFinal_bl)return;n.dispatchEvent(r.MOUSE_OUT,{e:t}),n.setNormalState(!0)}},this.onMouseUp=function(t){2==t.button||n.isDisabled_bl||n.dispatchEvent(r.MOUSE_UP,{id:n.id})},this.inputFocusInHandler=function(){n.hasInputFocus_bl||(n.hasInputFocus_bl=!0,n.text_do.screen.value==n.text_str&&(n.text_do.screen.value=""))},this.inputFocusOutHandler=function(t){if(n.hasInputFocus_bl){var e=FWDRLUtils.getViewportMouseCoordinates(t);return FWDRLUtils.hitTest(n.text_do.screen,e.screenX,e.screenY)?void 0:(n.hasInputFocus_bl=!1,void(""==n.text_do.screen.value&&(n.text_do.screen.value=n.text_str)))}},this.keyUpHandler=function(t){var e;t.stopPropagation&&t.stopPropagation(),n.prevInputValue_str!=n.text_do.screen.value&&(e=n.text_do.screen.value.toLowerCase())!=n.text_str&&(n.searchValue=e,clearTimeout(n.updateSearch_to),n.updateSearch_to=setTimeout(function(){n.dispatchEvent(FWDUGPMenu.SEARCH,{param:n.searchValue})},200)),n.prevInputValue_str=n.text_do.screen.value},this.setClass=function(t,e,i,s){FWDAnimation.killTweensOf(this.screen),FWDAnimation.killTweensOf(this.text_do.screen),this.menuButtonBackgroundNormalClassName_str=t,this.menuButtonBackgroundSelectedClassName_str=e,this.menuButtonTextNormalClassName_str=i,this.menuButtonTextSeectedClassName_str=s,100==this.id?this.text_do.screen.className=i:this.isSelected_bl?(this.screen.className=t,this.text_do.screen.className=i):(this.screen.className=e,this.text_do.screen.className=s)},this.setNormalState=function(t){this.isSelected_bl||(this.isSelected_bl=!0,FWDAnimation.killTweensOf(this.screen),FWDAnimation.killTweensOf(this.text_do.screen),100==this.id?this.text_do.screen.className=this.menuButtonTextNormalClassName_str:t?(FWDAnimation.to(this.screen,.8,{className:this.menuButtonBackgroundNormalClassName_str,ease:Expo.easeOut}),FWDAnimation.to(this.text_do.screen,.8,{className:this.menuButtonTextNormalClassName_str,ease:Expo.easeOut})):(this.screen.className=this.menuButtonBackgroundNormalClassName_str,this.text_do.screen.className=this.menuButtonTextNormalClassName_str))},this.setSelectedState=function(t){this.isSelected_bl&&(this.isSelected_bl=!1,FWDAnimation.killTweensOf(this.screen),FWDAnimation.killTweensOf(this.text_do.screen),t?(FWDAnimation.to(this.screen,.8,{className:this.menuButtonBackgroundSelectedClassName_str,ease:Expo.easeOut}),FWDAnimation.to(this.text_do.screen,.8,{className:this.menuButtonTextSeectedClassName_str,ease:Expo.easeOut})):(this.screen.className=this.menuButtonBackgroundSelectedClassName_str,this.text_do.screen.className=this.menuButtonTextSeectedClassName_str))},this.setSelected=function(){this.isSelectedFinal_bl||(this.isSelectedFinal_bl=!0,this.setSelectedState(!0))},this.setUnselected=function(){this.isSelectedFinal_bl&&(this.isSelectedFinal_bl=!1,this.setNormalState(!0))},this.disable=function(){100!=this.id&&(this.isDisabled_bl=!0,this.setButtonMode(!0),this.dumy_do.setButtonMode(!0),this.setSelectedState(!0))},this.enable=function(){100!=this.id&&(this.isDisabled_bl=!1,this.setButtonMode(!0),this.dumy_do.setButtonMode(!0),this.setNormalState(!0))},this.setLabel=function(t){n.text_str=t,100==this.id?this.text_do.screen.value=n.text_str:this.text_do.setInnerHTML(n.text_str)},this.setSize=function(){setTimeout(function(){n.w=n.getWidth(),n.h=n.getHeight()},69)},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div")},FWDUGPMenu.SEARCH="search",r.MOUSE_OVER="onMouseOver",r.MOUSE_OUT="onMouseOut",r.MOUSE_UP="onMouseDown",r.prototype=null,t.FWDUGPMenuButton=r}(window),function(t){var a=function(t,e,i,s){var o=this;this.nImg_img=null,this.sImg_img=null,this.n_do,this.s_do,this.nImgPath_str=t,this.sImgPath_str=e,this.buttonWidth=i,this.buttonHeight=s,this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.isDisabled_bl=!1,this.init=function(){o.setupMainContainers(),o.setWidth(o.buttonWidth),o.setHeight(o.buttonHeight),o.setButtonMode(!0)},this.setupMainContainers=function(){o.n_do=new FWDRLDisplayObject("img"),o.nImg_img=new Image,o.nImg_img.src=o.nImgPath_str,o.nImg_img.width=o.buttonWidth,o.nImg_img.height=o.buttonHeight,o.n_do.setScreen(o.nImg_img),o.s_do=new FWDRLDisplayObject("img"),o.sImg_img=new Image,o.sImg_img.src=o.sImgPath_str,o.sImg_img.width=o.buttonWidth,o.sImg_img.height=o.buttonHeight,o.s_do.setScreen(o.sImg_img),o.addChild(o.s_do),o.addChild(o.n_do),o.screen.onmouseover=o.onMouseOver,o.screen.onmouseout=o.onMouseOut,o.screen.onclick=o.onClick},this.onMouseOver=function(t){o.isMobile_bl||FWDAnimation.to(o.n_do,.9,{alpha:0,ease:Expo.easeOut})},this.onMouseOut=function(t){FWDAnimation.to(o.n_do,.9,{alpha:1,ease:Expo.easeOut})},this.onClick=function(t){o.dispatchEvent(a.CLICK)},o.init()};a.setPrototype=function(){a.prototype=null,a.prototype=new FWDRLTransformDisplayObject("div")},a.CLICK="onClick",a.prototype=null,t.FWDUGPSimpleSizeButton=a}(window),function(e){var i=function(t){var M=this;i.prototype;this.parent=t.parent,this.main_do,this.bk_do,this.border_do,this.imageHolder_do,this.image_do,this.contentHolder_do,this.text1_do,this.overlay_do,this.fakeBorder_do,this.button1_do,this.button2_do,this.icon_do,this.mySplitText,this.textHolder_do,this.presetType_str=t.presetType_str,this.backgroundColor_str=t.backgroundColor_str,this.borderNormalColor_str=t.borderNormalColor_str,this.borderSelectedColor_str=t.borderSelectedColor_str,this.htmlContent1_str=t.htmlContent1_str,this.htmlContent2_str=t.htmlContent2_str,this.htmlExtraContent_str=t.htmlExtraContent_str,this.overlayColor_str=t.thumbnailOverlayColor_str,this.extraButtonUrl_str=t.extraButtonUrl_str,this.extraButtonUrlTarget_str=t.extraButtonUrlTarget_str,this.iconPathN_str=t.thumbIconPathN_str,this.iconPathS_str=t.thumbIconPathS_str,this.linkIconPathN_str=t.linkIconPathN_str,this.linkIconPathS_str=t.linkIconPathS_str,this.hideAndShowTransitionType_str=t.hideAndShowTransitionType_str,this.prevAndShowTransitionType_str,this.textVerticalAlign_str=t.textVerticalAlign_str,this.imageTransitionDirection_str=t.imageTransitionDirection_str,this.thumbanilBoxShadow_str=t.thumbanilBoxShadow_str,this.animStartDir_str="top",this.textAnimType_str=t.textAnimType_str,this.alt_str=t.alt_str,this.linkUrl_str=t.linkUrl_str,this.linkTarget_str=t.linkTarget_str,this.catId=t.catId,this.id=t.id,this.contentOffest=t.contentOffsetY,this.buttonsOffest=t.buttonsOffest,this.borderSize=t.borderSize,this.lastBorderSize=this.borderSize,this.borderRadius=t.borderRadius,this.overlayOpacity=t.thumbnailOverlayOpacity,this.iconW=t.thumbnailIconWidth,this.iconH=t.thumbnailIconHeight,this.spaceBetweenThumbanilIcons=t.spaceBetweenThumbanilIcons,this.spaceBetweenTextAndIcons=t.spaceBetweenTextAndIcons,this.imageOriginalW,this.imageOriginalH,this.tempFinalX=-1,this.tempFinalY=-1,this.finalX=0,this.finalY=0,this.finalW=0,this.finalH=0,this.prevFinalX=0,this.prevFinalY=0,this.prevFinalW=0,this.prevFinalH=0,this.angleY=-180,this.text1H=0,this.text2H=0,this.addToHeight=0,this.finalHOffset=0,this.hOffset=0,this.showOrHideWithDelayId_to,this.isImageAnimCompleteId_to,this.resizeTextContent1Id_to,this.contentHideCompleteId_to,this.contentShowCompleteId_to,this.isVerticalType_bl=t.isVerticalType_bl,this.isCheckHitAdded_bl=!1,this.showIcon_bl=!0,this.hasButtons_bl=t.useIconButtons_bl,this.doNotOverwriteResizeContent_bl=!1,this.disableThumbnails_bl=t.disableThumbnails_bl,this.isImageAnimCompleteId_bl=!1,this.isLightboxDisabled_bl=t.isDisabled_bl,this.imageShowComplete_bl=!1,this.isContentHidden_bl=!0,this.hasImage_bl=!1,this.used_bl=!1,this.firstTimeLoad_bl=!0,this.isImageShowed_bl=!1,this.isFirstTimeShowed_bl=!0,this.isContentShowed_bl=!1,this.isHidden_bl=!1,this.hasExtraText_bl=Boolean(this.htmlExtraContent_str),this.isMobile_bl=FWDRLUtils.isMobile,this.hasPointerEvent_bl=FWDRLUtils.hasPointerEvent,this.init=function(){this.setupMainInstances()},this.setupMainInstances=function(){"3d"==this.presetType_str?(this.main3dContainer_do=new FWDUGPDisplayObject3D("div"),this.main3dContainer_do.setOverflow("visible"),this.setOverflow("visible"),this.main3dContainer_do.setPerspective(1e3),this.main3dContainer_do.setPreserve3D(),!this.isVerticalType_bl||this.isLightboxDisabled_bl||this.disableThumbnails_bl||this.hasButtons_bl||this.main3dContainer_do.setButtonMode(!0),this.main_do=new FWDUGPDisplayObject3D("div"),this.main_do.setBackfaceVisibility(),this.main3dContainer_do.addChild(this.main_do),this.addChild(this.main3dContainer_do)):(this.main_do=new FWDRLDisplayObject("div"),this.addChild(this.main_do)),this.bk_do=new FWDRLDisplayObject("div"),this.bk_do.setBkColor(this.backgroundColor_str),this.border_do=new FWDRLDisplayObject("div"),!FWDRLUtils.hasTransform2d||"scaletext"!=this.presetType_str&&"scaletextinverse"!=this.presetType_str?this.imageHolder_do=new FWDRLDisplayObject("div"):this.imageHolder_do=new FWDRLTransformDisplayObject("div"),this.image_do=new FWDRLDisplayObject("img"),this.isLightboxDisabled_bl||this.disableThumbnails_bl||this.hasButtons_bl||(this.isVerticalType_bl&&this.border_do.setButtonMode(!0),this.isVerticalType_bl&&"curtain"==this.presetType_str&&this.imageHolder_do.setButtonMode(!0)),this.thumbanilBoxShadow_str&&this.setBorderBoxShadow(this.thumbanilBoxShadow_str),this.setupContent(),this.main_do.addChild(this.bk_do),this.main_do.addChild(this.border_do),0!=this.borderSize&&this.setBorderSize(this.borderSize),0!=this.borderRadius&&this.setBorderRadius(this.borderRadius),this.setBorderColor(this.borderNormalColor_str,this.borderSelectedColor_str)},this.addImage=function(t){this.imageOriginalW=t.width,this.imageOriginalH=t.height,this.hasImage_bl=!0,this.image_do.setScreen(t),t.setAttribute("alt",this.alt_str),this.main_do.setAlpha(0),this.addEvents()},this.resizeAndPosition=function(){if(this.finalX!=this.prevFinalX||this.finalY!=this.prevFinalY||this.finalW!=this.prevFinalW||this.finalH!=this.prevFinalH||this.prevBorderSize!=this.borderSize){this.prevBorderSize=this.borderSize,this.prevFinalX=this.finalX,this.prevFinalY=this.finalY,this.prevFinalW=this.finalW,this.prevFinalH=this.finalH,FWDAnimation.killTweensOf(this);var t,e=this.finalW-2*this.borderSize,i=this.finalH-this.addToHeight-2*this.borderSize,s=e/M.imageOriginalW,o=i/M.imageOriginalH;t=o<=s?s:o;var a=parseInt(t*M.imageOriginalW)+1,n=parseInt(t*M.imageOriginalH)+1,r=Math.abs(Math.min(0,FWDUGP.globalY)),l=0<FWDUGP.globalY?FWDUGP.viewportHeight-FWDUGP.globalY:FWDUGP.viewportHeight;this.firstTimeLoad_bl||!M.isImageShowed_bl?(FWDAnimation.killTweensOf(this.image_do),FWDAnimation.killTweensOf(this.imageHolder_do),this.setX(this.finalX),this.setY(this.finalY),this.imageHolder_do.setX(e/2+this.borderSize),this.imageHolder_do.setY(i/2+this.borderSize),this.image_do.setWidth(a),this.image_do.setHeight(n),this.image_do.setX(-a/2),this.image_do.setY(-n/2),FWDAnimation.to(this.main_do,.7,{alpha:1}),FWDAnimation.to(this.imageHolder_do,.7,{x:this.borderSize,y:this.borderSize,w:e,h:i,delay:.2,ease:Quint.easeInOut}),FWDAnimation.to(this.image_do,.7,{x:parseInt((e-a)/2),y:parseInt((i-n)/2),delay:.2,ease:Quint.easeInOut}),this.hasExtraText_bl&&FWDAnimation.to(this.text3_do,.7,{alpha:1,delay:.5}),this.isImageAnimCompleteId_to=setTimeout(function(){M.isImageAnimCompleteId_bl=!0,"media"==M.presetType_str?M.text1_do&&M.text2_do&&(FWDRLUtils.hitTest(M.screen,M.parent.globalX,M.parent.globalY)&&!M.isMobile_bl?("bottom"==M.textVerticalAlign_str?M.text2_do.setY(M.finalH+M.text1H-2*M.borderSize+M.contentOffest):M.text2_do.setY(-M.text1H-M.text2H+M.contentOffest),M.showContent(),M.startToCheckThumbnailHit()):(FWDAnimation.killTweensOf(M.text1_do),"bottom"==M.textVerticalAlign_str?FWDAnimation.to(M.text1_do,.7,{y:M.finalH-M.text1H-2*M.borderSize+M.contentOffest,ease:Expo.easeInOut}):FWDAnimation.to(M.text1_do,.7,{y:M.contentOffest,ease:Expo.easeInOut}))):"media2"==M.presetType_str?FWDRLUtils.hitTest(M.screen,M.parent.globalX,M.parent.globalY)&&!M.isMobile_bl&&(M.isContentShowed_bl=!1,M.showContent(),M.startToCheckThumbnailHit()):"scaletextinverse"==M.presetType_str?FWDRLUtils.hitTest(M.screen,M.parent.globalX,M.parent.globalY)?(M.isContentShowed_bl=!1,M.showContent(),M.startToCheckThumbnailHit()):(M.isContentShowed_bl=!0,M.hideContent(),M.stopToCheckThumbnailHit()):M.isMobile_bl||M.disableThumbnails_bl||FWDRLUtils.hitTest(M.screen,M.parent.globalX,M.parent.globalY)&&(M.showContent(),M.startToCheckThumbnailHit())},800),this.imageHolder_do.addChild(this.image_do),"curtain"==this.presetType_str||"3d"==this.presetType_str?this.main_do.addChild(this.imageHolder_do):this.main_do.addChildAt(this.imageHolder_do,1),this.isImageShowed_bl=!0,this.firstTimeLoad_bl=!1):(this.w==this.finalW&&this.h==this.finalH&&this.finalHOffset==this.hOffset&&this.lastBorderSize==this.borderSize||(FWDAnimation.killTweensOf(this.image_do),FWDAnimation.killTweensOf(this.imageHolder_do),this.imageHolder_do.setX(this.borderSize),this.imageHolder_do.setY(this.borderSize),this.imageHolder_do.setWidth(e),this.imageHolder_do.setHeight(i),this.image_do.setX(parseInt((e-a)/2)),this.image_do.setY(parseInt((i-n)/2))),this.isMobile_bl||this.isHidden_bl||(!(M.finalY+M.finalH>r||M.y+M.finalH>r)||!(M.finalY-r<l||M.y-r<l))&&this.isVerticalType_bl?(this.setX(this.finalX),this.setY(this.finalY)):FWDRLUtils.hasTransform2d?"scale"==this.hideAndShowTransitionType_str?FWDAnimation.to(this,.7,{x:this.finalX,y:this.finalY,scale:1,alpha:1,ease:Quart.easeOut}):"opacity"==this.hideAndShowTransitionType_str?FWDAnimation.to(this,.7,{x:this.finalX,y:this.finalY,alpha:1,ease:Quart.easeOut}):"rotation"==this.hideAndShowTransitionType_str&&FWDAnimation.to(this,.7,{x:this.finalX,y:this.finalY,rotation:0,scale:1,ease:Quart.easeOut}):FWDAnimation.to(this,.7,{x:this.finalX,y:this.finalY,alpha:1,ease:Quart.easeOut}),this.isFirstTimeShowed_bl=!1,"scaletextinverse"!=M.presetType_str&&clearTimeout(this.isImageAnimCompleteId_to),this.isImageAnimCompleteId_bl=!0),this.w==this.finalW&&this.h==this.finalH&&this.finalHOffset==this.hOffset&&this.lastBorderSize==this.borderSize||(this.setWidth(this.finalW),this.setHeight(this.finalH),this.main_do.setWidth(this.finalW),this.main_do.setHeight(this.finalH+this.addToHeight),this.bk_do.setX(this.borderSize),this.bk_do.setY(this.borderSize),this.bk_do.setWidth(e),this.bk_do.setHeight(i+this.addToHeight),this.border_do.setWidth(e),this.border_do.setHeight(i+this.addToHeight),this.main3dContainer_do&&(this.main3dContainer_do.setWidth(this.finalW),this.main3dContainer_do.setHeight(this.finalH)),this.image_do.setWidth(a),this.image_do.setHeight(n),this.hasExtraText_bl&&(this.textHolder_do.setX(this.borderSize),this.textHolder_do.setWidth(this.finalW-2*this.borderSize),this.textHolder_do.setY(this.finalH-this.addToHeight-this.borderSize)),this.stopToCheckThumbnailHit()),"media"!=this.presetType_str&&"media2"!=this.presetType_str&&"scaletextinverse"!=this.presetType_str||this.resizeContent(),this.hOffset=this.finalHOffset,this.lastBorderSize=this.borderSize}},this.setupContent=function(){if("movetext"==this.presetType_str||"preset2"==this.presetType_str||"curtain"==this.presetType_str||"3d"==this.presetType_str||"scaletext"==this.presetType_str||"scaletextinverse"==this.presetType_str||"animtext"==this.presetType_str){if("3d"==this.presetType_str?this.contentHolder_do=new FWDUGPDisplayObject3D("div"):this.contentHolder_do=new FWDRLDisplayObject("div"),this.contentHolder_do.setX(-1e3),this.overlay_do=new FWDRLDisplayObject("div"),this.overlay_do.getStyle().width="100%",this.overlay_do.getStyle().height="100%",this.overlay_do.setBackfaceVisibility(!0),this.setOverlayColor(this.overlayColor_str),this.overlay_do.setAlpha(this.overlayOpacity),"scaletext"!=this.presetType_str&&"scaletextinverse"!=this.presetType_str||!FWDRLUtils.hasTransform2d?this.text1_do=new FWDRLDisplayObject("div"):this.text1_do=new FWDRLTransformDisplayObject("div"),this.text1_do.getStyle().width="100%",this.text1_do.getStyle().fontSmoothing="antialiased",this.text1_do.getStyle().webkitFontSmoothing="antialiased",this.text1_do.getStyle().textRendering="optimizeLegibility",this.text1_do.setY(-500),this.htmlContent1_str&&this.text1_do.setInnerHTML(this.htmlContent1_str),this.contentHolder_do.addChild(this.overlay_do),this.contentHolder_do.addChild(this.text1_do),"curtain"==this.presetType_str)this.fakeBorder_do=new FWDRLDisplayObject("div"),this.fakeBorder_do.setBkColor(this.borderNormalColor_str);else if("preset2"==this.presetType_str)this.isContentHidden_bl=!0,this.contentHolder_do.setX(-1e3);else if("animtext"==this.presetType_str&&(this.isContentHidden_bl=!0,this.contentHolder_do.setX(-1e3),this.overlay_do.setAlpha(0),this.htmlContent1_str)){this.text1_do.screen.setAttribute("id","FWDUGP_at"+M.id);for(var t,e=FWDRLUtils.getChildren(this.text1_do.screen.firstChild),i=0;i<e.length;i++)t=e[i],FWDAnimation.killTweensOf(t),"scale"==this.textAnimType_str||"scalerandom"==this.textAnimType_str?FWDAnimation.to(t,0,{css:{scale:0}}):"largescale"==this.textAnimType_str?FWDAnimation.to(t,0,{css:{opacity:0,scale:3}}):"opacity"==this.textAnimType_str&&FWDAnimation.to(t,0,{css:{opacity:0}})}}else"preset30"==this.presetType_str?(this.contentHolder_do=new FWDRLDisplayObject("div"),this.border_do.setButtonMode(!1),this.hasButtons_bl=!0):"media"==this.presetType_str?(this.contentHolder_do=new FWDRLDisplayObject("div"),!this.isLightboxDisabled_bl&&this.isVerticalType_bl&&this.border_do.setButtonMode(!0),FWDRLUtils.hasTransform2d?(this.text1_do=new FWDRLTransformDisplayObject("div"),this.text2_do=new FWDRLTransformDisplayObject("div")):(this.text1_do=new FWDRLDisplayObject("div"),this.text2_do=new FWDRLDisplayObject("div")),this.htmlContent1_str&&(this.text1_do.setY(-500),this.text1_do.getStyle().width="100%",this.text1_do.getStyle().fontSmoothing="antialiased",this.text1_do.getStyle().webkitFontSmoothing="antialiased",this.text1_do.getStyle().textRendering="optimizeLegibility",this.text1_do.setInnerHTML(this.htmlContent1_str)),this.htmlContent1_str&&this.htmlContent2_str&&(this.text2_do.setY(-500),this.text2_do.getStyle().width="100%",this.text2_do.getStyle().fontSmoothing="antialiased",this.text2_do.getStyle().webkitFontSmoothing="antialiased",this.text2_do.getStyle().textRendering="optimizeLegibility",this.text2_do.setInnerHTML(this.htmlContent2_str)),this.contentHolder_do.addChild(this.text1_do),this.contentHolder_do.addChild(this.text2_do),this.border_do.addChild(this.contentHolder_do)):"media2"==this.presetType_str&&(this.contentHolder_do=new FWDRLDisplayObject("div"),FWDRLUtils.hasTransform2d?this.text1_do=new FWDRLTransformDisplayObject("div"):this.text1_do=new FWDRLDisplayObject("div"),this.htmlContent1_str&&(this.text1_do.setY(-400),this.text1_do.getStyle().width="100%",this.text1_do.getStyle().fontSmoothing="antialiased",this.text1_do.getStyle().webkitFontSmoothing="antialiased",this.text1_do.getStyle().textRendering="optimizeLegibility",this.text1_do.setInnerHTML(this.htmlContent1_str)),this.overlay_do=new FWDRLDisplayObject("div"),this.overlay_do.getStyle().width="100%",this.overlay_do.getStyle().height="100%",this.setOverlayColor(this.overlayColor_str),this.overlay_do.setAlpha(0),this.contentHolder_do.addChild(this.overlay_do),setTimeout(function(){M.contentHolder_do.addChild(M.text1_do)},50));this.hasButtons_bl&&(this.isLightboxDisabled_bl||(FWDUGPSimpleSizeButton.setPrototype(),this.button1_do=new FWDUGPSimpleSizeButton(this.iconPathN_str,this.iconPathS_str,this.iconW,this.iconH),this.button1_do.setX(-200),this.button1_do.addListener(FWDUGPSimpleSizeButton.CLICK,this.btn1ClickHandler),this.extraButtonUrl_str&&(FWDUGPSimpleSizeButton.setPrototype(),this.button2_do=new FWDUGPSimpleSizeButton(this.linkIconPathN_str,this.linkIconPathS_str,this.iconW,this.iconH),this.contentHolder_do.addChild(this.button2_do),this.button2_do.setX(-200),this.button2_do.addListener(FWDUGPSimpleSizeButton.CLICK,this.btn2ClickHandler)),this.contentHolder_do.addChild(this.button1_do))),"scaletextinverse"!=M.presetType_str&&"scaletext"!=M.presetType_str||(this.overlay_do.setAlpha(0),this.text1_do.setAlpha(0)),this.setupExtraText()},this.btn1ClickHandler=function(t){M.dispatchEvent(i.MOUSE_UP,{id:M.id,extraButton:!1})},this.btn2ClickHandler=function(t){M.dispatchEvent(i.MOUSE_UP,{id:M.id,extraButton:!0})},this.resizeContent=function(){var t,e=0,i=0,s=0,o=0;this.contentHolder_do.setWidth(this.finalW-2*this.borderSize),this.contentHolder_do.setHeight(this.finalH-this.addToHeight-2*this.borderSize),clearTimeout(this.resizeTextContent1Id_to),"media"==this.presetType_str&&this.text1_do?this.resizeTextContent1Id_to=setTimeout(function(){M.text1H=M.text1_do.getHeight(),M.text2_do&&(M.text2H=M.text2_do.getHeight()),M.isImageAnimCompleteId_bl?"bottom"==M.textVerticalAlign_str?(e=Math.max(Math.round(M.finalH-M.addToHeight-2*M.borderSize-M.text1H+M.contentOffest),0),i=M.finalH-M.addToHeight-2*M.borderSize+M.contentOffest):(e=M.contentOffest,i=-M.text2H+M.contentOffest):"bottom"==M.textVerticalAlign_str?(e=Math.round(M.finalH-M.addToHeight-2*M.borderSize),i=M.finalH-M.addToHeight-2*M.borderSize+M.contentOffest):(e=-M.text1H+M.contentOffest,i=-M.text2H+M.contentOffest),FWDAnimation.killTweensOf(M.text1_do),M.text1_do.setY(e),M.text2_do&&(FWDAnimation.killTweensOf(M.text2_do),M.text2_do.setY(i))},50):"media2"==this.presetType_str&&this.text1_do?this.resizeTextContent1Id_to=setTimeout(function(){M.text1H=M.text1_do.getHeight(),e="bottom"==M.textVerticalAlign_str?Math.round(M.finalH-M.addToHeight):-M.text1H,FWDAnimation.killTweensOf(M.text1_do),0!=e&&M.text1_do.setY(e)},50):"movetext"!=this.presetType_str&&"preset2"!=this.presetType_str&&"3d"!=this.presetType_str&&"curtain"!=this.presetType_str&&"scaletext"!=this.presetType_str&&"scaletextinverse"!=this.presetType_str&&"animtext"!=this.presetType_str||(this.button1_do&&(o=this.button2_do?this.iconW+this.spaceBetweenThumbanilIcons:0,s=parseInt((this.iconH+this.spaceBetweenTextAndIcons)/2)),this.resizeTextContent1Id_to=setTimeout(function(){t=M.text1_do.getHeight(),M.htmlContent1_str?"center"==M.textVerticalAlign_str?M.text1Y=Math.max(Math.round((M.finalH-M.addToHeight-2*M.borderSize-t)/2)+M.contentOffest,0)-s:"bottom"==M.textVerticalAlign_str?M.text1Y=Math.max(Math.round(M.finalH-M.addToHeight-2*M.borderSize-t)+M.contentOffest,0):"top"==M.textVerticalAlign_str&&(M.text1Y=+M.contentOffest):(M.text1Y=0,t=0,M.spaceBetweenTextAndIcons=0),M.text1Y<0&&(M.text1Y=0),M.button1_do&&(M.button1X=parseInt((M.finalW-M.iconW-o)/2-M.borderSize),M.button2X=M.button1X+M.iconW+M.spaceBetweenThumbanilIcons,"center"==M.textVerticalAlign_str?M.htmlContent1_str?M.buttonY=M.text1Y+t+M.spaceBetweenTextAndIcons+M.contentOffest+M.buttonsOffest:M.buttonY=Math.round((M.finalH-M.addToHeight-M.iconH-2*M.borderSize)/2)+M.buttonsOffest:"bottom"==M.textVerticalAlign_str?M.htmlContent1_str?M.buttonY=M.text1Y-M.iconH-M.spaceBetweenTextAndIcons+M.buttonsOffest:M.buttonY=M.finalH-M.addToHeight-M.iconH-2*M.borderSize+M.buttonsOffest:"top"==M.textVerticalAlign_str&&(M.buttonY=M.text1Y+t+M.spaceBetweenTextAndIcons+M.buttonsOffest),M.buttonY<0?M.buttonY=0:M.buttonY>M.finalH-M.addToHeight-M.iconH-2*M.borderSize&&(M.buttonY=M.finalH-M.addToHeight-M.iconH-2*M.borderSize),"movetext"!=M.presetType_str&&(M.button1_do.setX(M.button1X),M.button1_do.setY(M.buttonY),M.button2_do&&(M.button2_do.setX(M.button2X),M.button2_do.setY(M.buttonY)))),"movetext"==M.presetType_str&&M.hasButtons_bl||M.text1_do.setY(M.text1Y),"scaletextinverse"==M.presetType_str&&FWDRLUtils.hasTransform2d},50))},this.setupExtraText=function(){this.hasExtraText_bl&&(this.textHolder_do=new FWDRLDisplayObject("div"),this.textHolder_do.setX(this.borderSize),this.textHolder_do.getStyle().height="100%",this.addChild(this.textHolder_do),this.text3_do=new FWDRLDisplayObject("div"),this.text3_do.getStyle().width="100%",this.text3_do.getStyle().fontSmoothing="antialiased",this.text3_do.getStyle().webkitFontSmoothing="antialiased",this.text3_do.getStyle().textRendering="optimizeLegibility",this.text3_do.setInnerHTML(this.htmlExtraContent_str),this.text3_do.setAlpha(0),this.hasButtons_bl||this.text3_do.setButtonMode(!0),this.textHolder_do.addChild(this.text3_do))},this.addEvents=function(){this.screen.addEventListener?this.isMobile_bl?this.hasPointerEvent_bl?this.screen.addEventListener("pointerdown",this.onMouseUp):this.screen.addEventListener("click",this.onMouseUp):(this.screen.addEventListener("mouseover",this.onMouseOver),this.screen.addEventListener("click",this.onMouseUp)):this.screen.attachEvent&&(this.screen.attachEvent("onmouseover",this.onMouseOver),this.screen.attachEvent("onclick",this.onMouseUp))},M.onMouseOver=function(t){M.isContentShowed_bl||M.disableThumbnails_bl||("curtain"!=M.presetType_str&&"3d"!=M.presetType_str&&"animtext"!=M.presetType_str&&"movetext"!=M.presetType_str&&"preset2"!=M.presetType_str&&"scaletext"!=M.presetType_str||M.isImageAnimCompleteId_bl)&&("preset2"!=M.presetType_str||M.htmlContent1_str)&&("3d"==M.presetType_str&&M.isLightboxDisabled_bl&&!M.htmlContent1_str||(t&&M.getInOrOutAngle(t),M.showContent(),M.startToCheckThumbnailHit()))},M.onMouseUp=function(t){2==t.button||M.disableThumbnails_bl||(M.isContentShowed_bl||!M.isMobile_bl?M.button1_do||M.isLightboxDisabled_bl||M.dispatchEvent(i.MOUSE_UP,{id:M.id}):M.onMouseOver())},this.startToCheckThumbnailHit=function(){this.isCheckHitAdded_bl||(this.isCheckHitAdded_bl=!0,M.isMobile_bl?setTimeout(function(){FWDRLUtils.isIOS?M.hitThhumbnailId_to=e.addEventListener("touchstart",M.checkThumbnailHit):M.hitThhumbnailId_to=e.addEventListener("click",M.checkThumbnailHit)},50):e.addEventListener?e.addEventListener("mousemove",M.checkThumbnailHit):document.attachEvent("onmousemove",M.checkThumbnailHit))},this.stopToCheckThumbnailHit=function(){M.isCheckHitAdded_bl&&(M.isCheckHitAdded_bl=!1,M.isMobile_bl?FWDRLUtils.isIOS?M.hitThhumbnailId_to=e.removeEventListener("touchstart",M.checkThumbnailHit):M.hitThhumbnailId_to=e.removeEventListener("click",M.checkThumbnailHit):e.removeEventListener?e.removeEventListener("mousemove",M.checkThumbnailHit):document.detachEvent("onmousemove",M.checkThumbnailHit),clearTimeout(M.hitThhumbnailId_to),M.hideContent(!0))},this.checkThumbnailHit=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);if(!FWDRLUtils.hitTest(M.screen,e.screenX,e.screenY))return"3d"!=M.presetType_str&&M.getInOrOutAngle(t),void M.stopToCheckThumbnailHit()},this.showContent=function(){if(!this.isContentShowed_bl&&!this.isHidden_bl){var e,i,s,o,t,a,n,r,l=0,d=0,h=0,u=0,c=0,_=0,m=.6;if("animtext"==this.presetType_str)m=o=.7,r=Circ.easeOut,clearTimeout(this.showOrHideWithDelayId_to),this.showOrHideWithDelayId_to=setTimeout(function(){if(M.isContentHidden_bl){if(M.contentHolder_do.setX(0),M.htmlContent1_str){e=FWDRLUtils.getChildren(M.text1_do.screen.firstChild);for(var t=0;t<e.length;t++)i=e[t],"scale"==M.textAnimType_str?(FWDAnimation.to(i,1.2,{css:{scale:1},delay:l,ease:Elastic.easeOut}),l+=.035):"scalerandom"==M.textAnimType_str?FWDAnimation.to(i,1.2,{css:{scale:1},delay:.8*Math.random(),ease:Elastic.easeOut}):"largescale"==M.textAnimType_str?FWDAnimation.to(i,.6,{css:{opacity:1,scale:1},delay:.5*Math.random(),ease:Expo.easeInOut}):"opacity"==M.textAnimType_str&&(FWDAnimation.to(i,.8,{css:{opacity:1},delay:l}),l+=.03)}FWDAnimation.to(M.overlay_do,o,{alpha:M.overlayOpacity,ease:Quint.easeOut})}},51),this.button1_do&&(FWDRLUtils.hasTransform2d?(this.button1_do.setScale2(0),this.button1_do.setAlpha(0),FWDAnimation.to(this.button1_do,o+.4,{alpha:1,scale:1,delay:.1,ease:Elastic.easeOut}),this.button2_do&&(this.button2_do.setScale2(0),this.button2_do.setAlpha(0),FWDAnimation.to(this.button2_do,o+.4,{alpha:1,scale:1,delay:.2,ease:Elastic.easeOut}))):(this.button1_do.setAlpha(0),FWDAnimation.to(this.button1_do,o,{alpha:1,delay:.2,ease:Expo.easeInOut}),this.button2_do&&(this.button2_do.setAlpha(0),FWDAnimation.to(this.button2_do,o,{alpha:1,delay:.3,ease:Expo.easeInOut})))),this.border_do.addChild(this.contentHolder_do),this.resizeContent();else if("media2"==this.presetType_str){if(!M.isImageAnimCompleteId_bl)return;m=o=.7,r=Circ.easeOut,this.isContentHidden_bl&&(M.contentHolder_do.setX(0),this.overlay_do.setAlpha(0),this.button1_do&&(t=this.button2_do?this.iconW+this.spaceBetweenThumbanilIcons:0,n=(a=parseInt((this.finalW-this.iconW-t)/2)-this.borderSize)+this.iconW+this.spaceBetweenThumbanilIcons,this.button1_do.setX(a),"bottom"==M.textVerticalAlign_str?this.button1_do.setY(this.finalH-2*this.borderSize):this.button1_do.setY(M.borderSize),this.button1_do.setAlpha(0)),this.button2_do&&(this.button2_do.setX(n),"bottom"==M.textVerticalAlign_str?this.button2_do.setY(this.finalH-2*this.borderSize):this.button2_do.setY(M.borderSize),this.button2_do.setAlpha(0)),this.isContentHidden_bl=!1),this.border_do.addChildAt(this.contentHolder_do,0),this.resizeContent(),clearTimeout(this.showOrHideWithDelayId_to),this.showOrHideWithDelayId_to=setTimeout(function(){var t,e,i;s=M.text1_do.getHeight(),FWDAnimation.killTweensOf(M.overlay_do),FWDAnimation.killTweensOf(M.text1_do),FWDAnimation.killTweensOf(M.imageHolder_do),FWDAnimation.to(M.overlay_do,o-.051,{alpha:M.overlayOpacity,ease:Quint.easeOut}),"bottom"==M.textVerticalAlign_str?(i=M.finalH-s-2*M.borderSize,e=parseInt(-s/2)+M.borderSize,t=parseInt((M.finalH-s-M.iconH)/2)-M.borderSize):(i=0,e=parseInt(s/2)+M.borderSize,t=parseInt((M.finalH+s-M.iconH)/2)-M.borderSize),FWDAnimation.to(M.text1_do,o-.151,{y:i,ease:Quint.easeInOut}),FWDAnimation.to(M.imageHolder_do,o-.151,{y:e,ease:Quint.easeInOut}),M.button1_do&&(FWDAnimation.killTweensOf(M.button1_do),FWDAnimation.to(M.button1_do,o-.151,{y:t,alpha:1,delay:.05,ease:Quint.easeInOut})),M.button2_do&&(FWDAnimation.killTweensOf(M.button2_do),FWDAnimation.to(M.button2_do,o-.151,{y:t,alpha:1,delay:.1,ease:Quint.easeInOut}))},51)}else if("media"==this.presetType_str){if(!M.isImageAnimCompleteId_bl)return;m=o=.7,r=Circ.easeOut,M.contentHolder_do.setX(0),this.icon_do&&FWDAnimation.to(this.icon_do,o,{alpha:1,ease:Expo.easeInOut}),this.text1_do&&this.text2_do&&("bottom"==M.textVerticalAlign_str?(FWDAnimation.to(this.text1_do,o,{y:this.finalH-2*this.borderSize-this.text1H-this.text2H,ease:Expo.easeInOut}),FWDAnimation.to(this.text2_do,o,{y:this.finalH-2*this.borderSize-this.text2H,ease:Expo.easeInOut})):(FWDAnimation.to(this.text1_do,o,{y:this.text2H,ease:Expo.easeInOut}),FWDAnimation.to(this.text2_do,o,{y:0,ease:Expo.easeInOut})))}else if("scaletextinverse"==this.presetType_str){if(!this.isImageAnimCompleteId_bl)return;m=o=.7,r=Circ.easeOut,l=.1,_=c=u=0,this.contentHolder_do.setX(0),this.isContentHidden_bl=!1,FWDRLUtils.hasTransform2d&&(FWDAnimation.killTweensOf(this.imageHolder_do),FWDAnimation.to(this.imageHolder_do,o,{scale:1,rotation:0,ease:Expo.easeInOut})),FWDAnimation.killTweensOf(this.overlay_do),FWDAnimation.to(this.overlay_do,o,{alpha:_,delay:l,ease:Quint.easeOut}),FWDAnimation.killTweensOf(this.text1_do),FWDRLUtils.hasTransform2d?FWDAnimation.to(this.text1_do,o,{scale:c,alpha:u,ease:Expo.easeInOut}):FWDAnimation.to(this.text1_do,o,{alpha:u,ease:Expo.easeInOut}),this.border_do.addChild(this.contentHolder_do)}else if("scaletext"==this.presetType_str){if(!this.isImageAnimCompleteId_bl)return;m=o=.7,r=Circ.easeOut,c=u=1,l=.1,_=this.overlayOpacity,this.contentHolder_do.setX(0),FWDRLUtils.hasTransform2d&&(FWDAnimation.killTweensOf(this.imageHolder_do),FWDAnimation.to(this.imageHolder_do,o,{scale:1.4,rotation:parseInt(20*Math.random()-10),ease:Expo.easeInOut})),this.isContentHidden_bl=!1,this.button1_do&&(FWDRLUtils.hasTransform2d?(this.button1_do.setScale2(0),this.button1_do.setAlpha(0),FWDAnimation.to(this.button1_do,o,{alpha:1,scale:1,delay:.2,ease:Expo.easeInOut}),this.button2_do&&(this.button2_do.setScale2(0),this.button2_do.setAlpha(0),FWDAnimation.to(this.button2_do,o,{alpha:1,scale:1,delay:.3,ease:Expo.easeInOut}))):(this.button1_do.setAlpha(0),FWDAnimation.to(this.button1_do,o,{alpha:1,delay:.2,ease:Expo.easeInOut}),this.button2_do&&(this.button2_do.setAlpha(0),FWDAnimation.to(this.button2_do,o,{alpha:1,delay:.3,ease:Expo.easeInOut})))),FWDAnimation.killTweensOf(this.overlay_do),FWDAnimation.to(this.overlay_do,o,{alpha:_,delay:l,ease:Quint.easeOut}),FWDAnimation.killTweensOf(this.text1_do),FWDRLUtils.hasTransform2d?FWDAnimation.to(this.text1_do,o,{scale:c,alpha:u,ease:Expo.easeInOut}):FWDAnimation.to(this.text1_do,o,{alpha:u,ease:Expo.easeInOut}),this.border_do.addChild(this.contentHolder_do),this.resizeContent()}else if("movetext"==this.presetType_str)m=o=.7,r=Circ.easeOut,this.border_do.addChild(this.contentHolder_do),this.resizeContent(),this.hasButtons_bl?(clearTimeout(this.showOrHideWithDelayId_to),this.showOrHideWithDelayId_to=setTimeout(function(){M.isContentHidden_bl&&(M.contentHolder_do.setX(0),"top"==M.animStartDir_str?(M.overlay_do.setX(0),M.overlay_do.setY(-M.finalH+2*M.borderSize),M.text1_do.setX(0),M.text1_do.setY(-M.finalH+2*M.borderSize),M.button1_do&&(M.button1_do.setX(M.button1X),M.button1_do.setY(-M.iconH),M.button1_do.setAlpha(0)),M.button2_do&&(M.button2_do.setX(M.button2X),M.button2_do.setY(-M.iconH),M.button2_do.setAlpha(0)),d=0,h=.05):"right"==M.animStartDir_str?(M.overlay_do.setY(0),M.overlay_do.setX(M.finalW-2*M.borderSize),M.text1_do.setX(M.finalW-2*M.borderSize),M.text1_do.setY(M.text1Y),M.button1_do&&(M.button1_do.setX(M.finalW-2*M.borderSize),M.button1_do.setY(M.buttonY),M.button1_do.setAlpha(0)),M.button2_do&&(M.button2_do.setX(M.finalW+M.iconW-2*M.borderSize),M.button2_do.setY(M.buttonY),M.button2_do.setAlpha(0)),d=0,h=.05):"bottom"==M.animStartDir_str?(M.overlay_do.setX(0),M.overlay_do.setY(M.finalH-2*M.borderSize),M.text1_do.setX(0),M.text1_do.setY(M.finalH-2*M.borderSize),M.button1_do&&(M.button1_do.setX(M.button1X),M.button1_do.setY(M.finalH-2*M.borderSize),M.button1_do.setAlpha(0)),M.button2_do&&(M.button2_do.setX(M.button2X),M.button2_do.setY(M.finalH-2*M.borderSize),M.button2_do.setAlpha(0)),d=0,h=.05):"left"==M.animStartDir_str&&(M.overlay_do.setX(-M.finalW+2*M.borderSize),M.overlay_do.setY(0),M.text1_do.setX(-M.finalW+2*M.borderSize),M.text1_do.setY(M.text1Y),M.button1_do&&(FWDAnimation.killTweensOf(M.button1_do),M.button2_do?M.button1_do.setX(2*-M.iconW-M.spaceBetweenThumbanilIcons):M.button1_do.setX(-M.iconW),M.button1_do.setY(M.buttonY),M.button1_do.setAlpha(0)),M.button2_do&&(FWDAnimation.killTweensOf(M.button2_do),M.button2_do.setX(-M.iconW),M.button2_do.setY(M.buttonY),M.button2_do.setAlpha(0),d=.05),h=0)),FWDAnimation.killTweensOf(M.contentHolder_do),FWDAnimation.to(M.overlay_do,.4,{x:0,y:0}),FWDAnimation.killTweensOf(M.text1_do),FWDAnimation.to(M.text1_do,.4,{x:0,y:M.text1Y}),M.button1_do&&FWDAnimation.to(M.button1_do,.7,{x:M.button1X,y:M.buttonY,alpha:1,delay:d,ease:Expo.easeInOut}),M.button2_do&&FWDAnimation.to(M.button2_do,.7,{x:M.button2X,y:M.buttonY,alpha:1,delay:h,ease:Expo.easeInOut}),M.isContentHidden_bl=!1},51)):(o=.4,this.isContentHidden_bl&&("top"==this.animStartDir_str?(this.contentHolder_do.setX(0),this.contentHolder_do.setY(-this.finalH+2*this.borderSize)):"right"==this.animStartDir_str?(this.contentHolder_do.setX(this.finalW-2*this.borderSize),this.contentHolder_do.setY(0)):"bottom"==this.animStartDir_str?(this.contentHolder_do.setX(0),this.contentHolder_do.setY(this.finalH-2*this.borderSize)):"left"==this.animStartDir_str&&(this.contentHolder_do.setX(-this.finalW+2*this.borderSize),this.contentHolder_do.setY(0))),this.isContentHidden_bl=!1,FWDAnimation.killTweensOf(this.contentHolder_do),FWDAnimation.to(this.contentHolder_do,o,{x:0,y:0}));else if("curtain"==this.presetType_str){var b=this.borderSize,f=this.borderSize;m=o=.7,r=Circ.easeOut,M.contentHolder_do.setX(0),"top"==this.imageTransitionDirection_str?(f=-this.finalH+3*this.borderSize-1,this.fakeBorder_do.setWidth(this.finalW),this.fakeBorder_do.setHeight(this.borderSize)):"right"==this.imageTransitionDirection_str?(b=this.finalW-this.borderSize,this.fakeBorder_do.setX(this.finalW-this.borderSize),this.fakeBorder_do.setWidth(this.borderSize),this.fakeBorder_do.setHeight(this.finalH)):"bottom"==this.imageTransitionDirection_str?(f=this.finalH-this.borderSize,this.fakeBorder_do.setY(this.finalH-this.borderSize),this.fakeBorder_do.setWidth(this.finalW),this.fakeBorder_do.setHeight(this.borderSize)):"left"==this.imageTransitionDirection_str&&(b=-this.finalW+3*this.borderSize,this.fakeBorder_do.setWidth(this.borderSize),this.fakeBorder_do.setHeight(this.finalH)),this.addChild(this.fakeBorder_do),this.border_do.addChild(this.contentHolder_do),this.resizeContent(),0!=this.borderSize&&FWDAnimation.to(this.fakeBorder_do.screen,m,{css:{backgroundColor:this.borderSelectedColor_str},ease:r}),FWDAnimation.to(this.imageHolder_do,o,{x:b,y:f,ease:Expo.easeInOut})}else"3d"==this.presetType_str&&(m=o=.8,r=Circ.easeOut,this.isVerticalType_bl?this.parent.addChild(this):this.parent.thumbnailsHolder_do.addChild(this),this.border_do.addChild(this.contentHolder_do),this.resizeContent(),this.isContentHidden_bl&&(this.prevAnimStartDir_str=this.animStartDir_str,"top"==this.animStartDir_str?(this.angleX=-180,this.angleY=0,this.contentHolder_do.setAngleX(180),this.contentHolder_do.setAngleY(0)):"right"==this.animStartDir_str?(this.angleX=0,this.angleY=-180,this.contentHolder_do.setAngleX(0),this.contentHolder_do.setAngleY(180)):"bottom"==this.animStartDir_str?(this.angleX=180,this.angleY=0,this.contentHolder_do.setAngleY(0),this.contentHolder_do.setAngleX(-180)):"left"==this.animStartDir_str&&(this.angleX=0,this.angleY=180,this.contentHolder_do.setAngleX(0),this.contentHolder_do.setAngleY(-180)),this.contentHolder_do.setZ(3),this.isContentHidden_bl=!1),this.resizeContent(),this.contentHolder_do.setX(this.borderSize),this.contentHolder_do.setY(this.borderSize),this.main3dContainer_do.addChild(this.contentHolder_do),FWDAnimation.killTweensOf(this.main_do),FWDAnimation.killTweensOf(this.contentHolder_do),FWDAnimation.to(this.main_do,o,{angleX:M.angleX,angleY:M.angleY,alpha:1,delay:.1,ease:Quint.easeOut}),FWDAnimation.to(this.contentHolder_do,o,{angleX:0,angleY:0,delay:.1,ease:Quint.easeOut}));this.borderNormalColor_str!=this.borderSelectedColor_str&&0!=this.borderSize&&FWDAnimation.to(this.border_do.screen,m,{css:{borderColor:this.borderSelectedColor_str},ease:r}),this.isContentShowed_bl=!0,clearTimeout(this.contentShowCompleteId_to),clearTimeout(this.contentHideCompleteId_to),this.contentShowCompleteId_to=setTimeout(this.showContentComplete,1e3*o)}},this.showContentComplete=function(){clearTimeout(M.contentShowCompleteId_to),clearTimeout(M.contentHideCompleteId_to)},this.hideContent=function(){if(this.isContentShowed_bl){var t,e,i,s,o,a,n,r,l,d=0,h=0,u=0,c=.6,_=0,m=0,b=0,f=0,p=0,g=0;if("animtext"==this.presetType_str){if(o=.4,c=.7,i=Circ.easeOut,clearTimeout(this.showOrHideWithDelayId_to),this.htmlContent1_str){e=FWDRLUtils.getChildren(M.text1_do.screen.firstChild);for(var S=0;S<e.length;S++)t=e[S],FWDAnimation.killTweensOf(t),"scale"==M.textAnimType_str?FWDAnimation.to(t,.2,{css:{scale:0}}):"scalerandom"==M.textAnimType_str?FWDAnimation.to(t,.2,{css:{scale:0}}):"largescale"==M.textAnimType_str?FWDAnimation.to(t,.2,{css:{scale:3,opacity:0}}):"opacity"==M.textAnimType_str&&FWDAnimation.to(t,.2,{css:{opacity:0}})}this.button1_do&&(FWDRLUtils.hasTransform2d?(FWDAnimation.killTweensOf(this.button1_do),FWDAnimation.to(this.button1_do,o,{alpha:0,scale:0,ease:Quint.easeOut}),this.button2_do&&(FWDAnimation.killTweensOf(this.button2_do),FWDAnimation.to(this.button2_do,o,{alpha:0,scale:0,ease:Quint.easeOut}))):(FWDAnimation.killTweensOf(this.button1_do),FWDAnimation.to(this.button1_do,o,{alpha:0,ease:Expo.easeInOut}),this.button2_do&&(FWDAnimation.killTweensOf(this.button2_do),FWDAnimation.to(this.button2_do,o,{alpha:0,ease:Expo.easeInOut})))),FWDAnimation.to(M.overlay_do,o,{alpha:0,ease:Quint.easeOut})}else if("media2"==this.presetType_str){if(!M.isImageAnimCompleteId_bl)return;c=o=.7,i=Circ.easeOut,clearTimeout(this.showOrHideWithDelayId_to),this.showOrHideWithDelayId_to=setTimeout(function(){var t,e,i=M.text1_do.getHeight();FWDAnimation.killTweensOf(M.overlay_do),FWDAnimation.killTweensOf(M.text1_do),FWDAnimation.killTweensOf(M.imageHolder_do),FWDAnimation.to(M.overlay_do,o-.051,{alpha:0,ease:Quint.easeOut}),"bottom"==M.textVerticalAlign_str?(e=M.finalH-2*M.borderSize,t=M.borderSize,B=M.finalH-2*M.borderSize):(e=-i,t=M.borderSize,B=-M.iconH),FWDAnimation.to(M.text1_do,o-.151,{y:e,ease:Quint.easeInOut}),FWDAnimation.to(M.imageHolder_do,o-.151,{y:t,ease:Quint.easeInOut}),M.button1_do&&(FWDAnimation.killTweensOf(M.button1_do),FWDAnimation.to(M.button1_do,o-.151,{y:B,alpha:1,delay:.05,ease:Quint.easeInOut})),M.button2_do&&(FWDAnimation.killTweensOf(M.button2_do),FWDAnimation.to(M.button2_do,o-.151,{y:B,alpha:1,delay:.1,ease:Quint.easeInOut}))},51)}else if("media"==this.presetType_str){if(!this.isImageAnimCompleteId_bl)return;c=o=.7,i=Circ.easeOut,this.icon_do&&FWDAnimation.to(this.icon_do,o,{alpha:0,ease:Expo.easeInOut}),this.text1_do&&this.text2_do&&("bottom"==M.textVerticalAlign_str?(FWDAnimation.to(this.text1_do,o,{y:this.finalH-2*this.borderSize-this.text1H,ease:Expo.easeInOut}),FWDAnimation.to(this.text2_do,o,{y:this.finalH-2*this.borderSize,ease:Expo.easeInOut})):(FWDAnimation.to(this.text1_do,o,{y:0,ease:Expo.easeInOut}),FWDAnimation.to(this.text2_do,o,{y:-this.text2H,ease:Expo.easeInOut})))}else if("scaletextinverse"==this.presetType_str){if(!this.isImageAnimCompleteId_bl)return;c=o=.7,i=Circ.easeOut,h=d=1,s=.1,u=this.overlayOpacity,this.contentHolder_do.setX(0),FWDRLUtils.hasTransform2d&&(FWDAnimation.killTweensOf(this.imageHolder_do),FWDAnimation.to(this.imageHolder_do,o,{scale:1.4,rotation:parseInt(20*Math.random()-10),ease:Expo.easeInOut})),FWDAnimation.killTweensOf(this.overlay_do),FWDAnimation.to(this.overlay_do,o,{alpha:u,delay:s,ease:Quint.easeOut}),FWDAnimation.killTweensOf(this.text1_do),FWDRLUtils.hasTransform2d?FWDAnimation.to(this.text1_do,o,{scale:h,alpha:d,ease:Expo.easeInOut}):FWDAnimation.to(this.text1_do,o,{alpha:d,ease:Expo.easeInOut}),this.isContentHidden_bl=!1,this.border_do.addChild(this.contentHolder_do),this.resizeContent()}else if("scaletext"==this.presetType_str){if(!this.isImageAnimCompleteId_bl)return;c=o=.7,i=Circ.easeOut,"scaletext"==this.presetType_str&&(u=h=d=0,s=.2,this.button1_do&&(FWDAnimation.killTweensOf(this.button1_do),FWDRLUtils.hasTransform2d?(FWDAnimation.to(this.button1_do,.4,{alpha:0,scale:0,ease:Quint.easeOut}),this.button2_do&&(FWDAnimation.killTweensOf(this.button2_do),FWDAnimation.to(this.button2_do,.4,{alpha:0,scale:0,ease:Quint.easeOut}))):(FWDAnimation.to(this.button1_do,.4,{alpha:0,ease:Quint.easeOut}),this.button2_do&&(FWDAnimation.killTweensOf(this.button2_do),FWDAnimation.to(this.button2_do,.4,{alpha:0,ease:Quint.easeOut})))),FWDRLUtils.hasTransform2d&&(FWDAnimation.killTweensOf(this.imageHolder_do),FWDAnimation.to(this.imageHolder_do,o,{scale:1,rotation:0,ease:Expo.easeInOut}))),this.isContentHidden_bl=!1,FWDAnimation.killTweensOf(this.overlay_do),FWDAnimation.to(this.overlay_do,o,{alpha:u,delay:s,ease:Quint.easeOut}),FWDAnimation.killTweensOf(this.text1_do),FWDRLUtils.hasTransform2d?FWDAnimation.to(this.text1_do,o,{scale:h,alpha:d,ease:Expo.easeInOut}):FWDAnimation.to(this.text1_do,o,{alpha:d,ease:Expo.easeInOut})}else if("movetext"==this.presetType_str)c=o=.7,i=Circ.easeOut,clearTimeout(this.showOrHideWithDelayId_to),this.button1_do?("top"==this.animStartDir_str?(contentX=0,contentY=-this.finalH+2*this.borderSize,l=0,r=contentY,b=this.button1X,f=-this.iconH,p=this.button2X,g=f,this.button2_do&&(m=.05)):"right"==this.animStartDir_str?(contentX=this.finalW-2*this.borderSize,contentY=0,l=contentX,r=this.text1Y,b=contentX,f=this.buttonY,p=contentX+this.iconW+this.spaceBetweenThumbanilIcons,g=this.buttonY,this.button2_do&&(_=.05)):"bottom"==this.animStartDir_str?(contentX=0,contentY=this.finalH-2*this.borderSize,l=0,r=contentY,b=this.button1X,f=this.finalH-2*this.borderSize,p=this.button2X,g=f,this.button2_do&&(_=.05)):"left"==this.animStartDir_str&&(contentX=-this.finalW+2*this.borderSize,contentY=0,l=contentX,r=this.text1Y,b=this.button2_do?2*-this.iconW-this.spaceBetweenThumbanilIcons:-this.iconW,f=this.buttonY,p=-this.iconW,g=this.buttonY,this.button2_do&&(m=.05)),FWDAnimation.killTweensOf(this.contentHolder_do),FWDAnimation.to(this.overlay_do,.4,{x:contentX,y:contentY}),FWDAnimation.killTweensOf(this.text1_do),FWDAnimation.to(this.text1_do,.4,{x:l,y:r}),this.button1_do&&(FWDAnimation.killTweensOf(this.button1_do),FWDAnimation.to(this.button1_do,.7,{x:b,y:f,alpha:0,delay:_,ease:Expo.easeInOut})),this.button2_do&&(FWDAnimation.killTweensOf(this.button2_do),FWDAnimation.to(this.button2_do,.7,{x:p,y:g,alpha:0,delay:m,ease:Expo.easeInOut}))):(o=.4,"top"==M.animStartDir_str?(a=0,n=-M.finalH+2*M.borderSize):"right"==M.animStartDir_str?(a=M.finalW-2*M.borderSize,n=0):"bottom"==M.animStartDir_str?(a=0,n=M.finalH-2*M.borderSize):"left"==M.animStartDir_str&&(a=-M.finalW+2*M.borderSize,n=0),FWDAnimation.killTweensOf(M.contentHolder_do),FWDAnimation.to(M.contentHolder_do,o,{x:a,y:n}));else if("curtain"==this.presetType_str){var v=this.borderSize,y=this.borderSize;c=o=.7,i=Circ.easeOut,this.border_do.addChild(this.contentHolder_do),this.resizeContent(),0!=this.borderSize&&FWDAnimation.to(this.fakeBorder_do.screen,c,{css:{backgroundColor:this.borderNormalColor_str},ease:i}),FWDAnimation.killTweensOf(this.imageHolder_do),FWDAnimation.to(this.imageHolder_do,o,{x:v,y:y,ease:Expo.easeInOut})}else if("preset30"!=this.presetType_str||this.isLightboxDisabled_bl){if("3d"==this.presetType_str){var T=0,w=0;c=o=.8,i=Circ.easeOut,"top"==this.prevAnimStartDir_str?(w=0,T=-(T=180)==this.angleX?180:-180):"right"==this.prevAnimStartDir_str?(T=0,w=-180==this.angleY?180:-180):"bottom"==this.prevAnimStartDir_str?(w=0,-180==this.angleX?T=180:180==this.angleX&&(T=-180)):"left"==this.prevAnimStartDir_str&&(T=0,w=(w=-180)==this.angleY?180:-180),this.isContentHidden_bl=!1,FWDAnimation.killTweensOf(this.main_do),FWDAnimation.killTweensOf(this.contentHolder_do),FWDAnimation.to(this.main_do,o,{angleX:0,angleY:0,ease:Quint.easeOut}),FWDAnimation.to(this.contentHolder_do,o,{angleX:T,angleY:w,ease:Quint.easeOut})}}else{c=o=.6,i=Circ.easeOut;var D=this.button2_do?this.iconW+this.spaceBetweenThumbanilIcons:0,B=(b=parseInt((this.finalW-this.iconW-D)/2),parseInt((this.finalH-this.iconH)/2)),L=(p=b+this.iconW+this.spaceBetweenThumbanilIcons,parseInt((this.finalH-this.iconH)/2));"top"==this.animStartDir_str?(B=-this.iconH,this.button2_do&&(L=-this.iconH,m=.1)):"right"==this.animStartDir_str?(b=this.finalW-this.borderSize,_=.1,this.button2_do&&(p=this.finalW+this.iconW+this.spaceBetweenThumbanilIcons-this.borderSize,m=0)):"bottom"==this.animStartDir_str?(B=this.finalH-this.borderSize,this.button2_do&&(L=this.finalH-this.borderSize,m=.1)):"left"==this.animStartDir_str&&(b=2*-this.iconW+this.spaceBetweenThumbanilIcons,this.button2_do&&(p=-this.iconW,m=.1)),this.isContentHidden_bl=!1,this.button2_do&&(this.mainTransitionDuration+=.1),FWDAnimation.killTweensOf(this.button1_do),FWDAnimation.to(this.button1_do,o,{x:b,y:B,delay:_,ease:Expo.easeOut}),this.button2_do&&(FWDAnimation.killTweensOf(this.button2_do),FWDAnimation.to(this.button2_do,o,{x:p,y:L,delay:m,ease:Expo.easeOut}))}this.borderNormalColor_str!=this.borderSelectedColor_str&&0!=this.borderSize&&FWDAnimation.to(this.border_do.screen,c,{css:{borderColor:this.borderNormalColor_str},ease:i}),this.isContentShowed_bl=!1,clearTimeout(this.contentShowCompleteId_to),clearTimeout(this.contentHideCompleteId_to),M.contentHideCompleteId_to=setTimeout(M.hideContentComplete,1e3*o)}},this.hideContentComplete=function(){if(clearTimeout(M.contentShowCompleteId_to),clearTimeout(M.contentHideCompleteId_to),"media"!=M.presetType_str&&"scaletextinverse"!=M.presetType_str){try{M.border_do.removeChild(M.contentHolder_do)}catch(t){}try{M.removeChild(M.contentHolder_do)}catch(t){}try{M.removeChild(M.fakeBorder_do)}catch(t){}M.contentHolder_do&&M.contentHolder_do.setX(-1e3)}M.isContentHidden_bl=!0},this.getInOrOutAngle=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t),i=M.getGlobalX(),s=M.getGlobalY(),o=e.screenX,a=e.screenY,n=o-(i+M.finalW/2),r=a-(s+M.finalH/2),l=180*Math.atan2(r,n)/Math.PI,d=180*Math.atan2(M.finalH,M.finalW)/Math.PI;l<d&&-d<l&&(M.animStartDir_str="right"),d<l&&l<180-d&&(M.animStartDir_str="bottom"),(l<-180+d||180-d<l)&&(M.animStartDir_str="left"),-180+d<l&&l<-d&&(M.animStartDir_str="top")},this.hide=function(t,e){if(!this.isHidden_bl&&this.hasImage_bl){var i=Math.abs(Math.min(0,FWDUGP.globalY)),s=0<FWDUGP.globalY?FWDUGP.viewportHeight-FWDUGP.globalY:FWDUGP.viewportHeight;clearTimeout(this.showHideId_to),this.showHideId_to=setTimeout(function(){M.isHidden_bl=!0;var t=M.finalY+M.finalH>i&&M.finalY-i<s;if(M.isVerticalType_bl||(t=!0),"scale"==M.hideAndShowTransitionType_str)t?FWDAnimation.to(M,.6,{scale:0,alpha:0,delay:.05+.1*Math.random(),ease:Quart.easeOut}):(FWDAnimation.killTweensOf(M),M.setScale2(0),M.setAlpha(0));else if("opacity"==M.hideAndShowTransitionType_str)t?FWDAnimation.to(M,.6,{alpha:0,delay:.05+.1*Math.random(),ease:Quart.easeOut}):(FWDAnimation.killTweensOf(M),M.setAlpha(0));else if("rotation"==M.hideAndShowTransitionType_str){for(var e=-60+parseInt(120*Math.random());-20<e&&e<20;)e=-60+parseInt(120*Math.random());t?FWDAnimation.to(M,.6,{scale:0,rotation:e,delay:.05+.1*Math.random(),ease:Quart.easeOut}):(FWDAnimation.killTweensOf(M),M.setRotation(0),M.setScale2(0))}else("none"==M.hideAndShowTransitionType_str||FWDRLUtils.hasTransform2d)&&M.setVisible(!1)},50)}},this.show=function(t){if(this.isVerticalType_bl?this.parent.addChild(this):this.parent.thumbnailsHolder_do.addChild(this),this.isHidden_bl&&this.hasImage_bl){var e=Math.abs(Math.min(0,FWDUGP.globalY)),i=0<FWDUGP.globalY?FWDUGP.viewportHeight-FWDUGP.globalY:FWDUGP.viewportHeight;clearTimeout(M.contentShowCompleteId_to),M.isContentHidden_bl=!0,clearTimeout(this.showHideId_to),this.showHideId_to=setTimeout(function(){M.isHidden_bl=!1;var t=M.finalY+M.finalH>e&&M.finalY-e<i;M.isVerticalType_bl||(t=!0),"scale"==M.hideAndShowTransitionType_str?t?FWDAnimation.to(M,.6,{scale:1,alpha:1,delay:.05+.2*Math.random(),ease:Quart.easeOut}):(FWDAnimation.killTweensOf(M),M.setScale2(1),M.setAlpha(1)):"opacity"==M.hideAndShowTransitionType_str?t?FWDAnimation.to(M,.6,{alpha:1,delay:.05+.1*Math.random(),ease:Quart.easeOut}):(FWDAnimation.killTweensOf(M),M.setAlpha(1)):"rotation"==M.hideAndShowTransitionType_str?(FWDAnimation.killTweensOf(M),t?FWDAnimation.to(M,.6,{scale:1,alpha:1,rotation:0,delay:.05+.2*Math.random(),ease:Quart.easeOut}):(M.setRotation(0),M.setScale2(1),M.setAlpha(1))):("none"==M.hideAndShowTransitionType_str||FWDRLUtils.hasTransform2d)&&M.setVisible(!0)},50)}},this.setTransitionType=function(t){if(this.hideAndShowTransitionType_str=t,"scale"==M.hideAndShowTransitionType_str)this.isHidden_bl&&(M.setRotation(0),M.setAlpha(0),M.setScale2(0));else if("rotation"==M.hideAndShowTransitionType_str){if(this.isHidden_bl){for(var e=-60+parseInt(120*Math.random());-20<e&&e<20;)e=-60+parseInt(120*Math.random());M.setRotation(e),"opacity"==this.prevAndShowTransitionType_str?M.setAlpha(0):M.setAlpha(1),M.setScale2(0)}}else"opacity"==M.hideAndShowTransitionType_str&&this.isHidden_bl&&(M.setRotation(1),M.setScale2(1),M.setAlpha(0));this.prevAndShowTransitionType_str=this.hideAndShowTransitionType_str},this.setOverlayColor=function(t){this.overlayColor_str=t,this.overlay_do.setBkColor(this.overlayColor_str)},this.setOverlayOpacityValue=function(t){null!=t&&(this.overlayOpacity=t)},this.setOverlayOpacity=function(){this.overlay_do.setAlpha(this.overlayOpacity)},this.setContentPosition=function(t,e,i){this.textVerticalAlign_str=t,this.contentOffest=e,null!=i&&(this.buttonsOffest=i)},this.setCurtainAnimationDirection=function(t){M.imageTransitionDirection_str=t},this.setBorderSize=function(t){this.borderSize=parseInt(t),0==this.borderSize?(this.border_do.getStyle().borderStyle="none",this.border_do.getStyle().boxShadow="none"):(this.border_do.getStyle().borderStyle="solid",this.border_do.getStyle().boxShadow=this.thumbanilBoxShadow_str),this.border_do.getStyle().borderWidth=this.borderSize+"px"},this.setBorderRadius=function(t){this.borderRadius=parseInt(t),this.border_do.getStyle().borderRadius=this.borderRadius+"px",this.getStyle().borderRadius=this.borderRadius+"px","3d"==this.presetType_str&&(this.main_do.getStyle().borderRadius=this.borderRadius+"px")},this.setBorderColor=function(t,e){this.borderNormalColor_str=t,this.borderSelectedColor_str=e,this.border_do.getStyle().borderColor=this.borderNormalColor_str},this.setBorderBoxShadow=function(t){this.thumbanilBoxShadow_str=t,"3d"==this.presetType_str?this.main_do.getStyle().boxShadow=this.thumbanilBoxShadow_str:this.getStyle().boxShadow=this.thumbanilBoxShadow_str},this.init()};i.setPrototype=function(){FWDRLUtils.hasTransform2d?i.prototype=new FWDRLTransformDisplayObject("div"):i.prototype=new FWDRLDisplayObject("div")},i.MOUSE_UP="onMouseDown",i.RIGHT="right",i.LEFT="left",i.BOTTOM="bottom",i.TOP="top",i.prototype=null,e.FWDUGPThumbnail=i}(window),function(n){var r=function(a,e){var f=this;r.prototype;this.sourcePlaylist_ar=a.playlist_ar.playlistItems,this.originalDataThumbnails_ar=[],this.dataThumbnails_ar=[],this.tempPlaylist_ar,this.columnHeights_ar=[],this.loadMoreCatsData_ar=[],this.catId_ar=a.startAtCategory_ar,this.loadMoreButton_do,this.curDataThumbnail,this.thumbnailLoadingType_str=a.thumbnailLoadingType_str,this.totalLoadedThumbnails=0,this.loadMoreButtonOffsetTop=a.loadMoreButtonOffsetTop,this.loadMoreButtonOffsetBottom=a.loadMoreButtonOffsetBottom,this.thumbnailsPerSet=a.howManyThumbnailsToDisplayPerSet,this.thumbsHOffset=a.thumbnailsHorizontalOffset,this.thumbsVOffset=a.thumbnailsVerticalOffset,this.offsetTotalHeight=0,this.maxH=0,this.thumbOffsetX=0,this.catId=a.startAtCategory,this.stageWidth=0,this.prevStageWidth=0,this.thumbnailMaxWidth=a.thumbnailMaxWidth,this.thumbnailMaxHeight=a.thumbnailMaxHeight,this.leftWidth=0,this.thumbWidth,this.thumbHeight,this.thumbsHSpace=a.horizontalSpaceBetweenThumbnails,this.thumbsVSpace=a.verticalSpaceBetweenThumbnails,this.countLoadedThumbs=0,this.borderSize=a.thumbnailBorderSize,this.totalThumbnails=this.sourcePlaylist_ar.length,this.tempTotalThumbnails=this.sourcePlaylist_ar.length,this.totalOriginalThumbnails=this.sourcePlaylist_ar.length,this.globalX=0,this.globalY=0,this.searchValue="",this.catChanging_to,this.arangeFaterTweenId_to,this.updateSearch_to,this.centerWithMenu_bl=a.centerNoSearchFoundLabelWithMenu_bl,this.isLoadAtTheEnd_bl=!1,this.isLoadMoreButtonShowed_bl=!0,this.isCatChanging_bl=!1,this.isFirstThumbnailLoaded_bl=!1,this.firstThumbnailShowed_bl=!1,this.animateParent_bl=a.animateParent_bl,this.showAllCategories_bl=a.showAllCategories_bl,this.totalCats=this.showAllCategories_bl?a.categories_ar.length-1:a.categories_ar.length,this.isMobile_bl=FWDRLUtils.isMobile,this.init=function(){this.setOverflow("visible"),this.setBkColor(e.backgroundColor_str),this.setupThumbnailsData(),"loadmorewithbutton"==f.thumbnailLoadingType_str?this.setupLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.setupLoadMoreOnScroll(),this.filterCategories(),this.startGetMousePosition(),this.setupNoSearch()},this.resizeAndPosition=function(){f.stageWidth=e.stageWidth,f.setDataForResize(),f.positionThumbnailsAndMain()},this.startGetMousePosition=function(){n.addEventListener?(f.isMobile_bl||n.addEventListener("touchstart",this.getMousePosition),n.addEventListener("mousemove",this.getMousePosition)):document.attachEvent&&document.attachEvent("onmousemove",this.getMousePosition)},this.getMousePosition=function(t){var e=FWDRLUtils.getViewportMouseCoordinates(t);f.isMobile_bl||(f.globalX=e.screenX,f.globalY=e.screenY)},this.setupThumbnailsData=function(){for(var t,e=[],i=0;i<this.totalThumbnails;i++)(t={thumbnail:void 0}).id=i,t.catId=this.sourcePlaylist_ar[i].catId,this.originalDataThumbnails_ar[i]=t,this.dataThumbnails_ar[i]=t;for(i=0;i<this.totalCats;i++)e[i]=0;for(i=0;i<this.totalThumbnails;i++)e[this.dataThumbnails_ar[i].catId]++;for(i=0;i<this.totalCats;i++)(t={loaded:0,limit:0}).total=e[i],t.isSelected=!1,this.loadMoreCatsData_ar[i]=t},this.search=function(t){f.searchValue=t,clearTimeout(f.updateSearch_to),f.updateSearch_to=setTimeout(function(){f.filterCategories()},200)},this.getThumbnail=function(t,e){var i={};return i.parent=this,i.id=e,i.catId=t,i.presetType_str=a.presetType_str,i.backgroundColor_str=a.thumbnailBackgroundColor_str,i.borderNormalColor_str=this.sourcePlaylist_ar[e].thumbnailBorderNormalColor||a.thumbnailBorderNormalColor_str,i.borderSelectedColor_str=this.sourcePlaylist_ar[e].thumbnailBorderSelectedColor||a.thumbnailBorderSelectedColor_str,i.borderSize=a.thumbnailBorderSize,i.borderRadius=a.thumbnailBorderRadius,i.thumbnailOverlayColor_str=this.sourcePlaylist_ar[e].thumbnailOverlayColor||a.thumbnailOverlayColor_str,i.thumbnailOverlayOpacity=a.thumbnailOverlayOpacity,i.spaceBetweenTextAndIcons=a.spaceBetweenTextAndIcons,i.extraButtonUrl_str=this.sourcePlaylist_ar[e].extraButtonUrl_str,i.extraButtonUrlTarget_str=this.sourcePlaylist_ar[e].extraButtonUrlTarget_str,i.thumbIconPathN_str=this.sourcePlaylist_ar[e].thumbIconPathN_str,i.thumbIconPathS_str=this.sourcePlaylist_ar[e].thumbIconPathS_str,i.thumbnailIconWidth=a.thumbnailIconWidth,i.thumbnailIconHeight=a.thumbnailIconHeight,i.linkIconPathN_str=a.linkIconPathN_str,i.linkIconPathS_str=a.linkIconPathS_str,i.spaceBetweenThumbanilIcons=a.spaceBetweenThumbanilIcons,i.hideAndShowTransitionType_str=a.hideAndShowTransitionType_str,i.textVerticalAlign_str=a.textVerticalAlign_str,i.imageTransitionDirection_str=a.imageTransitionDirection_str,i.thumbanilBoxShadow_str=a.thumbanilBoxShadow_str,i.textAnimType_str=a.textAnimType_str,i.disableThumbnails_bl=a.disableThumbnails_bl,i.useIconButtons_bl=a.useIconButtons_bl,i.alt_str=this.sourcePlaylist_ar[e].alt_str,i.linkUrl_str=this.sourcePlaylist_ar[e].url,i.linkTarget_str=this.sourcePlaylist_ar[e].target,i.contentOffsetY=a.contentOffsetY,i.buttonsOffest=a.buttonsOffestY,i.isVerticalType_bl=a.isVerticalType_bl,i.isDisabled_bl=this.sourcePlaylist_ar[e].disabled_bl,i.htmlContent1_str=this.sourcePlaylist_ar[e].htmlContent1_str,i.htmlContent2_str=this.sourcePlaylist_ar[e].htmlContent2_str,FWDUGPThumbnail.setPrototype(),thumbnail=new FWDUGPThumbnail(i),thumbnail.addListener(FWDUGPThumbnail.MOUSE_UP,this.thumbanilOnMouseUpHandler),this.addChild(thumbnail),thumbnail},this.thumbanilOnMouseUpHandler=function(t){for(var e=t.id,i=t.id,s=t.extraButton?"extraButtonLink":f.sourcePlaylist_ar[e].type_str,o=0;o<f.totalOriginalThumbnails;o++)o<i&&(f.sourcePlaylist_ar[o].type_str==FWDUGP.NONE||f.sourcePlaylist_ar[o].type_str==FWDUGP.LINK)&&(e-=1);"extraButtonLink"==s?a.isPintrest_bl?PDK.pin(f.sourcePlaylist_ar[t.id].thumbnailPath_str,f.sourcePlaylist_ar[t.id].rawDescription_str,f.sourcePlaylist_ar[t.id].pinLInk_str,function(){}):n.open(f.dataThumbnails_ar[t.id].thumbnail.extraButtonUrl_str,f.dataThumbnails_ar[t.id].thumbnail.extraButtonUrlTarget_str):"link"==s?n.open(f.dataThumbnails_ar[t.id].thumbnail.linkUrl_str,f.dataThumbnails_ar[t.id].thumbnail.linkTarget_str):f.dispatchEvent(r.OPEN_LIGHTBOX,{id:e})},this.updateCategory=function(t){this.catId_ar!=t&&(this.catId_ar=t,this.filterCategories(),this.positionThumbnailsAndMain(),this.dispatchEvent(r.CATEGORY_UPDATE))},this.stopToLoadImage=function(){clearTimeout(this.loadThumbnailId_to),f.image_img&&(f.image_img.onerror=null,f.image_img.onload=null)},this.startToLoadImage=function(t){f.image_img=new Image,f.image_img.onerror=f.onImageLoadErrorHandler,f.image_img.onload=f.onImageLoadHandler,f.image_img.src=t},this.loadThumbImage=function(){var t;f.stopToLoadImage();for(var e=0;e<f.totalCats;e++)if(f.loadMoreCatsData_ar[e].isSelected&&f.loadMoreCatsData_ar[e].loaded<f.loadMoreCatsData_ar[e].limit){t=e;break}for(e=0;e<f.tempTotalThumbnails&&(f.curDataThumbnail=f.tempPlaylist_ar[e],f.curDataThumbnail.catId!=t||f.curDataThumbnail.thumbnail);e++);f.startToLoadImage(f.sourcePlaylist_ar[f.curDataThumbnail.id].thumbnailPath_str)},this.onImageLoadErrorHandler=function(t){var e="Thumbnail image can't be loaded, probably the path is incorrect <font color='#FFFFFF'>"+f.sourcePlaylist_ar[f.curDataThumbnail.id].thumbnailPath_str+"</font>";f.dispatchEvent(r.ERROR,{text:e})},this.onImageLoadHandler=function(t){var e=f.getThumbnail(f.curDataThumbnail.catId,f.curDataThumbnail.id);f.loadMoreCatsData_ar[f.curDataThumbnail.catId].loaded++,f.curDataThumbnail.thumbnail=e,(f.originalDataThumbnails_ar[f.curDataThumbnail.id].thumbnail=e).hasImg_bl=!0,e.originalWidth=f.image_img.width,e.originalHeight=f.image_img.height,e.addImage(f.image_img),f.countLoadedThumbs++,f.isFirstThumbnailLoaded_bl||setTimeout(function(){f.firstThumbnailShowed_bl=!0},200),f.updateCurThumbnails(),f.positionThumbnailsAndMain()},this.updateCatsLimits=function(){var t=f.thumbnailsPerSet,e=0;if(this.showAllCategories_bl&&0==this.catId_ar[0]){if(0==this.loadMoreCatsData_ar[0].limit)for(;0<t&&e<this.totalCats;)this.loadMoreCatsData_ar[e].limit+t>this.loadMoreCatsData_ar[e].total?(t-=this.loadMoreCatsData_ar[e].total-this.loadMoreCatsData_ar[e].limit,this.loadMoreCatsData_ar[e].limit=this.loadMoreCatsData_ar[e].total):(this.loadMoreCatsData_ar[e].limit+=t,t=0),e++}else for(var i=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&this.loadMoreCatsData_ar[i].limit<this.thumbnailsPerSet&&(this.loadMoreCatsData_ar[i].limit=Math.min(this.loadMoreCatsData_ar[i].total,this.thumbnailsPerSet));for(i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit)},this.allowToLoadMoreThumbnails=function(){return this.totalLoadedThumbnails==this.totalThumbnailsLimit&&this.totalLoadedThumbnails<this.tempTotalThumbnails},this.loadMore=function(){for(var t=f.thumbnailsPerSet,e=0;0<t&&e<f.totalCats;)f.loadMoreCatsData_ar[e].isSelected&&(f.loadMoreCatsData_ar[e].limit+t>f.loadMoreCatsData_ar[e].total?(t-=f.loadMoreCatsData_ar[e].total-f.loadMoreCatsData_ar[e].limit,f.loadMoreCatsData_ar[e].limit=f.loadMoreCatsData_ar[e].total):(f.loadMoreCatsData_ar[e].limit+=t,t=0)),e++;for(var i=this.totalThumbnailsLimit=0;i<this.totalCats;i++)this.loadMoreCatsData_ar[i].isSelected&&(this.totalThumbnailsLimit+=this.loadMoreCatsData_ar[i].limit);f.loadThumbImage()},this.updateCatsData=function(){var t,e,i=[],s=[];f.loadMoreCatsData_ar=[];for(var o=0;o<f.totalCats;o++)i[o]=0,s[o]=0;for(o=0;o<f.totalThumbnails;o++)i[(t=f.dataThumbnails_ar[o]).catId]++,t.thumbnail&&s[t.catId]++;for(o=0;o<f.totalCats;o++)(e={}).loaded=s[o],e.limit=s[o],e.total=i[o],e.isSelected=!1,f.loadMoreCatsData_ar[o]=e},this.filterCategories=function(){var t,e,i=0;this.tempPlaylist_ar=[],this.playlist_ar=[],this.dataThumbnails_ar=[],f.stopToLoadImage();for(var s=0;s<f.sourcePlaylist_ar.length;s++)t=f.originalDataThumbnails_ar[s],f.sourcePlaylist_ar[s].titleText_str&&-1!=f.sourcePlaylist_ar[s].titleText_str.toLowerCase().indexOf(f.searchValue)?f.dataThumbnails_ar.push(t):t.thumbnail&&t.thumbnail.hide(!0);if(f.totalThumbnails=f.dataThumbnails_ar.length,this.updateCatsData(),this.showAllCategories_bl&&(i=1),this.showAllCategories_bl&&0==f.catId_ar[0]){for(s=0;s<this.totalThumbnails;s++)t=this.dataThumbnails_ar[s],this.tempPlaylist_ar.push(t),t.thumbnail&&(this.playlist_ar.push(t),t.thumbnail.show(!0));for(s=0;s<this.totalCats;s++)this.loadMoreCatsData_ar[s].isSelected=!0}else for(s=0;s<this.totalThumbnails;s++){t=this.dataThumbnails_ar[s],e=!1;for(var o=0;o<this.totalCats;o++)t.catId==f.catId_ar[o]-i&&(this.tempPlaylist_ar.push(t),t.thumbnail&&this.playlist_ar.push(t),e=this.loadMoreCatsData_ar[f.catId_ar[o]-i].isSelected=!0);e?t.thumbnail&&t.thumbnail.show(!0):t.thumbnail&&t.thumbnail.hide(!0)}this.tempTotalThumbnails=this.tempPlaylist_ar.length,this.totalLoadedThumbnails=this.playlist_ar.length,0==this.tempTotalThumbnails?(this.hasSearchResult_bl=!1,this.showNoSearch()):(this.hasSearchResult_bl=!0,this.hideNoSearch()),this.updateCatsLimits(),this.totalLoadedThumbnails<this.totalThumbnailsLimit?(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,300)):(f.updateCurThumbnails(),f.positionThumbnailsAndMain()),"loadmorewithbutton"==f.thumbnailLoadingType_str&&this.hideOrShowLoadMoreButton()},this.updateCurThumbnails=function(){var t,e=0;if(this.playlist_ar=[],this.showAllCategories_bl&&(e=1),this.showAllCategories_bl&&0==f.catId_ar[0])for(i=0;i<this.totalThumbnails;i++)(t=this.dataThumbnails_ar[i]).thumbnail&&this.playlist_ar.push(t);else for(i=0;i<this.totalThumbnails;i++){t=this.dataThumbnails_ar[i];for(var s=0;s<this.totalCats;s++)t.catId==f.catId_ar[s]-e&&t.thumbnail&&this.playlist_ar.push(t)}this.totalLoadedThumbnails=this.playlist_ar.length,this.totalLoadedThumbnails<this.totalThumbnailsLimit&&(clearTimeout(this.loadThumbnailId_to),this.loadThumbnailId_to=setTimeout(this.loadThumbImage,10)),"loadmorewithbutton"==f.thumbnailLoadingType_str?this.hideOrShowLoadMoreButton():"loadmoreonscroll"==this.thumbnailLoadingType_str&&this.loadInfinite()},this.setDataForResize=function(){if(this.stageWidth){this.totalColumns=Math.ceil((this.stageWidth-2*this.thumbsHOffset+this.thumbsHSpace)/(this.thumbnailMaxWidth+2*this.borderSize+this.thumbsHSpace)),this.thumbWidth=Math.floor((this.stageWidth-2*this.thumbsHOffset+this.thumbsHSpace-this.totalColumns*(this.thumbsHSpace+2*this.borderSize))/this.totalColumns),this.thumbHeight=Math.floor(this.thumbWidth*(this.thumbnailMaxHeight/this.thumbnailMaxWidth));var t=this.totalColumns*(this.thumbWidth+2*this.borderSize+this.thumbsHSpace)-this.thumbsHSpace;this.leftWidth=this.stageWidth-2*this.thumbsHOffset-t,this.prevStageWidth=this.stageWidth}},this.positionThumbnailsAndMain=function(){this.columnHeights_ar=[];for(var t=0;t<this.totalColumns;t++)this.columnHeights_ar[t]=0;for(t=0;t<this.totalLoadedThumbnails;t++)thumbnail=this.playlist_ar[t].thumbnail,thumbnail.used_bl=!1;this.positionThumbnails(),this.positionThumbnails(),this.positionThumbnails2(),this.totalHeight=Math.max(0,this.maxH*(this.thumbHeight+this.thumbsVSpace+2*this.borderSize)-this.thumbsVSpace+2*this.thumbsVOffset),f.hasSearchResult_bl||(f.totalHeight=f.thumbHeight,f.positionNoSearchLabel()),this.positionLoadMoreButton(),this.totalHeight+=this.offsetTotalHeight,this.setWidth(this.stageWidth),this.prevTotalHeight!=this.totalHeight&&(this.firstThumbnailShowed_bl&&this.animateParent_bl&&!this.isMobile_bl?(FWDAnimation.to(this,.7,{h:this.totalHeight,ease:Quart.easeOut}),clearTimeout(this.arangeFaterTweenId_to),this.arangeFaterTweenId_to=setTimeout(function(){f.stageWidth!=e.stageContainer.offsetWidth&&e.onResizeHandler()},700)):this.setHeight(this.totalHeight)),e.setFinalSize(),e.stageWidth=e.stageContainer.offsetWidth,this.prevTotalHeight=this.totalHeight,f.stageWidth!=e.stageWidth&&e.onResizeHandler()},this.positionThumbnails=function(){for(var t,e,i,s,o,a,n,r,l,d,h,u=[],c=[],_=0;_<f.totalColumns;_++)u[_]=f.thumbWidth+2*f.borderSize,0<f.leftWidth&&_<f.leftWidth&&u[_]++,c[_]=0==_?f.thumbsHOffset:c[_-1]+u[_-1]+f.thumbsHSpace;for(_=0;_<f.totalLoadedThumbnails;_++)if(!(h=f.playlist_ar[_].thumbnail).used_bl)if(i=Math.round(h.originalWidth/f.thumbnailMaxWidth),s=Math.round(h.originalHeight/f.thumbnailMaxHeight),e=1e3,1==i){h.used_bl=!0;for(var m=0;m<f.totalColumns;m++)f.columnHeights_ar[m]<e&&(e=f.columnHeights_ar[m]);for(m=0;m<f.totalColumns;m++)if(f.columnHeights_ar[m]==e){t=m;break}n=c[t],r=f.columnHeights_ar[t]*(f.thumbHeight+f.thumbsVSpace+2*f.borderSize)+f.thumbsVOffset,l=u[t],d=(f.thumbHeight+f.thumbsVSpace+2*f.borderSize)*s-f.thumbsVSpace,h.finalW=l,h.finalH=d,h.finalX=n,h.finalY=r,h.resizeAndPosition(),f.columnHeights_ar[t]+=s}else{o=!1;for(m=0;m<f.totalColumns-(i-1);m++){a=!0;for(var b=0;b<i;b++)f.columnHeights_ar[m]!=f.columnHeights_ar[m+b]&&(a=!1);a&&f.columnHeights_ar[m]<e&&(e=f.columnHeights_ar[m],t=m,o=!0)}if(o){h.used_bl=!0,n=c[t],r=f.columnHeights_ar[t]*(f.thumbHeight+f.thumbsVSpace+2*f.borderSize)+f.thumbsVOffset,l=-f.thumbsHSpace;for(b=0;b<i;b++)l+=u[t+b]+f.thumbsHSpace;d=(f.thumbHeight+f.thumbsVSpace+2*f.borderSize)*s-f.thumbsVSpace,h.finalW=l,h.finalH=d,h.finalX=n,h.finalY=r,h.resizeAndPosition();for(b=0;b<i;b++)f.columnHeights_ar[t+b]+=s}}for(_=f.maxH=0;_<f.totalColumns;_++)f.columnHeights_ar[_]>f.maxH&&(f.maxH=f.columnHeights_ar[_])},this.positionThumbnails2=function(){for(var t,e,i,s,o=[],a=0;a<f.totalColumns;a++)o[a]=f.thumbWidth+2*f.borderSize,0<f.leftWidth&&a<f.leftWidth&&o[a]++;for(a=this.maxH=0;a<this.totalColumns;a++)this.columnHeights_ar[a]>this.maxH&&(this.maxH=this.columnHeights_ar[a]);for(a=0;a<this.totalLoadedThumbnails;a++)if(thumbnail=this.playlist_ar[a].thumbnail,!thumbnail.used_bl){thumbnail.used_bl=!0;var n=Math.round(thumbnail.originalWidth/this.thumbnailMaxWidth),r=Math.round(thumbnail.originalHeight/this.thumbnailMaxHeight);this.totalColumns<n&&(n=this.totalColumns),t=this.thumbsHOffset,e=this.maxH*(this.thumbHeight+this.thumbsVSpace+2*this.borderSize)+this.thumbsVOffset,i=-f.thumbsHSpace;for(var l=0;l<n;l++)i+=o[l]+f.thumbsHSpace;s=(this.thumbHeight+this.thumbsVSpace+2*this.borderSize)*r-this.thumbsVSpace,thumbnail.finalX=t,thumbnail.finalY=e,thumbnail.finalW=i,thumbnail.finalH=s,thumbnail.resizeAndPosition(),this.maxH+=r;for(l=0;l<n;l++)this.columnHeights_ar[l]=this.maxH}},this.setupNoSearch=function(){this.noSearch_do=new FWDRLDisplayObject("div"),this.noSearch_do.setOverflow("visible"),this.noSearch_do.setDisplay("inline-block"),this.noSearch_do.getStyle().fontSmoothing="antialiased",this.noSearch_do.getStyle().webkitFontSmoothing="antialiased",this.noSearch_do.getStyle().textRendering="optimizeLegibility",this.noSearch_do.getStyle().whiteSpace="nowrap",this.noSearch_do.setBackfaceVisibility(),this.noSearch_do.getStyle().padding="",this.noSearch_do.getStyle().margin="",this.noSearch_do.screen.className=a.searchNotFoundClassName_str,this.noSearch_do.hasTransform3d_bl=!1,this.noSearch_do.hasTransform2d_bl=!1,this.noSearch_do.setAlpha(0),this.noSearch_do.setInnerHTML(a.searchNotFoundLabel_str),this.addChild(this.noSearch_do),setTimeout(function(){f.noSearch_do.w=f.noSearch_do.getWidth(),f.noSearch_do.h=f.noSearch_do.getHeight(),f.removeChild(f.noSearch_do)},70)},this.showNoSearch=function(){this.isNoSearchFoundShowed_bl||(this.isNoSearchFoundShowed_bl=!0,this.addChild(this.noSearch_do),this.positionNoSearchLabel(),FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:1,yoyo:!0,repeat:8}))},this.hideNoSearch=function(){this.isNoSearchFoundShowed_bl&&(this.isNoSearchFoundShowed_bl=!1,FWDAnimation.killTweensOf(this.noSearch_do),FWDAnimation.to(this.noSearch_do,.1,{alpha:0,onComplete:function(){f.removeChild(f.noSearch_do)}}))},this.positionNoSearchLabel=function(){this.isNoSearchFoundShowed_bl&&(this.noSearch_do.setX(parseInt((this.stageWidth-this.noSearch_do.w)/2)),e.menu_do.isShowed_bl&&this.centerWithMenu_bl?this.noSearch_do.setY(parseInt((this.totalHeight-e.menu_do.menuOffsetBottom-this.noSearch_do.h)/2)):this.noSearch_do.setY(parseInt((this.totalHeight-this.noSearch_do.h)/2)))},this.setupLoadMoreButton=function(){FWDUGPMenuButton.setPrototype(),f.loadMoreButton_do=new FWDUGPMenuButton(a.loadMoreButtonLabel_str,a.loadMoreButtonBackgroundNormalClassName_str,a.loadMoreButtonBackgroundSelectedClassName_str,a.loadMoreButtonTextNormalClassName_str,a.loadMoreButtonTextSeectedClassName_str),this.loadMoreButton_do.setLabel(a.loadMoreButtonLabel_str),this.loadMoreButton_do.getStyle().zIndex=20,this.loadMoreButton_do.addListener(FWDUGPMenuButton.MOUSE_UP,this.loadMoreButtonOnMouseUpHandler),this.hideLoadMoreButton(),this.addChild(this.loadMoreButton_do)},this.loadMoreButtonOnMouseUpHandler=function(){f.hideLoadMoreButton(),f.loadMore()},this.hideLoadMoreButton=function(){this.loadMoreButton_do&&this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!1,this.loadMoreButton_do.setVisible(!1))},this.showLoadMoreButton=function(){this.loadMoreButton_do&&!this.isLoadMoreButtonShowed_bl&&(this.isLoadMoreButtonShowed_bl=!0,this.loadMoreButton_do.setVisible(!0),this.isMobile_bl||(this.loadMoreButton_do.setAlpha(0),FWDAnimation.to(this.loadMoreButton_do,.6,{alpha:1})),this.positionLoadMoreButton())},this.hideOrShowLoadMoreButton=function(){f.allowToLoadMoreThumbnails()?f.showLoadMoreButton():f.hideLoadMoreButton()},this.positionLoadMoreButton=function(){this.isLoadMoreButtonShowed_bl&&this.loadMoreButton_do?(this.isMobile_bl||0==this.loadMoreButton_do.alpha?(this.loadMoreButton_do.setX(parseInt((this.stageWidth-this.loadMoreButton_do.w)/2)),this.loadMoreButton_do.setY(this.totalHeight+this.loadMoreButtonOffsetTop)):FWDAnimation.to(this.loadMoreButton_do,.5,{x:parseInt((this.stageWidth-this.loadMoreButton_do.w)/2),y:parseInt(this.totalHeight+this.loadMoreButtonOffsetTop)}),this.offsetTotalHeight=this.loadMoreButtonOffsetTop+this.loadMoreButtonOffsetBottom+this.loadMoreButton_do.h):this.offsetTotalHeight=0},this.setupLoadMoreOnScroll=function(){n.addEventListener?n.addEventListener("scroll",this.onScrollHandler):n.attachEvent&&n.attachEvent("onscroll",this.onScrollHandler)},this.onScrollHandler=function(){f.loadInfinite(),f.totalLoadedThumbnails==f.totalThumbnails&&(n.removeEventListener?n.removeEventListener("scroll",this.onScrollHandler):n.detachEvent&&n.detachEvent("onscroll",this.onScrollHandler))},this.loadInfinite=function(){if(this.allowToLoadMoreThumbnails()){var t=this.playlist_ar[this.playlist_ar.length-1].thumbnail;clearTimeout(this.loadInifiniteId_to),this.loadInifiniteId_to=setTimeout(function(){t.getGlobalY()+t.finalH<FWDRLUtils.getViewportSize().h&&f.loadMore()},500)}},this.init()};r.setPrototype=function(){r.prototype=new FWDRLDisplayObject("div","relative")},r.OPEN_LIGHTBOX="openLightbox",r.CATEGORY_UPDATE="categoryUpdate",r.ERROR="error",r.prototype=null,n.FWDUGPVerticalThumbnailsManager=r}(window);